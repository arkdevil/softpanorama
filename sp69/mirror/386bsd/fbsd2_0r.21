From: jkh@whisker.hubbard.ie (Jordan K. Hubbard)
Newsgroups: comp.os.386bsd.questions
Subject: Re: FreeBSD 2.0 and NFS - big woes
Date: 30 Nov 1994 00:01:54 GMT
Organization: Jordan Hubbard
Message-ID: <JKH.94Nov30000154@whisker.hubbard.ie>

In article <3bfod2$q35@sol.ctr.columbia.edu> wpaul@ctr.columbia.edu (Bill Paul) writes:

     *BUT* mount and mount_nfs do not understand the same options!

Ah HA!!  Bill!  Hero!  I didn't realize this (hangs head in shame).
Ok, as Inspector Clouseau used to say: "Now we're getting somewhere!"

I have changed the script to suggest the following:

                DEFAULT_VALUE="${NFS_OPTIONS}"
                if input \
"Do you wish to specify any options to NFS?  If you're installing
from a Sun 4.1.x system, you may wish to specify \`-P' to send
NFS requests over a privileged port (use this if you get nasty
\`\`credential too weak'' errors from the server).  When using a slow
ethernet card or network link, \`-r 1024 -w 1024' may also prove helpful.
Options, if any, should be separated by commas."; then
                        if [ "${ANSWER}" != "" ]; then
                                NFS_OPTIONS="${ANSWER}"
                        fi
                fi

I've checked and both `-P' and `-r 1024 -w 1024' seem to be valid
arguments to mount_nfs.  This will be in the updated floppy tarballs
I'll be rolling tomorrow morning.

   into the mount command!" And then they happily dropped it onto the FTP
   site without testing it.

Yeah yeah yeah.  I'd been up for three days, ok? :-)

   1) When prompted for server/filesystem to be mounted, type in the following:

      -P server:/fs

Hopefully all of this will be somewhat more straight-forward in the
new 2.0 floppies.

     This is another BSD4.4-ism: the syntax for specifying block sizes has
     changed. The old syntax used to look like this: rsize=4096, wsize=4096.
     This no longer works in FreeBSD 2.0. More on that in a second.

This and the non-priviledged-port-by-default are 4.4BSD'isms, just FYI.

Thanks, Bill, for this excellent synopsis of the problem.  Please post
it weekly.. :-)

Oh yeah, can I stick it in the FAQ?

					Jordan
--
Jordan K. Hubbard	FreeBSD core team	Clams are your friends

