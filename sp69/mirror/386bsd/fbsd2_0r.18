From: tas@minke.cc.utas.edu.au (Tasman Van Ommen)
Newsgroups: comp.os.386bsd.questions
Subject: FreeBSD 2.0 and NFS - big woes
Date: 29 Nov 1994 05:37:41 GMT
Organization: University of Tasmania, Australia.
Message-ID: <3been5$rp3@franklin.cc.utas.edu.au>

Well I have sunk well over a day into installing FreeBSD 2.0R and I am
completely stumped.  At no stage either during installation or afterwards
have I been able to get NFS to mount disks from our suns.  This was 
a particular pain during installation since I was intending to install
via NFS to reduce fragging of my disk.  Also, I have seen Jordan's
message about his built-in breakage of the NFS install and I tried his
fix without joy.  I have now put up 2.0 at least 3 times and rebuilt
the kernel at least once.  Here are the specifics - please read on if
you think you can help....

During install, I select NFS method and give the appropriate details
and get the message that the mount could not be performed.  OK -
I dropped out with esc-esc and tried manually mounting but without
joy.  The mount looks like it works, but a `df' shows no effect.
Worse, the mount point becomes locked - I cannot look inside it or
at it without a permission denied message (even as root).  The only
way to get a hold of the mount point is to reboot.  If I try to
umount, I get a message somthing like blahblahblah/dir/dir does not
exist (where blahblahblah is the machine).  Interestingly I looked
on the remote machine and it believes that my local machine does
have something mounted (sorry I forgot the command - I had a local
sysadmin helping at the time).

Next step - I bring up the whole shebang with ftp and still it fails
to nfs mount.  I now notice that /etc/netstart has nfs_client and
nfs_server set to "NO" - this can't help, so I change it and reboot.
No change.  Next I notice JKH's admission that he broke /stand/instdist.sh
and I decided to completely go back to scratch and re-install..
I esc-esc'd from the install and made the suggested changes
(add nfs_path=$answer after the line ^for this to work~\n"; then continue; fi)
but this was no help.

OK - now I conclude that the kernel that is provided must be lacking nfs,
so up goes the whole srcdist and I rebuild - knowing for sure that nfs
is now in, and /etc/netstart is set up ok.  Still no nfs.

Suggestions please?!  BTW NFS did work on my 1.1.5.1R system, and I have
been scrupulous in checking things like correct IP's and exports.

Tas

__________________________________________________________________________
Dr. Tas van Ommen
Glaciology Section
Australian Antarctic Division & Antarctic CRC
        	
Antarctic CRC                 E-mail: tas.vanommen@antcrc.utas.edu.au
University of Tasmania        Phone:         (002) 20 2981
GPO Box 252C, Hobart          Fax:           (002) 20 2902
Tasmania 7001, AUSTRALIA      International: (+61-02) 20 2981
__________________________________________________________________________

