
          Версия  1.0              г. Магадан                Октябрь  1993

                  Мем736  -  программа расширения оперативной памяти под DOS
     за счет видеобуфера адаптера EGA или VGA дисплея.



             Объем ОП  предоставляемой  под  DOS  увеличивается с 640 до 736
     Кбайт. Программа работает при наличии минимум 640 Кбайт оперативной па-
     мяти  и  адаптера EGA или VGA с объемом видеопамяти не менее 256 Кбайт.
     Так как в графических режимах адаптеры EGA и VGA используют свою память
     полностью,  то программы, использующие графику, будут располагать обыч-
     ным объемом памяти (640К). Все программы, работающие только в текстовых
     режимах, получают в свое распоряжение дополнительно 96 Кбайт памяти.

             Данная программа    является    усовершенствованием   программы
     EGA2MEM, опубликованной в SoftPanoram'е N 42 за 1992  год.  Автор  этой
     программы Савченко Максим Вячеславович не оставил,  к сожалению,  своих
     координат, сообщил только что живет в Волгограде.  При эксплуатации его
     программы были выявленны довольно досадные недостатки, как то:
             - при попытках запустить программу, использующую графические ре-
               жимы видеоадаптеров  EGA или VGA дисплеев,  компьютер сразу же
               зависает;
             - программа WpView.exe из пакета Norton Commander, которая вызы-
               вается простым нажатием клавиши F3, также вешает систему;
             - не работают многие утилиты из пакета Norton Utilities 6.01.

             В связи  с  обнаружением  такого  обилия  недостатков программы
     EGA2MEM, которые, тем не менее, не могли затмить ее достоинств, возник-
     ла насущная необходимость совершенствования. Но на протяженнии длитель-
     ного периода автор сохраняет инкогнито,  и в настоящее время обнаружить
     его месторасположение  не представляется возможным.  Естественно что на
     новые версии этого, очень полезного программного продукта, лично у меня
     не было никаких надежд. В конце концов я решился самостоятельно взяться
     за совершенствование этой программы. Сразу же приношу извинения Савчен-
     ко Максиму  Вячеславовичу за дизассемблирование кода его программы, так
     как, к сожалению она не была сопровождена исходником. Я не претендую на
     авторство идеи  подключения  памяти видеоадаптеров дисплеев EGA и VGA к
     оперативной памяти системы и методов  управления  ею.  Код  обработчика
     прерывания 10h  взят  мною из программы EGA2MEM и несколько усовершенс-
     твован (убранны некоторые ошибки и  некорректности,  добавлено отслежи-
     вание переключения видеоадаптера в различные режимы).  Остальные коды я
     нашлепал самостоятельно.

                  Программа Mem736, в отличие от EGA2MEM, отслеживает попыт-
     ки  переключения адаптера EGA или VGA мониторов в графический режим ра-
     боты,  и автоматически отключает дополнительную ( свыше 640 К ) память.
     По окончании программы, работающей в графике, восстанавливается доступ-
     ность памяти в адресах 0A0000 - 0B7FFF и производится ее  подключение к
     основной. Тем не менее, отдельные программы - не обязательно использую-
     щие графику - не удалось  заставить  правильно  работать  при  активной
     Mem736.  В  связи с чем автору пришла мысль отслеживать запуск программ
     на выполнение ( через прерывание 21h,  функция 4Bh ),  с тем чтобы  при
     попытках запустить программу, не желающую работать вместе с Mem736, ав-
     томатически отключать дополнительную память. Имена таких программ поль-
     зователь  может  самостоятельно  внести  в  специальный  файл  с именем
     Mem736.lpr,  который должен располагаться в одном каталоге с программой
     Mem736.com.  Структура  файла Mem736.lpr проста:  это обычный текстовый
     файл, в котором каждое имя программы занимает по одной строке. В строке
     перед  именем  и после него допускаются пробелы и знаки табуляции.  Ре-
     гистр символов несущественен.  При отключении дополнительной памяти те-
     ряется курсор, но это несущественно для большинства программ, так как в
     графических  режимах  его  нет  вообще,  а  для  такой  программы   как
     WpView.exe он совершенно ни к чему. Но если наличие курсора необходимо,
     например для текстового редактора Multi-Edit,  то  перед  именем  такой
     программы надо поставить символ '+'.

     Пример  файла  Mem736.lpr :

     WpView.exe
       + ME.com
       + checkit
      RaLLy.eXe

                 Желательно имена программ записывать вместе с расширениями,
     хотя допустимо их опускать.  Данная программа способна запомнить двести
     пятьдесят шесть имен,  при этом размер резидентной части, оставляемой в
     памяти постоянно,  напрямую зависит от количества имен.  На запоминание
     одного имени требуется в среднем тринадцать байт. Кроме этого, програм-
     ма корректно работает с переменными BIOS,  и поддерживает текстовые ре-
     жимы использующие 40 символов в строке.


     Опции программы:   /HELP,/H,/? - получение данной справки
                        /OFF        - дезактивирование резидентной программы
                        /ON         - активирование резидентной программы

                  При первом запуске программы без параметров она устанавли-
     вается в памяти резидентно, при этом считывается  и обрабатывается файл
     Mem736.lpr.


        ВНИМАНИЕ: Нельзя выгружать активную Mem736 с помощью RELEASE
                  т.к. не будет уменьшен размер памяти.
                  Лучше всего запускать программу Mem736 одной из последних,
                  непосредственно перед Norton Commander.


                  Автор не  возражает против свободного распространения дан-
     ной программы, модификации ее кода и изменения файла документации. Буду
     признателен за  конструктивную критику и пожелания.  Но должен сразу же
     предупредить о том,  что я не планирую продолжения  работы  над  данной
     проблемой, если она Вас заинтересовала,  то Вы имеете полное право вне-
     сения изменений  для  создания  удовлетворяющей  Вас  версии  вплоть до
     изменения копирайта.


     По всем вопросам обращаться на Вычислительный центр СВНЦ.
     Адрес:   г. Магадан,  ул. Портовая, 16, корп. 2, ВЦ СВНЦ.
     Телефон:  (413)3-05-38.(р), Андреев Александр Трофимович.
     Корреспонденцию можно отправлять по адресу:
     685000, г.Магадан, ул.Дзержинского,12-А,кв.34.

                  Всего хорошего !

     Октябрь 1993 г.
