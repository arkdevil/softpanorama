@echo off
:
:
:	Ð”Ð°Ð½Ð½Ñ‹Ð¹ BTM-Ñ„Ð°Ð¹Ð» (Ð¿Ð°ÐºÐµÑ‚ Ð½Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¾Ð¼ ÑÐ·Ñ‹ÐºÐµ 4DOS, ÑÑ€Ð°Ð·Ñƒ
: ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ð¹ÑÑ Ð² Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð½ÑƒÑŽ Ð¿Ð°Ð¼ÑÑ‚ÑŒ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‰Ð¸Ð¹ÑÑ  Ð½Ð°Ð¼Ð½Ð¾Ð³Ð¾ 
: Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ) Ð¿Ñ€ÐµÐ´Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð´ÐµÑ€ÐµÐ²ÑŒÐµÐ² ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð¾Ð² Ð¸ 
: ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð¾Ð²Ð¾Ð¹ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¾Ð¹ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ ZAP2.
:
: ÐÐ²Ñ‚Ð¾Ñ€: ÐšÐ¾Ñ…Ð¼Ð°Ð½ÑŽÐº Ð”.		  (C) 1990 COMpact Soft, Kiev
:
:
cls
set ~f=bright white on red
drawbox 6 12 12 68 0 %[~f] fill red
drawbox 7 14 11 66 2 %[~f] 
scrput 7 38 %[~f] ` Zap `
scrput 8 22 %[~f] You are about to ZAP WHOLE TREE from
scrput 8 39 bright yel on red ZAP WHOLE TREE
set ~d=%_cwds
set ~dd=%@substr[%[~d],47,-48]
iff %@substr[%[~dd],1,1] = : then
	set ~dd=%[~d]
else
	set ~dd=%@substr[%[~d],0,2]...%@substr[%[~dd],41,-42]
endiff
scrput 9 17 %[~f] %[~dd]
set ~d= ^ set ~dd=
set ~a=black on white
set ~o=1
gosub draw
:wait
Set ~k=
inkey %%~k >nul
iff %[~k]== then ^ set ~o=2 ^ goto Doit ^ endiff
iff %[~k]==@75 then
	iff %[~o]==2 then ^ set ~o=1 ^ gosub draw ^ endiff
endiff
iff %[~k]==@77 then
	iff %[~o]==1 then ^ set ~o=2 ^ gosub draw ^ endiff
endiff
iff %[~k]==O then ^ set ~o=1 ^ goto Doit ^ endiff
iff %[~k]==o then ^ set ~o=1 ^ goto Doit ^ endiff
iff %[~k]==C then ^ set ~o=2 ^ goto Doit ^ endiff
iff %[~k]==c then ^ set ~o=2 ^ goto Doit ^ endiff
iff ".%[~k]."==".." then ^ goto Doit ^ endiff
goto wait
:Doit
drawbox 6 12 12 68 0 white on black fill black
screen 15 1
iff %[~o]==1 then
	zap2 . /s/a >nul
endiff
QUIT
:draw
@echo off
scrput 10 35 %[~f] ` Ok   Cancel `
iff %[~o]==1 then
	scrput 10 35 %[~a] ` Ok `
else
	scrput 10 40 %[~a] ` Cancel `
endiff
return
