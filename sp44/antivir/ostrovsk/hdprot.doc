
                   ╔═══════════════════════════════════╗
                   ║    Драйвер защиты от записи       ║
                   ║            HDPROT  V8.15          ║
                   ╚═══════════════════════════════════╝

        Часто возникает проблема надежной защиты части винчестера от
        записи,  например,  только  диска  C:,  или  C:  и  D:,  где
        расположены  различные  системные  утилиты,  в  то время как
        остальные логические  диски (E:, F:  ...) в защите  не особо
        нуждаются,  так как  имеют часто  текстовые и  неисполняемые
        файлы, не заражаемые вирусами.


        HDPROT -  одна из немногих  защит от записи,  которая сумела
        устоять против многих опасных и обходящих защиты вирусов.


        Алгоритм защиты этой версии HDPROTa предельно прост:
                - находит  номер  цилиндра,  с  которого начинается
                  передаваемый в командной строке логический диск;
                - и  не   дает  производить   запись  на  цилиндры
                  винчестера,   номер   которых   меньше  найденного
                  цилиндра;
                - а теперь начинается самое главное - HDPROT не дает
                  обойти  это  место   вирусам  или  самостоятельным
                  программам-взломщикам.


        Некоторые указания по использованию:
              - Запуск   HDPROT   без   параметров   защитит   все
                установленные жесткие диски.
              - HDPROT   в   основном   расчитан   на   обыкновенную
                стандартную   разметку,   т.е.   с   0-го   цилиндра
                начинается логический  диск C:, затем  D:, E: и  так
                далее  по  порядку  возрастания  номеров  цилиндров;
                потом также продолжается на следующем жестком диске.
              - При повторном  запуске HDPROT просто  передает новое
                заданное  значение  первого   открытого  для  записи
                логического диска, уже не модифицируя память.
              - В  связи с  вышесказанным, запуск  HDPROT c: откроет
                все диски для записи.
              - На    HDPROT   "ругаются"    некоторые   резидентные
                антивирусные  программы,  потому  что  он вешается в
                последний килобайт памяти,  так как оставлять HDPROT
                в резиденте посреди памяти не было смысла, поскольку
                его  все  равно  нельзя  потом  выгружать, например,
                программой RELEASE.


        ЗАЩИТА ОТ ЗАРАЖЕНИЯ:
                HDPROT.COM  защищен  от  компьютерных  вирусов - при
                обнаружении вируса выдается предупреждение:

                   ATTANTION!!! Program INFECTED!!!
                   Press any key to continue...

                Однако   не  стоит   забывать  о  вирусах-невидимках
                (Stealth),  поскольку проверка  осуществляется путем
                проверки кода  данной программы на  диске, и если  в
                памяти вирус-невидимка, то, возможно, предупреждение
                о заражении не выдастся.

                Защита  в любом  случае будет  инсталироваться, если
                Вы,    конечно,   не    прервете   программу   после
                предупреждения.

                Размер незараженного файла HDPROT.COM V8.15 - 3773 байта.


        Не рекомендуется:
                запускать  HDPROT  после  программ,  перехватывающих
                прерывания   работы  с   дисковыми  устройствами   и
                клавиатуры (в частности прерывания 9 и 13h), которые
                могут быть выгружены из памяти, например, программой
                RELEASE, так как после выгрузки будет разрыв цепочки
                выполнения  этих  прерываний,  что  может привести к
                зависанию системы.


        Используемые опции:
                /d - инсталяция HDPROT будет произведена без
                     сообщений  выполняемых функций  в левом верхнем
                     углу экрана.

                /f - изменяет эффективную скорость работы компьютера,
                     аналогично    утилите    Волынского    В.В.   -
                     SPRINT.COM.  Однако,  данная  опция  в основном
                     существенна   на   компьютерах   типа   PC  XT.
                     Эффективное  быстродействие   на  5-10%  больше
                     стандартного.

                /k<key> - задается сканкод  клавиши-переключателя,
                     то   есть   клавиши,    при   отжатии   которой
                     инвертируется  режим  защиты;  по  умолчанию  -
                     клавиша  <Scroll  Lock>  (из  буфера клавиатуры
                     клавиша   не    удаляется,   чтобы,   например,
                     <Scroll_Lock>  изменил статус  клавиатуры). При
                     отключении защиты подается сигнал частотой 6000
                     герц,  при обратном  включении -  частотой 1000
                     герц.

                /c - выдается физический номер найденного цилиндра
                     по заданному логическому диску.


        Значения индикатора в левом верхнем углу экрана:
                Если  горит  большая  буква,  значит  идет работа на
                винчестере,  если маленькая,  то работа  на дискете.
                Функции записи и форматирования изображаются желтыми
                буквами  на  красном  фоне,  остальные  (безопасные)
                функции - зелеными буквами на черном фоне.

                Обозначение Функция     Назначение

                    I  i    00h (00)  Reset Fixed Disk/Diskette System
                    S  s    01h (01)  Get Disk System Status
                    R  r    02h (02)  Read Sectors into Memory
                    W  w    03h (03)  Write Sectors from Memory
                    V  v    04h (04)  Verify Sectors
                    F  f    05h (05)  Format Cylinder
                    F  f    06h (06)  Format Track and Set Bad Sector Flags
                    F  f    07h (07)  Format Disk Starting at Cylinder
                    P  p    08h (08)  Get Current Drive Parameters
                    I  i    09h (09)  Initialize Fixed Disk Tables
                    R  r    0Ah (10)  Read Long
                    W  w    0Bh (11)  Write Long
                    S  s    0Ch (12)  Seek to Cylinder
                    I  i    0Dh (13)  Alternate Disk Reset
                    R  r    0Eh (14)  Read Sector Buffer
                    W  w    0Fh (15)  Write Sector Buffer
                    T  t    10h (16)  Test for Drive Ready
                    D  d    12h (18)  Reserved for Diagnostics
                    D  d    13h (19)  Reserved for Diagnostics
                    D  d    14h (20)  Reserved for Diagnostics
                    L  l    16h (22)  Change Line Status
                    P  p    19h (25)  Park Heads
                    F  f    1Ah (26)  Format Unit (PS)


        ВНИМАНИЕ:
                Если  же  необходимо  что-то  записать на защищенную
                область, необязательно запускать HDPROT, чтобы снять
                там защиту,  можно на время  записи отключить защиту
                нажатием   клавиши-переключателя,   тогда   в  левом
                верхнем углу экрана при работе с диском будет гореть
                предупреждающий  символ,  что  защита  отключена. По
                окончании записи защиту следует включить.

                Если клавиша-переключатель <Scroll Lock>, то при
                <Ctrl>+<Scroll Lock> и при <Alt>+<Scroll Lock>
                режим защиты не инвертируется, так как при:
                - <Ctrl>+<Scroll Lock> - на многих компьютерах
                                         не изменяется режим Scroll Lock;
                - <Alt> +<Scroll Lock> - может конфликтовать с утилитой
                                         Гуртяка  Д.А.  CALC.COM,  и
                                         другими, вызывающимися этой
                                         же комбинацией клавиш.

        ПРИМЕЧАНИЕ:
                HDPROT   нигде   не   записывает   каких-либо  своих
                установок, а только загружается  в память, почти как
                обыкновенная   резидентная   программа   (только   в
                последний  килобайт  памяти),  и  если  Вы не хотите
                работать  с  данной  утилитой,  то достаточно просто
                презагрузить компьютер.

        ▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄

        От автора:
                Благодарю всех, кто высказывал замечания и пожелания
                к предидущим версиям данной программы.

                Конечно  же есть  способы обойти  данную защиту, но,
                однако, подавляющее большинство вирусов такую защиту
                "взломать" не могут.

                Буду очень рад, если моя программа вам пригодится, а
                также учту все новые пожелания в последующих версиях
                защиты.


                                Elisoft Computer Group,1991.

                                Островский Константин Эдуардович.
                                Телефон: (044-Киев) 443-29-45.


        ╔═══════════════════════════════════════════════════════════╗
        ║   Разработчик не имеет возражений против свободного рас-  ║
        ║   пространения и использования представляемой программы.  ║
        ╚═══════════════════════════════════════════════════════════╝

        ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
