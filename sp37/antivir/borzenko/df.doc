*******FREEWARE********FREEWARE********FREEWARE********FREEWARE*******
		
		НЕМНОГО О ПРОГРАММЕ DF (Defense of Fool)
		
        Обилие  небольших  программ,   предназначенных  для   блокировки
"винчестера" от записи, защиты его разделов или директорий, объясняется,
по-видимому   тем,   что   "писишки"   нередко  применяются   в  режиме
коллективного пользования.  Часто такой  режим работы  просто необходим,
например, при проведении лабораторных и практических работ со студентами
или слушателями. Однако, тем, кому приходится работать на таких машинах,
нет  нужды  напоминать  о   всех  "прелестях"  такого   "коллективизма".
Знакомство  с   новой  "техно-крысиной"   продукцией  здесь   вовсе   не
понаслышке.  Ввиду  слабого  пока  развития  средств   телекоммуникаций,
основным  путем   притока  "неприятностей"   является  "информация"    с
флоппи-дисков.
        Несложно  написать  программу  запрещающую  чтение или запись на
флоппи-диски.  Однако,  в  тех  ситуациях,  когда  студенту  (слушателю)
необходимо работать со  штатными дискеттами, это  не очень удобно.  Ведь
что  мешает  обучаемому  пользователю  использовать  в  этом случае свою
дискетту вместо учебной (посмотреть, что ему накануне записал приятель)?
В этом случае, по мнению автора, на помощь может прийти  психологический
эффект. Если на приводе читается одна дискетта и не читается другая,  то
удивления это обычно  ни у кого  не вызывает (  все списывается либо  на
"дрянную" дискетту,  либо на  такой же  дисковод). Таким  образом, нужно
написать   простую   TSR-программу,   которая  будет  отличать   штатные
(помеченные) дискетты от "чужих", реагируя на них соотвественным образом.
        Идея положенная в основу такой программы базируется на следующем.
При  обращении  к   дискетте  DOS,  хотя   бы один раз, должна  прочесть
BOOT-сектор  этой    дискетты,  где   хранится   необходимая   служебная
информация. Если в этот сектор, для штатных дискетт разумеется, записать
несколько  байт  информации  на  неиспользуемое  место,  то   перехватив
прерывание 13h  и сравнивая  известные значения,  можно легко определить
"чужая" это дискетта или нет. В качестве парольной строки  программа  DF
использует ASCII-строку 'ABCDE',  причем  смещение  начала  этой  строки
в BOOT-секторе -  1F8h.  Парольную  строку на дискетте   можно записать,
воспользовавшись одной  из утилит  типа NU (Norton Utilities), PC  Tools
или подобной. После загрузки программы защита включена  и,следовательно,
позволяет читать только "меченные" дискетты.   "Горячие клавиши"  ALT  и
"серый" плюс(+)   снимают защиту или  устанавливают ее, взависимости  от
текущего состояния. После  возникновения ошибки, в  случае использования
"нелегальной"  дискетты,  необходимо  снять   защиту  (ALT  +), прочесть
любую дискетту,  после чего  защиту можно снова установить (ALT  +). Это
касается только привода B для PC/AT. Кстати, простота программы отражена
и в ее названии - Defense of Fool (DF).



                        Андрей Е. Борзенко
                        р.т. (095)-556-42-25
                        г.Жуковский
