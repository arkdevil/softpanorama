                                               Сергей Чернивецкий,
       Научный центр СП "Диалог" при ВЦ АН СССР, тел.(095)137-0150

        Некоторые сведения об антивирусной программе Anti-dir

     Программа Anti-dir предназначена для обнаружения и обезврежи-
вания вируса Dir,  а также для излечения зараженных  этим  вирусом
файлов.  Программа  сделана  как  временное дополнение к программе
Д.Н.Лозинского Aidstest и распространяется как бесплатное приложе-
ние к ней до тех пор,  пока соответствующие средства не появятся в
самой программе Aidstest.

******************************************************************
*      Сама   программа   Anti-dir   распространяется   свободно *
* (Freeware).  Тем не менее,  всем ее пользователям  (и в первую *
* очередь тем,  для кого она оказалась полезна ! )  предлагается *
* оформить подписку на программу Aidstest или  приобрести  ее  в *
* индивидуальном  порядке  для  личного использования у Научного *
* центра  СП "Диалог"  при  ВЦ АН СССР,  тел.(095)137-0150.  При *
* оформлении  подписки вы будете получать в комплекте с Aidstest *
* также и новые (улучшенные) версии Anti-dir,  а в последствии - *
* аналогичные  средства  непосредственно в составе Aidstest.  По *
* вопросам оформления подписки см. "Известия", 1 августа 1991 г. *
* (московский выпуск) или 2 августа 1991 г. (союзный выпуск).    *
******************************************************************

     При запуске  программы Anti-dir без параметров выдается крат-
кая справка.  Перед использованием программы ни в коем  случае  не
следует возвращать потерянные кластеры (скажем,  командой ChkDsk),
поскольку именно в них хранятся оригинальные  файлы,  подвергнутые
заражению. После излечения,  наоборот, следует провести сборку по-
терянных кластеров.  Лечение можно проводить в зараженной системе,
но после лечения рекомендуется перезагрузиться.
     В некоторых  случаях  сам вирус на диск не записывается,  и в
этом случае восстановление файлов возможно только с некоторой  до-
лей вероятности,  которая тем выше,  чем больше зараженных (испор-
ченных вирусом ?) файлов на диске.  В такой ситуации программа вы-
дает эту вероятность и просит разрешить восстановление файлов. Как
правило, попытка восстановления испорченных файлов все же предпоч-
тительнее, чем их безусловное удаление.  В то же время,  при малом
числе файлов их восстановление может  быть  осуществлено  вручную,
путем просмотра  потерянных кластеров (после команды ChkDsk),  или
же путем простого переименования файлов  в  инфицированной системе
(см. ниже).

 Признаки присутствия вируса Dir - в порядке убывания значимости

1. Резидентный,  заражает диск целиком (и жесткий, и дискеты), по-
   ражает com- и exe-файлы. Тела файлов при этом не меняются, но в
   каталогах корректируется ссылка на файл, так чтобы указывать на
   сам вирус.

2. Об очень вероятном его присутствии говорит большое число ошибок
   в структуре диска, выдаваемых командой ChkDsk.

3. При  копировании  в  чистой системе (загруженной со стандартной
   заклеенной дискеты) файлов с зараженного компьютера, копируется
   тело вируса (а не файла). Длина получившегося файла - 1024 бай-
   та или больше (в зависимости от  размера  кластера  копируемого
   диска).  Если  в  чистой системе с вашего компьютера копируются
   файлы по 1024 (или 2048 и т.д.) байта  -  это  веский  довод  в
   пользу присутствия вируса Dir.

4. Вирус Dir записывает свое тело в  последние  несбойные  секторы
   диска и занимает 1-2 кластера. Размер тела вируса 1024 байта.

4. Происходит (невосстановимая) порча (части) файла, если он нахо-
   дится в последних кластерах диска,  например при сильном запол-
   нении диска).

5. В отдельных случаях возможно зависание (незагрузка) DOS, напри-
   мер при сильном заполнении диска.

                    Дополнительная информация

6. Заражает диск при чтении. Может неправильно записаться на диск,
   заразив при этом файлы,  вследствии чего, например, загрузочная
   дискета перестанет загружаться.  Файлы заражает при (любом) об-
   ращении к каталогу.

7. Умышленных  средств  порчи информации в вирусе не предусмотрено
   (кроме указанных в п.4).  Вы можете и не подозревать о его при-
   сутствии и не иметь никаких неприятных эффектов, заражая всех и
   вся,  пока однажды не запустите ChkDsk с параметром /f (или оп-
   тимизацию диска). После этого все (зараженные) файлы будут без-
   возвратно потеряны.

8. В принципе, для лечения можно в ЗАРАЖЕННОЙ системе просто пере-
   именовать все  com-  и  exe-файлы  в файлы с другим расширением
   (или же заархивировать их).  При этом сам  вирус  их  исправит.
   После  этого  загрузиться  с  ЧИСТОЙ  системы,  в ней выполнить
   ChkDsk/f,  чтобы убрать тело вируса с  диска,  и  переименовать
   файлы обратно (или соответственно разархивировать).  Либо поль-
   зуйтесь программой Anti-dir, которая умеет восстанавливать фай-
   лы и в зараженной,  и в незараженнай системе, а также и при от-
   сутсвии самого вируса на диске.
