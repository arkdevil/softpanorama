
                                       ( файл RLOCK.DOC с английского языка
                                         перевел с сокращениями  Шеховцов А.Л.)



               RLOCK - замок для файлов с атрибутом ReadOnly.


   Утилита RLOCK.EXE не входит в дистрибутив MS-DOS 4.01 и поставляется
отдельно как SHAREWARE независимым производителем - фирмой DATASTORE (tm).
   RLOCK использует недокументированное свойство MS-DOS для контроля за
снятием атрибута ReadOnly с файлов.

   Вызов RLOCK:

                  RLOCK [параметр]

 где параметр:

                  on  - запретить снятие атрибута ReadOnly с файлов

                  off - разрешить снятие атрибута ReadOnly с файлов



    Вызов RLOCK без параметра покажет текущее состояние контроля за атрибутом
ReadOnly.

    После установки RLOCK ON и до его отмены с помощью RLOCK OFF или до
перезагрузки системы попытка снять атрибут ReadOnly с файла завершится
неуспехом, причем как признак этой попытки рамка дисплея EGA/VGA окрасится
в красный цвет. Этот цвет проще всего убрать, дав команду MODE 80.
    Программе, попытавшейся снять атрибут ReadOnly с файла, будет возвращен код
ошибки "Access denied".
    Внимание! Не все программы анализируют возвращаемый код ошибки при
изменении атрибута файла.

(далее идет реклама других продуктов DATASTORE, CopyRight, адрес, просьба
выслать несколько долларов по этому адресу, если RLock понравился. Для
экономии места все это опущено)


Примечание переводчика.

    Поскольку на сегодняшний день 99% файловых вирусов заражают файлы с
помощью DOS-функций, а не прямой записью на диск, то RLOCK будет полезен
при борьбе с ними. Необходимо пометить все системные и прочие исполняемые
файлы атрибутом Read Only и вставить в файл AUTOEXEC.BAT строку RLOCK ON.
    Интересно то, что и при запуске RLOCK ON на уже зараженной машине вирус
не сможет размножаться дальше.
    Любопытно и то, что утилита RLOCK не резидентна - следовательно, не
занимает под себя ни одного дополнительного байта столь драгоценной
оперативной памяти.




