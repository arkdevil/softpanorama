
     UPDATE.DOC, ARJ 2.39                                   August 1992


     This documents new or updated information since ARJ 2.30.


     ** IMPORTANT NEWS ****************************************************

        ARJ 2.39 has improved speed in compression and extraction
        over ARJ 2.30.  It uses a modification of the method 3
        compressor to save memory and achieve more speed.

        The self-extractor modules have been changed significantly.  The
        large ARJSFX module will NOT prompt for permission to continue
        the extraction if the "-e", "-x" or "-y" arguments have been
        specified.  The small ARJSFXJR module will NOT count the
        skipping of files that already exist as errors.  This skipping
        will generate a DOS errorlevel of 1 and errors will generate a
        DOS errorlevel of 2.

        Older versions of REGISTER.EXE will NOT register stamp 2.39
	properly.

        To prevent novices from using ARJ to update a multiple volume
        archive, ARJ will not allow a multiple volume update unless the
        new "-vu" option has been specified.

        The "-y" option no longers suppresses the multiple volume prompt
        when the volume resides on a removable media drive such as a
        diskette drive.  You can suppress the volume prompt with "-jyv".

        The processing of "-jy" and "v" switch options have changed to
        be consistent with other switch processing.

	The ARJ yes/no query prompts have been changed to have a local
	and a global effect.  See the USER PROMPTS section below.

	A new user prompt has been added just before asking for a new
	filename during extraction when not overwriting.

        When archiving to diskettes, it is HIGHLY recommended that the
        option "-jt" be used.  This helps spot BAD diskettes or diskette
        drives.  It is HIGHLY recommended that the "-jt" option be used in
        a Windows or network environment.

	The command "ARJ e -d archive *.*" will now prompt for permission
	to complete the deletion.

	Unless the "-jr" (recover) switch is used, ARJ will delete any file
	extracted with a CRC or Bad file data error.

	The "m" (move) command and "-d" option will NOW delete directories
	selected with the "-a1" option.

        UNERASE or UNDELETE commands do not always recover a file
        correctly.  This will result in damaged archives.  This is true
        for all archive types.  You should always test an archive after
        unerasing it.

	If you use the software disk cache, HYPERDISK, see the KNOWN ARJ
	ISSUES section in ARJ.DOC for important information.

     **********************************************************************


     ERROR CONDITIONS

        ARJ 2.39 now captures DOS critical errors (Abort, Retry, ...) by
        default.  You can disable this feature with the option "-&1".  The
        ARJ critical error handler asks the user about retrying the
        operation.  After a failed retry operation, you may have to answer
        "n" several times to cleanly terminate the error situation.


     USER PROMPTS

	The ARJ user prompts have been improved to provide more
	flexibility.  In addition to the normal yes and no responses, ARJ
	also accepts the following responses: quit, always, skip, and
	global.

	"Global" sets ARJ to inhibit all subsequent user prompts by assuming
	YES for all queries as if "-y" were specified.

	The "Always" response has changed.  It now sets ARJ to assume YES
	for subsequent queries of the same class.  For example, answering
        "Always" to the overwrite query will assume YES for ALL subsequent
	overwrite queries.

	"Skip" sets ARJ to assume NO for ALL subsequent queries of the same
	class.

	Subsequent user prompt messages will still be output to the screen
	after the "always" and "skip" responses but no user response will be
        accepted.


     ARJ COMMAND LINE PROCESSING

	The option "-x-" will now ignore any previous "-xfilename" options.


     ARJ COMMANDS

     "a" command

        When adding files that replace files in an archive, ARJ will now
        display a "Replacing" message to indicate an overwrite.


     "p" command

        When using the ARJ "p" command to redirect output to a viewer
        program such as "LIST", ARJ will now set the date-time stamp of
        the intermediate temporary file to the date of the archived file
        as opposed to the current date and time.


     ARJ SWITCHES

     "-&1" switch

        The "-&1" switch will disable any ARJ critical error handler.  All
        critical error handling will revert to the DOS "Abort, Retry, ..."
        handling.


     "-d" switch

	The "-d" switch when used during extraction with the wildcard "*.*"
	will prompt the user for permission to delete the files.  This
	prompt can be suppressed with the "-y" or "-jyd" options.


     "-i2" switch

	The "-i2" switch sets ARJ to display a combined percentage and
	bar progress display.


     "-m" switch

	The "-m1" and "-m2" compression methods have been modified to
	improve the compression ratios.


     "-od" switch

	The "-od" switch sets ARJ to select files no older than the
	specified number of days.  The days are calculated from midnight.

	Examples:  ARJ a archive -od0	 select files modified today
		   ARJ a archive -od1	 select files modified yesterday
					 and today


     "-v" switch

        When the multiple volume ARJ files to be used are located on drives
        with removable media (diskette drives, etc.), ARJ will ALWAYS
        PROMPT for the next diskette even with the "-y" option specified.
        You can always suppress the next volume prompt with the "-jyv"
        option.  At DOS versions before 3.0, only drives A and B are
        considered removable.

        The "r" modifier allows the reservation of disk space on the FIRST
	volume.  The number after the "r" specifies the space to reserve.
	This is useful for software installation volumes.

	Example:  ARJ a install -v360r50K   make first volume 50000 bytes
					    smaller than 360K.

        The "u" modifier allows the updating of multiple volume archives.
        However, this functionality is NOT supported.

        Example:  ARJ u archive -v360u

	The "-v" switch now accepts its modifiers in any order.  The "s"
	modifier must be last because any succeeding text is considered the
	system command to execute.

	Examples:  ARJ a volume -vavw	     beep, autosize, whole files
		   ARJ a volume -vavsDIR     beep, autosize, execute DIR


     "-w" switch

	When using the "-w" switch while archiving to multiple volumes, ARJ
	will check the available disk space in the work directory.  If
	there is not enough space, ARJ will prompt for permission to
	continue.  This prompt can be suppressed with the "-y" and "-jyd"
	switches.


     "-y" switch

	The "-y" switch will no longer suppress the "-v" next volume prompt
        when the archive is located on a drive with removable media such as
        a diskette drive.


     "-ja1" switch

	The "-ja1" switch will suppress the display of the archive comment.


     "-jn" switch

	The "-jn" switch is used to restart a multiple volume archive.	The
        index file created by the "-ji" switch at ARJ 2.39 can be used to
	facilitate restarting.	Please note that index files created by
	older versions of ARJ will not work with this restart method.  This
	method uses the "-jn" syntax without a filename.  The previously
	written index file is scanned to determine the restart information.

	To use this method of restarting, you must specify the "-ji" switch
	to build an index file while archiving to multiple volumes.  To
	restart an interrupted sequence, simply specify the EXACT SAME
	command line as before and add "-jn".  ARJ will determine the
	archive name, the restart filename, and the restart file position.

	Example:  ARJ a a:volume -va c:\*.* -r -jiINDEX.FIL
		  ARJ a a:volume -va c:\*.* -r -jiINDEX.FIL -jn


     "-jp" switch

	The "-jp" switch will be ignored if the ARJ output has been
	redirected as in "ARJ l archive -jp > dump".


     "-jr" switch

	The "end of file" error message will no longer be displayed when
	using the "-jr" option on a valid ARJ archive.

        ARJ will properly continue to the next volume when using the "-jr"
        option.

     "-jy" switch

	The "-jy" switch options are now parsed like other switches with
	regard to toggling and the "+/-" modifiers.  You can also specify
	multiple occurrences of the "-jy" options.

	Examples:  -jyo -jyo	evaluates to no change
		   -jyo -jyo+	evaluates to suppress overwrite prompt
		   -jyo+c+y+	evaluates to suppress overwrite and create
				prompts and use single key input mode


     "-hc" switch

	The "-hc" switch sets ARJ to execute a DOS command at the start of
	the execution of ARJ immediately after the command line switch
	options have been processed, but before the wildcard search is
	started.  This can be used to clear the screen to hide the command
	line or to provide a pause option to allow swapping diskettes.

	Examples:  ARJ a -hcCLS archive -gpassword
		   ARJ a -hcPAUSE archive *.*


     "-he" switch

	The "-he" switch sets ARJ to abort with an error code of 4 when
	processing a possibly ARJ-SECURED archive.  This is useful as a
	REARJ.CFG option for ARJ.  This will prevent REARJ from converting
	an ARJ-SECURED archive to the same or another format.

	Examples:  ARJ l secured.arj -he


     "-hi" switch

	The "-hi" switch when used with the "-ji" switch sets ARJ to
	include the file date-time stamp, the original file size, the
	compressed file size, the compression ratio, and the filename in
	the index file.

	Example:  ARJ a a:backup c:\*.* -r -va -jiINDEX -hi


     "-hs" switch

        The "-hs" switch sets ARJ to disable its file sharing support.
	This may be necessary for some unusual applications.


     "-hw" switch

        The "-hw" switch sets the ARJ w command to display the
        "Searching ..." filenames messages in a scroll saving format.
        Filenames of files that do not contain string matches will be
        overwritten on the screen.

        The "-hw1" switch sets the ARJ w command to ONLY display the
        "Searching ..." filenames messages for files that contain string
        messages.


     ARJ AGENTS/DISTRIBUTORS:

        The following are authorized agents for ARJ.  They provide local
        ARJ registration and ARJ technical support.  Customers in the
        following countries should direct all inquiries to the respective
        agents.


	In Australia:

	Christian Kraus 		 Work Phone: 61-2-564-2545
	Online-Tronics				Fax: 61-2-560-5755

        Postal Address:                    BBS Name: Ontron Australia BBS
	P.O. Box 112			 Data Phone: 61-2-564-2172
	Westgate NSW 2048			     (300-14400 V.32BIS)
	Sydney, Australia

        Street Address:
	1st Floor
	45-49 Crystal Street
	Petersham NSW 2049


	In Germany:

        C.A.T. Kommunikations-System            Tel: +49-6192-41360
        Systemberatung A. Dunkel                     +49-6192-940110
        Robert-Schuman-Ring 37                  Fax: +49-6192-940116
        D 6239 Kriftel, Germany            Internet: arj@cat.de
                                             SubNet: arj@cat.sub.org
                                            FidoNet: 2:243/12
                                            Mailbox: (06192) 42054 (2400 Baud)
                                                     (06192) 42057 (19200 PEP)
                                                NUA: 45619270055


        In the United Kingdom:

        Alan Stocker                            Tel: 0223 208288
        Precision Software Publishing           Fax: 0223 208089
        3, Valley Court Offices,                BBS: 0223 208094
        Lower Road, Croydon, Nr. Royston,
        Hertshire SG8 0HF                Compuserve: 70007,5562
        United Kingdom                               100034,2353


        In the United States:

	Robert K Jung			 Compuserve: 72077,445
	2606 Village Road West		   Internet: robjung@world.std.com
	Norwood, Massachusetts 02062
        USA


     end document

