Cофтпанорама 1990, No. 4 (8) ** ASM_CLUB **  Составитель: Н.Н. БЕЗРУКОВ
***********************************************************************
                                      Приводимые в данном разделе замет-
                                 ки  выражают  мнение авторов,  которое,
                                 естественно, может не совпадать с точ-
                                 кой зрения составителя.
***********************************************************************



                                                   Кохманюк Д.С.


      ОБ ИСПОЛЬЗОВАНИИ ПРЕПРОЦЕССОРА BSP - СТРУКТУРНЫЙ АССЕМБЛЕР



     Мной  с  17.03.90  используется  препроцессор  Block Structure
Processor (BSP), позволяющий удалить  80% меток в Ваших  программах
на языке ассемблер и тем приблизить его к языкам высокого уровня.

    Командная строка :
            BSP <исходный_файл>[.bsp] [<выходной_файл.asm>]

    Воспринимаемые управляющие конструкции :

            $IF   <набор флагов для команды условного перехода>
          . . .
       [$ELSE
          . . . ]
       $ENDIF

            $DO
          {. . .
          [$LEAVE <набор флагов>]
          . . .}
       $ENDDO [мнемоника команды, закрывающей цикл]

!!!   по умолчанию $ENDDO JMP, допускается любая команда
      (например, $ENDDO LOOP, $ENDDO JNE).
      После указанной команды  приписывается метка,
      создаваемая препроцессором вместо $DO.

    Управляющие конструкции BSP  воспринимаются на любом  регистре,
операнды всех конструкций переводятся в верхний регистр.

    В  выходной  поток  записываются  превращенные  в   комментарии
операторы BSP, а затем порожденные ими метки или команды.

   Метки генерируются по принципу:
    <имя входного файла><ключевое слово BSP><номер ключевого слова>

   Например 5-ый $DO файла TEST.BSP сгенерит метку TEST$DO5.

   Обычно  BSP  используется  в  пакете,  состоящем  из вызова BSP,
ассемблера и линкера.

    С  использованием  BSP  мной  написано  и  отлажено   несколько
программ.  Препроцессор зарекомендовал себя как полезный инструмент
и я собираюсь использовать его в дальнейшем.

  04/08/90 05:55pm

тел. (044)-271-88-56   Кохманюк Дмитрий.
