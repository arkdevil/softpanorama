<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">

<html>
<head>
<title>Win95 Networking FAQ C - TCP/IP (Internet)</title>
</head>

<!-- top -->
<A HREF="http://www.eff.org/blueribbon.html"><img
src="icons/blue.gif" height="38" width="30" alt="speech "></a><a
href="http://www.c2.org/hackmsoft/"><img src="icons/hackms.gif"
height="38" width="30" alt="hackms "></a><a
href="http://www.creativelement.com/win95ann/"><img
src="icons/win95ann.gif" height="38" width="30" alt="95ann "></a><a
href="http://www.yahoo.com/"><img src="icons/yahoo.gif" height="38"
width="30" alt="yahoo "></a><a
href="http://www.windows.microsoft.com/software/updates.htm"><img
src="icons/ms.gif" height="38" width="30" alt="ms" ></a><a
href="http://www.novell.com/"><img src="icons/novell.gif" height="38"
width="30" alt="novell "></a><a
href="http://www.stroud.com/"><img
src="icons/strouds.gif" height="38" width="30" alt="cwsapps "></a><a
href="http://www.windows95.com/"><img src="icons/win95com.gif" height="38"
width="30" alt="win95.com "></a><a href="suggest-site.html"><img
src="icons/suggest.gif" height="38" width="30" alt="suggest site "></a>
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/rnr.html"><img
src="icons/fanmail.gif" height="38" width="30" alt=" mail "></a>
<a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c1"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h2>C. TCP/IP (Internet) Issues</h2>
<ol>
        <li><a href="faq-c.html#c1">How do I configure MTU and RWIN?</a>
        <li><a href="faq-c.html#c2">Netscape packet storm bugs.</a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c3">Why are some remote sites unreachable
            (TTL bug)?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c4">Why don't I get DNS resolution for
            32-bit applications?</A>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c5">Interoperability with BootP servers.</a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c6">Can't mount servers by IP address.</a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c7">How do I set up a HOSTS file?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c8">Default hostname resolution order
            (broadcast-WINS-DNS-LMHOSTS) is non-ideal for my site;
            how can I change it?</a> 
        <li><a href="faq-c.html#c9">DNS lookup timeout is ridiculously long.</a>
        <li><a href="faq-c.html#c10">Why can't I send mail/news or upload
            with FTP (MTU path discovery problem)?</a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c11">What good commercial TCP/IP
            packages are available for Windows 95?</a>
            <img src="icons/correction.gif" alt="[Correction]" height="10" width="41">
        <li><a href="faq-c.html#c12">I can't get PC/NFS working under
            Windows 95.</a> 
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c13">Will Trumpet and other Win3 TCP/IP
            stacks work under Win95? </a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c14">I'm using some 16-bit TCP/IP stack
            like Trumpet and 32-bit apps like Netscape and Exchange
            don't work. </a>
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c15">Assorted DNS resolution problems.</a>
        <li><a href="faq-c.html#c16">What arcane TCP/IP parameters can be
          configured? </a>
        <li><a href="faq-c.html#c17">Nobody seems to be able to get routing
            to work.</a> 
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c18">Sockets get &quot;eaten up&quot; and
            WinSmtp dies.</a> 
            <img src="icons/update.gif" alt="[Update]" height="10" width="29">
        <li><a href="faq-c.html#c19">Can I disable DNS for WINS
            resolution?</a>
        <li><a href="faq-c.html#c20">TCP/IP Requires Ethernet_II Frame
           Type for ODI Driver.</a>
        <li><a href="faq-c.html#c21">Does Win95 support IP Multicast?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c22">How to obtain DNS hostname via DHCP?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c23">How to prevent anyone from accessing
            my entire hard drive?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c24">How can Win95 and UNIX computers
            share files and printers?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c25">Is there any way to run Win95 from
             a UNIX server running Samba?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c26">How can I prioritize multiple default
            routers?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c27">Why won't the Plus Pack install
             properly on a machine with Internet Explorer installed?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c28">What do I do if Win95 won't wait long
            enough for my DHCP server to assign an address?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c29">Why does my winsock.dll disappear or
            get renamed to winsock.old?</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
        <li><a href="faq-c.html#c30">Bug in NetBIOS name resolution stops
            LMHOSTS from working.</a>
            <img src="icons/new.gif" alt="[New]" height="10" width="18">
</ol>
<hr>
<!-- /top -->



<!-- c1 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#top"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c1" href="#c2"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.1. How do I configure MTU and RWIN?</h3>
<pre><strong>Date:</strong> Sat, 18 Nov 1995 12:50:07 -0800 (PST)
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
By default, Win95 uses the largest value of MTU possible for the chosen media
type. Most people who used the excellent 16-bit Trumpet Winsock, whose FAQ is at
<a
href="http://www.trumpet.com.au/wsk/faq/wskfaq.htm">http://www.trumpet.com.au/wsk/faq/wskfaq.htm</a>,
configured these parameters for optimum efficiency and response, and really miss
Trumpet's interface for setting them. This exchange should help:
<pre>&gt;I would like to know how to customize PPP, if it's possible.
&gt;I mean how to change MTU value, RWIN value, etc...
&gt;(registration base ? ...)
&gt;
&gt;And if it's possible, what are the best values for a 28.8 connection ?

MTU and RWIN are hidden in two different places in the Registry. MTU can
be set for each protocol-adapter binding; RWIN is set globally.

For MTU, open the Registry to:

HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Class\NetTrans\

Figure out which 000n is the TCP/IP protocol for your DUN connection by
looking at the other values, then open up that 000n.

Inside that 000n, create a new string variable called &quot;MaxMTU&quot; and enter
your value. 1500 is the default; some terminal servers work better with
1002; lowest you should ever need is 552. In general, use the highest MTU
your machine can handle without overruns.

For RWIN, open the Registry to:

HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\VxD\MSTCP\

Create a new string variable called &quot;DefaultRcvWindow&quot; with a value 4
times (MTU + 24).

It might also help to turn off your modem compression features; consult
your modem manual, and enter an init string into DUN Modem Advanced
Properties\Extra Settings.
</pre>
<hr>
<!-- /c1 -->



<!-- c2 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c1"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c2" href="#c3"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.2. Netscape Packet Storm Bugs. <a href="http://www.c2.org/hacknetscape/">c2</a></h3>
<pre><strong>Date:</strong> Wed, 27 Dec 95 15:15:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
This appears to be a bug specific to
<a href="http://home.netscape.com">Netscape</a>,
but it's worth mentioning here because so many people use it. Netscape 1.2N and 2.x,
32-bit versions, do not back off from TCP RESETs and ICMP unreachable messages;
instead, they retransmits forever, with no timeout. On a dialup connection this
will only cause some annoying &quot;hangs,&quot; inducing the user to hit the
&quot;Stop&quot; and &quot;Reload&quot; buttons a lot, but it can cause
destructive packet storms on Ethernet and other high-bandwidth links.
<p>
Please see the initial post about this set of bugs at <a href=
"http://www-leland.stanford.edu/~llurch/win95netbugs/Readme-Netscape_Net_Bug.txt">http://www-leland.stanford.edu/~llurch/win95netbugs/Readme-Netscape_Net_Bug.txt</a>.
That tells where to get relevant packet traces.
<p>
Two URLs you can try to check for these bugs are <a href=
"http://ftp.netscape.com">http://ftp.netscape.com</a> (responds with a TCP RESET)
and <a href=
"http://36.36.0.10">http://36.36.0.10</a> (nonexistent network, responds with an
ICMP unreachable).
<p>
The Netscape product manager posted a <a 
href="news:43cj0t$ltk@tera.mcom.com">message 
claiming the problem was irreproducible</a>, to which I posted
<a href="news:llurch-2009950018090001@tip-pine-5.stanford.edu">a response</a>.
Anyway, you can probably reproduce the problem yourself with the URLs above. You
need some technical knowledge of
<a href="http://www.cis.ohio-state.edu/htbin/rfc/arpa-internet-protocols.html">
the Internet Protocols</a> to understand the problem.
<p>
Netscape 2.x attempts to avoid the problem by timing out, but this
doesn't always work.
<p>
Netscape 2.0b4 also still seems to lose track of multiple TCP connections. E.g. local
users usually can't load www-leland's root page all the way. If a page seems to
load halfway and then &quot;hang,&quot; then try hitting reload or stop. If this
happens often, set maximum simultaneous TCP connections to 1 in network
preferences. This will not really affect dialups, but it will noticeably slow
page loading if you have a high-speed LAN connection.
<p>
Information from other winsock programmers indicates that this last problem is
probably due to a bug in Win95's TCP/IP stack, not in Netscape. The Microsoft Internet
Explorer works around the problem, but non-Microsoft programmers have not been given
information that would allow them to do the same.
<p>
Ian Samson &lt;<a href="mailto:ids@zeus.HSRC.ac.za">ids@zeus.HSRC.ac.za</a>&gt;
reports that the same thing happens to him in Johannesburg -- Hi! :-)
<p>
<hr>
<!-- /c2 -->



<!-- c3 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c2"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c3" href="#c4"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.3. Why are some remote sites unreachable (TTL bug)?</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 95 10:15:00 -0800
<strong>From:</strong> Bob Cringely &lt;<a href="mailto:bob@cringely.com">bob@cringely.com</a>&gt;
</pre>
<a href="mailto:bob@cringely.com">Cringely's</a> column in a recent
<a href="http://www.infoworld.com/">InfoWorld</a> said that Win95 couldn't
connect to some sites because its TTL was set to 30 hops.
<p>
As far as I can tell, his source was wrong. It's 32 (which really isn't much of an
improvement).
<p>
Because the Internet has grown to the point where routes including greater than
32 hops are <em>rather common</em>, everyone should open RegEdit to:

<pre>  Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP
</pre>
Create a string variable named &quot;DefaultTTL&quot; with a value of, say,
128.
<p>
Another example of Microsoft's poor understanding of the Internet.
<p>
<hr>
<!-- /c3 -->



<!-- c4 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c3"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c4" href="#c5"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.4. Why don't I get DNS resolution for 32-bit applications?</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 1995 15:22:00 -0700
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
This is a more general form of Microsoft's Knowledge Base article
<a href="http://www.microsoft.com/KB/PEROPSYS/win95/Q139060.htm">
Q139060</a>, which appears to have been posted on December 5, a month
after I sent them the following:
<pre>Problem:

1. You have Microsoft's TCP/IP protocol installed and properly configured.
2. 16-bit applications work by DNS name and IP address.
3. 32-bit applications work if you give an IP address.
4. 32-bit applications fail if you give a DNS hostname.

Most Likely Cause:

The file wsock32.dll is in your PATH, but is not correctly specified in 
the following Registry key:

  -&gt;Hkey_local_machine-&gt;system-&gt;currentcontrolset-&gt;services-&gt;vxd-&gt;
  mstcp-&gt;serviceprovider
  
The normal value for this key is %WINDIR%\SYSTEM\WSOCK32.DLL

Most Likely Solution:

Make sure wsock32.dll is in your WINDOWS\SYSTEM directory. Run REGEDIT.EXE to 
specify the correct location.

More information:

<a href="http://www.microsoft.com/KB/PEROPSYS/win95/Q139060.htm">There is a bug in NETSETUP that will cause this problem most of the time.</a>
(Thanks to Lee Gates of Microsoft for pointing this out).

There appears to be a bug in SETUP that will cause this problem if you 
install Win95 in one directory, then later reinstall it into a different 
directory.

You might also see this problem if you moved your various WinSock files 
around in an attempt to get a third-party WinSock.DLL file working.

Microsoft has confirmed this to be a problem in Microsoft Windows 95. We 
will post more information here in the <a href="http://www.microsoft.com/kb/">Knowledge Base</a> as it becomes 
available.
</pre>
I later got this reply, which is puzzling. He says his %WINDIR% variable
is set incorrectly to C:, even though it is set correctly to C:\WINDOWS in
MSDOS.SYS. <a href="mailto:win95netbugs-owner@lists.stanford.edu">remind
me</a> to follow up with this fella, or better,
<a href="mailto:parkerr@serv2.fwi.com">mail him yourself</a>.
<pre><strong>From:</strong> parkerr@serv2.fwi.com
<strong>Newsgroups:</strong> comp.os.ms-windows.win95.misc,comp.os.ms-windows.win95.setup,comp.os.ms-windows.networking.tcp-ip
<strong>Subject:</strong> Re: Summary: 32-bit TCP/IP DNS problems on Win95
<strong>Date:</strong> 4 Nov 1995 04:59:32 GMT
<strong>Message-ID:</strong> &lt;47ervk$e0v@news.ios.com&gt;

&gt;Okay, so it wasn't in my path.  But it was specified correctly in the 
&gt;registry. Needless to say, it didn't fix the problem.  Does anyone have
&gt;a canonical list of &quot;solutions&quot; to this problem?  There must be
&gt;something I haven't tried.

I found my problem, though I still don't know why...  The registry would
be right,  if windir actually pointed to my windows directory.  Instead it
is &quot;C:&quot;.  Not even &quot;C:\&quot;. Unfortunately, I can't figure out who is
responsible for this.  My MSDOS.SYS has it specified correctly, and I
don't find it anywhere in the registry (searching for windir).

I solved my problem, at least for now, by creating c:\system and putting
*sock* into it.
</pre>
<hr>
<!-- /c4 -->



<!-- c5 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c4"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c5" href="#c6"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.5. Interoperability with BootP servers.</h3>
<pre><strong>Date:</strong> Fri, 12 Jul 96 16:48:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
<blink>Flash!</blink> One weekend, Lew Perin hacked together a
<a href="http://www.interactive.net/~perin/">BootP client for Win95's TCP/IP
stack</a>, which Microsoft said was too difficult to consider.
<p>
Microsoft chose to implement DHCP in a way that is not interoperable with
BootP. One surmises they wanted to sell more NT DHCP servers.
<p>
John Wobus's DHCP FAQ, at <a href=
"http://web.syr.edu/~jmwobus/comfaqs/dhcp.faq.html">
http://web.syr.edu/~jmwobus/comfaqs/dhcp.faq.html</a>,
might be of interest. There are some hybrid BootP/DHCP servers out there, but
they don't all interoperate, and your routers might need to be upgraded to handle
the kind of DHCP replies Microsoft likes. Anyway, read John's FAQ. If you
absolutely can't get it from the Web, or from the periodic posts to the newsgroup
<a href="news:comp.protocols.tcp-ip.ibmpc">comp.protocols.tcp-ip.ibmpc</a>, you
can ping John at jmwobus@syr.edu.
<p>
We (various Stanford people) met with Microsoft officials about various DHCP
issues on December 8th. I summarized the meeting <a
href="gopher://quixote.stanford.edu/1m/win95netbugs">for the list</a>. Basically,
they plan to support non-Microsoft BootP clients from NT Server &quot;soon,&quot;
but do not plan to support a BootP client for any version of Windows for the
forseeable future.
<p>
Background:
<ol>
<li>Microsoft sells a DHCP server for NT, but no BootP server.
<li>DHCP and BootP are 95% identical. DHCP is based on BootP. BootP is simpler
    and more widely used.
<li>The DHCP RFCs are at the "proposed" stage.
<li>This stage is defined as "likely to change" and "experimental."
<li>The DHCP RFCs suggest that BootP and DHCP should interoperate.
<li>Most non-Microsoft DHCP servers support BootP.
<li>Most newer non-Microsoft BootP clients support DHCP.
<li>Apple's Open Transport supports BootP, DHCP, and RARP.
<li>Microsoft supported BootP in earlier versions of TCP/IP for Windows.
<li>Most BootP servers run on UNIX.
<li>UNIX and NT are competitors.
<li>Windows dominates the market for network clients.
<li>Microsoft only supports DHCP in the current versions of Win95, WFW, 
    and NT.
</ol>
I have been told that there is absolutely no causual relationship here.
<p>
<hr>
<!-- /c5 -->



<!-- c6 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c5"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c6" href="#c7"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.6. Can't mount servers by IP address.</h3>
<pre><strong>Date:</strong> Fri, 25 Jan 96 14:38:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
This is just an annoyance, really. It should be possible to mount servers by
typing e.g. <code>\\36.36.0.10</code>, but it just isn't.
<p>
I suppose the workaround is to enter the machine name into your
<a href="faq-c.html#c7">WINDOWS\HOSTS file, C.7.</a>.
See WINDOWS\HOSTS.SAM for the format, but note that the &quot;live&quot; version
has no .SAM (or other) file type extension.
<p>
Note (thanks <a href="mailto:tfl@psp.co.uk">Thomas Lee</a>) that the name
put into
HOSTS must be the same as the NetBIOS name of the target machine. For Windows
95, this is defined in the &quot;Identification&quot; tab in the Network
control panel. Otherwise, the connection will be refused, even if you have
the IP address correct. Chalk this up as another annoyance.
<p>
The reason I don't recommend LMHOSTS rather than HOSTS is that
<a href="faq-c.html#c30">sometimes LMHOSTS doesn't work; see C.30.</a>
<p>
Also <a href="faq-c.html#c8">see C.8.</a> for information on prioritizing
DNS, WINS, LMHOSTS, and local broadcasts for NetBIOS name resolution.
<p>
<hr>
<!-- /c6 -->



<!-- c7 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c6"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c7" href="#c8"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.7. How do I set up a HOSTS file?</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 95 23:00:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
Um, just set up a C:\WINDOWS\HOSTS file. The common mistake is to give this
file a .SAM or .TXT extension. That's wrong -- it gets no file type
extension. See HOSTS.SAM for the simple file format.
<p>
<hr>
<!-- /c7 -->



<!-- c8 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c7"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c8" href="#c9"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.8. Default hostname resolution order (broadcast-WINS-DNS-LMHOSTS) is non-ideal for my site; how can I change it?</h3>
<pre><strong>Date:</strong> Sun, 17 Sep 95 22:30:47 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
I would think that the name resolution should work in precisely the opposite
direction. Check the local LMHOSTS mappings <em>first</em>, then DNS,
then WINS, and only as a last resort broadcast on the local subnet. Oh well.
<p>
This extract from the <a href="http://www.microsoft.com/KB/PEROPSYS/win95/Q135849.htm">
Resource Kit</a> comes from
<a href="http://www.zynet.com/~puppet/">Daniel M</a>
&lt;<a href="mailto:puppet@mail.dynamsol.com">puppet@mail.dynamsol.com</a>%gt;.
This does not seem to apply to the 32-bit WinSock; could anybody
<a href="mailto:win95netbugs-owner@lists.stanford.edu">tell me</a> about that?
<pre><strong>Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP\ServiceProvider</strong>

The following keys describe the order used to resolve host names. A lower
number sets a higher priority for name resolution. These settings are used
for 16-bit Windows Sockets, which need to rely on the resolvers that are
expected to take the least time.
 
The numbers indicate the default values specified in Windows 95.

LocalPriority = 499
HostsPriority = 500
DNSPriority = 2000
NetbtPriority = 2001
</pre>
<hr>
<!-- /c8 -->



<!-- c9 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c8"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c9" href="#c10"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.9. DNS lookup timeout is ridiculously long.</h3>
<pre><strong>Date:</strong> Sun, 17 Sep 95 22:30:47 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
Most apps will freeze the machine while doing a DNS lookup, which is really
annoying, especially since the timeout for DNS lookups is so long, especially in
those weird places like Cornell and Clemson where Win95 doesn't seem to like the
local DNS server. The &quot;NameSrvQueryTimeout&quot; in the Registry, which
some people have pointed out, seems only to apply to Microsoft's proprietary
WINS service, not Internet standard DNS.<p>
There's gotta be a way to set this;
<a href="mailto:owner-win95netbugs@lists.stanford.edu">anybody?</a>
<p>
<hr>
<!-- /c9 -->



<!-- c10 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c9"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c10" href="#c11"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.10. Why can't I send mail/news or upload with FTP (MTU path discovery problem)?</h3>
<pre><strong>Date:</strong>  Wed, 27 Dec 95 15:33:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
If you can't send mail or news longer than 10 lines or so, or if you can't
upload files with FTP or Microsoft networking, this is likely
your problem. Downloads (from the net to your PC) are not affected. <em>This
assumes that you can upload files and send one-line messages fine; if not,
you have a more fundamental problem</em>. If the technical and political
details don't interest you, <a href="faq-c.html#c10skip">skip them</a>.
<p>
In late November, Microsoft finally documented this known problem in
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/Q138025.htm">
Knowledge
Base Article Q138025</a>. However, they got it wrong, because the Usenet
article that Microsoft evidently copied,
&lt;199509242223.PAA04539@Networking.Stanford.EDU&gt;, was unclear (my
fault). In late December or early January, after reading this FAQ repeatedly
through the tide and jericho proxy servers, Microsoft removed this
article and every other mention of the PathMTU problem from the
Knowledge Base. Apparently it's just to embarrassing to leave documented.
I would appreciate it if Microsoft would please
<a href="mailto:win95netbugs-owner@lists.stanford.edu">mail me</a> when
they have restored and corrected the KB article, so that I can remove this paragraph
from the FAQ.
<p>
Anyway, the problem, as originally diagnosed in article
&lt;443n5c$ff9@aix1.segi.ulg.ac.be&gt; by Andri Pirard
<a href="mailto:pirard@vm1.ulg.ac.be">pirard@vm1.ulg.ac.be</a>, is that
Microsoft does MTU path discovery according to
<a href="http://www.cis.ohio-state.edu/htbin/rfc/rfc1191.html">RFC 1191</a>
(written in 1990 by folks from DEC and <a href="http://www.stanford.edu/">
Stanford University</a>), but many routers don't. Since Microsoft jumped on
the TCP/IP bandwagon so late, they apparently don't understand that
a standard only drafted in 1990 is an infant not likely to be adopted
Internet-wide.
<p>
<a name="c10skip"></a>
To fix this problem, run RegEdit.EXE and open it to the following key:
<blockquote>
 <strong>Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP</strong>
</blockquote>
Create the following binary variable with a value of 1:
<blockquote>
 <strong>PMTUBlackHoleDetect = 0 or 1</strong>
</blockquote>
This should always fix the problem, unless there's a bug in their code,
and we know that couldn't happen. If this doesn't solve the problem,
create this variable in the same place:
<blockquote>
 <strong>PMTUDiscovery = 0 or 1</strong>
</blockquote>
Now, this is where I believe Microsoft gets it wrong.
<a href="http://www.microsoft.com/KB/PEROPSYS/win95/Q138025.htm">Knowledge
Base Article Q138025</a> says to create this with a binary value of 1. This
does nothing. You really want to create it with a value of 0.
<p>
<a href="faq-c.html#c1">Setting MTU</a> to some ridiculously low value is another
effective way to fix the problem, but it hurts performance -- except over
dialup, where an MTU of 576 or so might be a good idea anyway, especially
if you have a cheap modem whose buffering doesn't work well.
<p>
All other TCP/IP stacks available for DOS and Windows
fragment properly according to existing Internet standards. You'll only
see this problem with the stack that Microsoft includes &quot;free.&quot;
<p>
<hr>
<!-- /c10 -->



<!-- c11 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c10"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c11" href="#c12"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.11. What good commercial TCP/IP packages are available for Windows 95?</h3>
<pre><strong>Date:</strong> Fri, 29 Dec 95 17:20:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
You should probably just refer to 
<a href="http://www.rtd.com/pcnfsfaq/whoisrawn.html">Rawn Shah</a>'s
excellent <a href="http://www.rtd.com/pcnfsfaq/faq.html">PC-Mac TCP/IP &amp;
NFS FAQ, http://www.rtd.com/pcnfsfaq/faq.html</a> and in
<a href="news:comp.answers">comp.answers</a>. It's somewhat dated and has no
Win95-specific information at this time, but it's got a lot of good stuff, 
which I see no need to reproduce here. Some Win95-specific addenda follow.
<p>
<a href="http://www.tgv.com/">TGV (www.tgv.com)</a>, email <a
href="mailto:sales@tgv.com">sales@tgv.com</a> (TGV stood for Two Guys
and a Vax many years ago before they got successful and went legit),
is now shipping MultiNet 1.2. Nice clients for Telnet, FTP,
News, and WWW, plus NFS, are included. However, according to John Casullo
&lt;<a href="mailto:Manta@cybercomm.net">Manta@cybercomm.net</a>&gt;, though,
the current version of the TGV TCP/IP stack itself is <em>not</em>
compatible with Win95 -- it only runs on Windows 3.x. Their advertising
is very deceiving on this point. Some response from TGV would be nice.
<p>
<a href="http://www.win.net/~core/">Core Systems,
http://www.win.net/~core/</a>, email <a
href="mailto:lvuong@cores.com">lvuong@cores.com</a>, has announced and
is now shipping INTERNET-CONNECT for Windows 95. In addition to the
features of Win95's stack, it supports BootP and includes better telnet
and FTP clients. It does not support NetBIOS over TCP/IP, so you can't
use Windows file/print sharing over this protocol. Demos are available.
Be aware that Core appears to be a one-man virtual company...
<p>
<a href="http://www.ftp.com/">FTP Software</a> is now (started
December 5?) shipping
<a href="http://www.ftp.com/mkt_info/onnet32/on32-ann.htm">OnNet32</a>,
a stack and applications suite. Win95 Logo certification (for what it's
worth), NFS client. Does support NetBIOS over TCP/IP.
<p>
<hr>
<!-- /c11 -->



<!-- c12 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c11"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c12" href="#c13"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.12. I can't get PC/NFS working under Windows 95.</h3>
<pre><strong>Date:</strong> Thu, 18 Jan 96 20:00:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
At the polite request of Jody Jackson 
&lt;<a href="jrj@micronexx.com">jrj@micronexx.com</a>, who feels that no
answer is better than an incomplete one, this question has been removed.
Please <a href="jrj@micronexx.com">send Jody email</a> for the answer.
<p>
<hr>
<!-- /c12 -->



<!-- c13 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c12"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c13" href="#c14"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.13. Will Trumpet and other Win3 TCP/IP stacks work under Win95?</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 95 15:42:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
&quot;Usually.&quot; Trumpet will, and it's significantly faster than
Win95's SLIP/PPP support. On the downside, TCP/IP stacks designed for
Windows 3.x, even those based on 32-bit VxDs, will only support 16-bit
TCP/IP clients. So you can't run 32-bit Netscape or Microsoft Exchange. 
For Win95 instructions and the latest information on the 32-bit
Trumpet beta, see the <a
href="http://www.trumpet.com.au/wsk/faq/wskfaq.htm">Trumpet FAQ,
http://www.trumpet.com.au/wsk/faq/wskfaq.htm</a>.
<p>
There is also the issue that you must have exactly one WINSOCK.DLL in your
PATH at a time. Rename them or shuffle them around while experimenting.
<p>
And there's the issue of Microsoft disabling third-party WinSocks. It was
only designed to do this at installation time, but it actually does this
on whim. If you are using a non-Microsoft winsock.dll, and find that your
winsock.dll disappears or gets renamed at random, or if some applications
call the wrong winsock.dll, the best thing to do, contrary to Microsoft's
rear-end-covering advice, is to put your preferred winsock.dll into
c:\windows and to set its read-only attribute with Win95's Properties
dialog or the DOS attrib +r command.
<p>
<hr>
<!-- /c13 -->



<!-- c14 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c13"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c14" href="#c15"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.14. I'm using some 16-bit TCP/IP stack like Trumpet and 32-bit apps like Netscape and Exchange don't work.</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 1995 15:44:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
That's right, they don't. You need to &quot;upgrade&quot; to Windows
95's included 32-bit TCP/IP, or one of the
<a href="faq-c.html#c11">competitive commercial stacks, section C.11</a>. For
instructions, see <a href="faq-a.html#a3">A.3., related resources</a>. If
you use a modem, the Microsoft/Shiva package will be slower. Note that the
new 32-bit shim for <a href="http://www.trumpet.com.au/">Trumpet WinSock</a>
(currently in open beta testing) will allow you to run 32-bit applications. 
<p>
<hr>
<!-- /c14 -->



<!-- c15 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c14"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c15" href="#c16"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.15. Assorted DNS resolution problems.</h3>
<pre><strong>Date:</strong> Thu, 07 Dec 95 10:15:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
At this time, I believe <a href="faq-c.html#c4">C.4.</a> and various configuration
follies explain away most of the following. I am still puzzled by
Juha Noro &lt;<a href="mailto:nco@noro.pp.fi">nco@noro.pp.fi</a>&gt;, the guy in
Finland with the &quot;personal&quot; problem, i.e., he cannot resolve
any hostname that begins with &quot;personal.&quot;
<p>
I also saw this weird thing once where the NetBIOS-over-TCP/IP client (only)
was spuriously appending the literal string &quot;???&quot; to DNS lookups
for some hostnames (only). I got packet traces. But it went away
mysteriously. If anyone else sees something similar, tell me.
<p>
I saved the old unresolved (if you'll pardon the pun) problems at
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/DNS-Probs.txt">
http://www-leland.stanford.edu/~llurch/win95netbugs/DNS-Probs.txt</a>
and in some other files in
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/">
that directory</a>. Also see the <a href="faq-a.html#a2">email list, section A.2</a>.
<p>
<hr>
<!-- /c15 -->



<!-- c16 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c15"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c16" href="#c17"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.16. What arcane TCP/IP parameters can be configured?</h3>
<pre><strong>Date:</strong> Mon, 18 Sep 1995 04:44:07 +0000
<strong>From:</strong> <a href="http://www.zynet.com/~puppet/">Daniel M</a> &lt;<a href="mailto:puppet@mail.dynamsol.com">puppet@mail.dynamsol.com</a>&gt;

<strong>Message-Id:</strong> &lt;19950918044454.00974ece.in@toast.dynamsol.com&gt;

Open the Registry to:

<strong>Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP</strong>

<strong>BroadcastAddress = broadcast address in hexadecimal</strong>

Specifies the address to use for NetBIOS name query broadcasts. The default
is based on the IP address and the subnet mask.

<strong>BcastNameQueryCount = integer</strong>

Specifies the number of times the system will retry NetBIOS name query
broadcasts. The default is 3.

<strong>BcastQueryTimeout = milliseconds</strong>

Specifies the period of time the system will wait before timing out
broadcast name queries. The minimum value is 100. The default is 750.

<strong>BSDUrgent = 0 or 1</strong>

If this value is 1, specifies that Microsoft TCP/IP is to treat urgent data
the way some UNIX systems do (with a maximum of 1 byte of urgent data, for
example). If this value is 0, it specifies that the stack is to handle
urgent data as specified by <a
href="http://www.cis.ohio-state.edu/htbin/rfc/rfc1122.html">RFC 1122</a>. The
default is 1.

<strong>CacheTimeout = milliseconds</strong>

Specifies how long NetBIOS names are cached. The minimum is 60000
milliseconds (1 minute). The default is 360000 milliseconds (6 minutes).

<strong>DeadGWDetect = 0 or 1</strong>

Specifies whether Microsoft TCP/IP will use another gateway if the current
default gateway seems to be down. The default is 1.

<strong>DefaultRcvWindow = 16-bit number</strong>

Specifies the default receive window advertised by TCP. The default is
8192.

<strong>DefaultTOS = 8-bit number</strong>

Specifies the default type of service (TOS) for IP packets initiated by
Microsoft TCP/IP. The default is 0.

<strong>DefaultTTL = 8-bit number</strong>

Specifies the default time to live (TTL) for IP packets from Microsoft
TCP/IP. The default is 32.

<strong>DnsServerPort = port</strong>

Specifies which DNS server port to send queries to when resolving a name
using DNS. The default is 53.

<strong>EnableProxy = 0 or 1</strong>

If this value is 1, specifies that this computer is a WINS proxy agent. The
default is 0.

<strong>EnableRouting = 0 or 1</strong>

Specifies whether to enable static routing. Microsoft TCP/IP does not
supply a routing protocol, so all route table entries must be entered using
the route command. The default is 0.

<strong>IGMPLevel = 0, 1, or 2</strong>

Specifies the level of support allowed for IP multicast, corresponding to
the levels in <a href="http://www.cis.ohio-state.edu/htbin/rfc/rfc1112.html">RFC 1112</a>. The default is 2.

<strong>InitialRefreshT.O. = milliseconds</strong>

Specifies the interval over which to contact WINS to refresh the name. The
minimum is 16 minutes, and the maximum is approximately 50 days
(0xFFFFFFFF). The default is 960000 milliseconds (16 minutes).

<strong>KeepAliveTime = 32-bit number</strong>

Specifies the connection idle time in milliseconds before TCP will begin
sending keepalives, if keepalives are enabled on a connection. The default
is 2 hours (7200000).

<strong>KeepAliveInterval = 32-bit number</strong>

Specifies the time in milliseconds between retransmissions of keepalives,
once the KeepAliveTime has expired. Once KeepAliveTime has expired,
keepalives are sent every KeepAliveInterval milliseconds until a response
is received, up to a maximum of MaxDat a Retries before the connection is
aborted. The default is 1 second (1000).

<strong>LmhostsTimeout = milliseconds</strong>

Specifies the period of time the system will wait before timing out when
seeking LMHOSTS for name resolution. The minimum value is 1000 (1 second).
The default is 10000 (10 seconds).

<strong>MaxConnections = 32-bit number</strong>

Specifies the maximum number of concurrent connections. The default is 100.

<strong>MaxConnectRetries = 32-bit number</strong>

Specifies the number of times a connection attempt (SYN) will be
retransmitted before giving up. The initial retransmission timeout is 3
seconds, and it is doubled each time up to a maximum of 2 minutes. The
default is 3.

<strong>MaxDataRetries = 32-bit number</strong>

Specifies the maximum number of times a segment carrying data or an FIN
will be retransmitted before the connection is aborted. The retransmission
timeout itself is adaptive and will vary according to link conditions. The
default is 5.

<strong>NameServerPort = port</strong>

Specifies the UDP port on the name server to which to send name queries or
registrations. The default is 137.

<strong>NameSrvQueryCount = integer</strong>

Specifies the number of times the system will try to contact the WINS
server for NetBIOS name resolution. The default is 3.

<strong>NameSrvQueryTimeout = milliseconds</strong>

Specifies how long the system waits before timing out a name server query.
The minimum is 100. The default is 750.

<strong>NameTableSize = integer</strong>

Specifies the maximum number of names in the NetBIOS name table. The
minimum allowable value is 1 and the maximum is 255. The default is 17.

<strong>NodeType = 1, 2, 4, or 8</strong>

Specifies the mode of NetBIOS name resolution used by NetBIOS over TCP/IP,
where 1 = b-node, 2 = p-node, 4 = m-node, and 8 = h-node. This value can be
configured using DHCP. The default is 1 (b-node), if no value is specified;
if WINS servers are specified and NodeType is not, then the default is 8
(h-node).

<strong>PMTUBlackHoleDetect = 0 or 1</strong>

Specifies whether the stack will attempt to detect Maximum Transmission
Unit (MTU) routers that do not send back ICMP fragmentation-needed
messages. Setting this parameter when it is not needed can cause
performance degradation. The default is 0.

<strong>PMTUDiscovery = 0 or 1</strong>

Specifies whether Microsoft TCP/IP will attempt to do path MTU discovery as
specified in <a href="http://www.cis.ohio-state.edu/htbin/rfc/rfc1191.html">RFC 1191</a>. The default is 1.

<strong>RandomAdapter = 0 or 1</strong>

For a computer with multiple network adapters, specifies whether to respond
with an IP address selected randomly from the set of addresses on the
computer or whether to return the IP address of the adapter that the
request came in upon. The default is 0 ( not random; that is, return the
address of the adapter that the request came in on).

<strong>RoutingBufSize = 32-bit number</strong>

Specifies the total amount of buffer space to allocate for routing packets.
This parameter is ignored if EnableRouting=0. The default is 73216.

<strong>RoutingPackets = 32-bit number</strong>

Specifies the maximum number of packets that can be routed simultaneously.
This parameter is ignored if EnableRouting=0. The default is 50.

<strong>SessionKeepAlive = milliseconds</strong>

Specifies how often to send session keepalive packets on active sessions.
The minimum is 60 seconds. The default is 3600 seconds (1 hour).

<strong>SessionTableSize = integer</strong>

Specifies the maximum number of sessions in the NetBIOS session table. The
minimum allowable value is 1 and the maximum is 255. The default is 255.

<strong>SingleResponse = 0 or 1</strong>

For a computer with multiple network adapters, specifies whether to send
all IP addresses on a name query request from WINS. If this value is 1, the
system will send one address in a name query response; if 0, it will return
all the addresses of its adapters. The default is 0.

<strong>Size/Small/Medium/Large = 1, 2, or 3</strong>

Specifies how many buffers of various types to preallocate and the maximum
that can be allocated, where 1 = small, 2 = medium, and 3 = large. The
default is 1; the default is 3 if the WINS proxy is enabled.
</pre>
<hr>
<!-- /c16 -->



<!-- c17 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c16"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c17" href="#c18"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.17. Nobody seems to be able to get routing to work.</h3>
<pre><strong>Date:</strong> Thu, 28 Dec 95 11:44:00 -0800
<strong>From:</strong> Vadim &lt;<a href="mailto:vadim@melig.co.il">vadim@melig.co.il</a>&gt;
<strong>Message-Id:</strong> &lt;199509232144.XAA03624@mail.netvision.net.il&gt;

It's a common belief that windows 95 can't do IP forwarding (There were
several postings about it in comp.os.ms-windows.win95) and you have to use
NT to do it.

Win95 resource kit help file contains the following information:
[----]
Hkey_Local_Machine\System\CurrentControlSet\Services\VxD\MSTCP\EnableRouting = 0
or 1 
Specifies whether to enable static routing. Microsoft TCP/IP does not supply
a routing protocol, so all route table entries must be entered using the
route command. The default is 0.
[----]
I tried that on two machines (486DX2 and PENTIUM-75, both with ethernet card
and a RAS driver installed) and on both got a total system crash on boot (I
guess when loading vip.386).

Interesting enough, this whole routing issue has never been documented by
microsoft.

So, anybody &quot;been there, done that&quot; ?
Is it a bug, half-implemented feature or just wrong configuration ?
</pre>
<em>[Keith Davidson and Roger Pfister later reported that multiple TCP/IP interfaces
only seem to work if each interface is on a different Class A net (because Win95
always creates a bogus route to 255.0.0.0 -- you can see it with ROUTE.EXE or the
SNMP Agent).]</em>
<p>
<hr>
<!-- /c17 -->



<!-- c18 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c17"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c18" href="#c19"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.18. Sockets get &quot;eaten up&quot; and WinSmtp dies.</h3>
<pre><strong>Date:</strong> Fri, 29 Dec 95 20:00:00 -0800
<strong>From:</strong> Jack De Winter &lt;<a href="mailto:jackdw@metrics.com">jackdw@metrics.com</a>&gt;

Has anyone else seen a problem where continuous access to a server
application will cause that application to run out of sockets or buffers
after a long time of continuous use?

Using NT, I can run my WinSmtp mail daemon (if you want details, send <a href="mailto:jackdw@metrics.com">me</a> a
quick message) for weeks with no problems.  But after 12 hours under the
same conditions under win95 and its stacks (winsmtp as server and Exchange
as a client, checking every 2-5 minutes), it refuses to connect up any
more.

any ideas?
</pre>
<em>[Update 9/25/95: Eric Thomas &lt;thomas@rtp.ericsson.se&gt; confirms the
problem on his machine, but says that the 16-bit version of WinSMTP
works fine.]></em>
<p>
<em>[Update 9/30/95: Jack says this only happens with SLIP. WinSMTP seems to work
fine over Ethernet and PPP. Also, the 16-bit version of WinSMTP works.]</em>
<p>
<em>[Update 10/20/95: Jack says, and I sort of understand:]</em>
<pre>okay... the following is what I am doing, in asynchronous mode:

case 1: client closes connection
- receive FD_CLOSE
- set to receive no more information
- make sure information currently in layer is retrieved using 'recv'
- send a lingering close (l_onoff set to FALSE and l_time set to 0)
- delete internal node when close succeeds and doesn't block

case 2: we initiate close
- set so we don't receive any more data
- lingering close, see above
- delete internal node

Just to reiterate, we are using Async mode and notifies (will be doing a
port to non-async in a week or two), I believe we might have the Debug
mode set on the protocol, and that is about it.

Symptoms:
- using NT's or almost any win16 stack, no problems
- using win95 stack, runs out of buffer space or reports that it cannot
  connect after about 80 sessions
</pre>
<em>[A message from Jack to his user group concerning this problem is saved at
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/jackdw-closes.txt">
http://www-leland.stanford.edu/~llurch/win95netbugs/jackdw-closes.txt</a>.]</em>
<p>
<hr>
<!-- /c18 -->



<!-- c19 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c18"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c19" href="#c20"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.19. Can I disable DNS for WINS resolution?</h3>
<pre><strong>Date:</strong> Tue, 10 Oct 95 23:30:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
WFW and NT have an &quot;enable DNS for WINS resolution&quot; checkbox that is
turned off by default. In Win95 this feature is on by default, and there is no
check box to turn it off. It turns out that this is what the
&quot;EnableDNS&quot; switch in the Registry is for. If you turn it off, DNS is
still enabled; it just isn't used for WINS resolution. This is part of Win95's
redefinition of &quot;intuitive.&quot; From <a
href="http://198.105.232.5/KB/PEROPSYS/windows/Q137368.htm">article Q137368</a>
in the <a href="http://www.microsoft.com/KB/">Microsoft Knowledge Base</a>:
<p>
<strong>How to disable NetBIOS name resolution on a domain-name system (DNS)
while retaining other DNS functionality.</strong>
<p>
To disable NetBIOS name resolution on a DNS server, change the string
value
<blockquote>
   EnableDNS
</blockquote>
in the registry key
<blockquote>
   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\VxD\MSTCP
</blockquote>
from 1 to 0.
<p>
<hr>
<!-- /c19 -->



<!-- c20 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c19"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c20" href="#c21"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.20. TCP/IP Requires Ethernet_II Frame Type for ODI Driver.</h3>
<pre><strong>Date:</strong> Tue, 10 Oct 95 23:30:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
If you're using ODI drivers (usually for NetWare or really obscure network
cards), you need to manually add the ETHERNET_II frame type to NET.CFG, or
Microsoft TCP/IP won't work. This is just a particular case of general problem <a
href="faq-e.html#e4">E.4.</a> See <a
href="http://198.105.232.5/KB/PEROPSYS/windows/Q129726.htm">article Q129726</a>
in the <a href="http://www.microsoft.com/KB/">Microsoft Knowledge Base</a>:
<p>
<hr>
<!-- /c20 -->



<!-- c21 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c20"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c21" href="#c22"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.21. Does Win95 support IP Multicast?</h3>
<pre><strong>Date:</strong> Wed, 27 Oct 95 15:52:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
According to Microsoft, yes; there is a <a href="faq-c.html#c16">Registry switch</a> for
determining the level of support. However, at this time, I know of no
applications that take advantage of Win95's claimed multicast support.
<p>
According to Microsoft's Dave MacDonald, Microsoft's IP multicast support
(which is supposed to be the same for Win95 and WinNT) is detailed in
<a href="ftp://ftp.microsoft.com/bussys/winnt/winnt-docs/papers/tcpipimp.doc">
ftp://ftp.microsoft.com/bussys/winnt/winnt-docs/papers/tcpipimp.doc</a>.
<p>
Bob Quinn has posted some other relevant technical information at
<a href="http://www.sockets.com/ch16.htm">http://www.sockets.com/ch16.htm</a>.
<p>
<hr>
<!-- /c21 -->



<!-- c22 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c21"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c22" href="#c23"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.22. How to obtain DNS hostname via DHCP?</h3>
<pre><strong>Date:</strong> Fri, 12 Jul 96 16:32:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
You can't. Sorry. This is a huge problem for sites that, unlike
<a href="http://www.microsoft.com/TechNet/boes/bo/winntas/prodfact/movetcp.htm">
Microsoft</a>, have working DNS infrastructures and years of experience
with Internet standards.
<p>
What you can do is configure TCP/IP properties to &quot;Disable DNS.&quot;
This does not actually disable DNS; it merely tells Win95 to use the
DNS server(s) and domain returned by the DHCP response. Intuitive, huh?
However, this still doesn't tell the client its hostname. That must be
configured <em>manually</em> in, of all places, the NetBios
&quot;Identification&quot; tab.
<p>
This little bug has caused many a problem for people who innocently put the
name of a server they want to reach into the DNS hostname field. Because Win95
thinks that it is that server, the real server becomes unreachable.
<p>
(Also, the &quot;Enable DNS&quot; Registry switch is completely irrelevant;
see question <a href="faq-c.html#c19">C.19.)</a>
<p>
Another option is Lew Perin's
<a href="http://www.interactive.net/~perin/">billgPC BootP client for Win95</a>.
<p>
<hr>
<!-- /c22 -->



<!-- c23 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c22"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c23" href="#c24"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.23. How to prevent anyone from accessing my entire hard drive?</h3>
<pre><strong>Date:</strong> Thu, 07 Dec 95 10:15:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
If you have a non-English-language version of Windows 95, you can't, unless you
disable peer sharing and remote administration.
<p>
If you have the English-language version, get the patches from
<a href="http://www.windows.microsoft.com/software/w95fpup.htm">
http://www.windows.microsoft.com/software/w95fpup.htm</a>. Microsoft's
clarification is incorrect (for starters, they didn't discover these
problems; we know who pointed them out to them), but the patches appear
to fix the problem.
<p>
These same problems have always affected Windows for
Workgroups. Despite repeated warnings over the last nine months, Microsoft
does not consider these problems important enough to mention in the TCP32B
(Wolverine) distribution. The patch for WFW is called Wfwvsrvr.exe and is
available on ftp.microsoft.com, CompuServe, and on the Web at
<a href="http://www.microsoft.com:80/KB/PEROPSYS/windows/Q136418.htm">
http://www.microsoft.com:80/KB/PEROPSYS/windows/Q136418.htm</a>. 
<p>
<hr>
<!-- /c23 -->



<!-- c24 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c23"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c24" href="#c25"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.24. How can Win95 and UNIX computers share files and printers?</h3>
<pre><strong>Date:</strong> Sat, 30 Dec 95 10:00:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
Microsoft chose not to make it easy for Win95 and UNIX machines to
interoperate, because Microsoft sells Windows NT. But as Spock instructs
us, there are always alternatives.
<dl>
<dt>Freeware Samba file and print client and server for UNIX
<dd>The easiest way to get Windows (any version) to share files and printers
with UNIX (in either direction) is with
<a href="http://lake.canberra.edu.au/pub/samba/">Samba,
http://lake.canberra.edu.au/pub/samba/</a>, a SMB implementation for UNIX
that allows your machine to masquerade as the NT Server that Microsoft
wants you to buy. Of course you need to be (good friends with) the system
administrator, but Samba is quite easy, reliable, and free. The main thing
to worry about is Windows' &quot;password caching feature,&quot; which by
default would sort of compromise the security of your UNIX machines. See
<a href="faq-e.html#e27">question E.27. for instructions on turning
&quot;password caching&quot; off</a>.
<dt>Shareware for printing from Windows to UNIX
<dd>WSLPRS is the standard LPR (Internet standard client for printing to UNIX
and other machines) implementation for Windows. A recent version should be
available on all the PC software archives, for example,
<a href="ftp://mirrors.aol.com/pub/cica/pc/win3/winsock/">
ftp://mirrors.aol.com/pub/cica/pc/win3/winsock/</a>.
<dt>Shareware for printing from UNIX to Windows
<dd>David L. Brooks &lt;<a href="mailto:info@brooksnet.com">info@brooksnet.com</a>&gt;,
<a href="http://brooksnet.com/">http://brooksnet.com/</a>, offers a shareware
LPD (Internet standard print server) implementation for Windows.
<dt>Pay-through-the-nose-ware
<dd><a href="faq-c.html#c11">See C.11. for a few commercial packages</a> that
include NFS (standard for file and print sharing) and LPR/LPD (standard for
printing).
</dl>
<hr>
<!-- /c24 -->



<!-- c25 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c24"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c25" href="#c26"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.25. Is there any way to run Win95 from a UNIX server running Samba?</h3>
<pre><strong>Date:</strong> Wed, 27 Dec 95 23:00:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
In a word, no. Samba runs SMB over TCP/IP, which is a 32-bit-only
protocol. You are able to run Win95 off a NetWare or SMB (LAN Manager,
OS/2, NT) server because IPX/SPX and NetBEUI (only) are active in 16-bit
DOS mode as well. But TCP/IP, no. Well, in theory you could load a
16-bit TCP/IP stack that supports SMB over TCP/IP, but then you
wouldn't be able to run Win95's built-in file sharing or run any 32-bit
WinSock apps, and that sort of defeats the purpose of running Win95.
<p>
<hr>
<!-- /c25 -->



<!-- c26 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c25"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c26" href="#c27"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.26. How can I prioritize multiple default routers?</h3>
<pre><strong>Date:</strong> Wed, 1 Nov 1995 15:08:53 -0500
<strong>From:</strong> <a href="mailto:PLINSPO1.MSCHMITT@eds.com">PLINSPO1.MSCHMITT@eds.com</a>
</pre>

The Resource Kit (Network Technical Discussion - TCP/IP Protocol -
Configuring TCP/IP Settings Manually - Step 7) says that &quot;Gateway
addresses can be prioritized by dragging the IP address in the list of
installed gateways.&quot; This is not true.
<p>
Does anybody have a method that works?
<p>
<hr>
<!-- /c26 -->



<!-- c27 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c26"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c27" href="#c28"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.27. Why won't the Plus Pack install properly on a machine with Internet Explorer installed?</h3>
<pre><strong>Date:</strong> Wed, 1 Nov 1995 15:08:53 -0500
<strong>From:</strong> Mike Johnston (by way of Bob Verrinder)
<strong>Message-ID:</strong> &lt;47958p$mq6@maureen.teleport.com&gt;

I did find the answer and it seems that if you loaded Explorer previously it
will not load through Plus because it sees that it has already been loaded
from reading the registry during setup. To rectify the problem do the
following:

1) Start up REGEDIT.EXE   - The registry editor
2) Go to key HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Internet Explorer
3) You will should see two lines displayed in the right pane of
   regedit.
        (Default)               (value not set)
        IVer                    &quot;xxx&quot;
4) delete the IVer key by right clicking on the word IVer and
   selecting delete 
5) Close up regedit.  Reinstall Plus! (or just the Jumpstart Kit if
   that's all you need).

For good measure you might as well reboot before you do that.
</pre>
<hr>
<!-- /c27 -->



<!-- c28 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c27"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c28" href="#c29"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.28. What do I do if Win95 won't wait long enough for my DHCP server to assign an address?</h3>
<pre><strong>Date:</strong> Mon, 6 Nov 1995 10:55:17 -0600
<strong>From:</strong> David Devereaux-Weber &lt;<a href="mailto:djdevere@facstaff.wisc.edu">djdevere@facstaff.wisc.edu</a>&gt;
<strong>Message-ID:</strong> &lt;199511061655.KAA73144@audumla.students.wisc.edu&gt;
</pre>
<em>[Complain, I guess, until Microsoft fixes this.]</em>
<p>
We have had difficulty with Microsoft's implementation of DHCP in WIN95.
the DHCP client is supposed to wait a reasonable period of time for the
server to check an address before it is given to the client.  Microsoft's
client doesn't wait very long - it bails out early and reports no response.
The people at Sun hacked their client software for us to temporarily work
around the problem.  Unfortunately, trying to get Microsoft to understand
and support the official protocol has been unsuccessful to date.
<p>
We call our Internet software collection WiscWorld.  We don't recommend
using WiscWorld with WIN95, but we have a Web page with instructions on
doing it if you really want to:
<p>
<a href="http://axle.adp.wisc.edu/NST/wiscwrld/ww95/ww95.html">
http://axle.adp.wisc.edu/NST/wiscwrld/ww95/ww95.html</a>
<p>
<hr>
<!-- /c28 -->



<!-- c29 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c28"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c29" href="#c30"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.29. Why does my winsock.dll disappear or get renamed to winsock.old?</h3>
<pre><strong>Date:</strong> Fri, 29 Dec 1995 21:18:00 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
If you're using a non-Microsoft winsock.dll, then Win95 is working as designed.
See <a href="http://www.windows.microsoft.com/pr/clarifications.htm">
http://www.windows.microsoft.com/pr/clarifications.htm</a> or certain papers
filed with the US Department of Justice, Anti-Trust Division.
<p>
If you're using Microsoft's winsock.dll, as many people with this problem are,
then this is a bug.
<p>
In any case, the solution is to make sure that the only copy of winsock.dll is
in your %WINDIR% (i.e., C:\WINDOWS), and mark is read-only with Explorer Properties
or attrib +r.
<p>
Microsoft's claim that non-Microsoft DLLs don't belong in the Windows
directory is hogwash.
<p>
<hr>
<!-- /c29 -->



<!-- c30 -->
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a><a href="#end"><img src="icons/bottom.gif" height="38" width="30" alt="end "></a>
<a href="#c29"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a><a name="c30" href="#c31"><img src="icons/next.gif" height="38" width="30" alt=" -&gt;"></a>

<h3>C.30. Bug in NetBIOS name resolution stops LMHOSTS from working.</h3>
<pre><strong>Date:</strong> Wed, 20 Dec 1995 07:57:30 -0800
<strong>From:</strong> <a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a> &lt;<a href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
</pre>
A <a href="http://www.microsoft.com/kb/">Microsoft Knowledge Base Article</a> had
said that LMHOSTS doesn't work when DNS is enabled. This is incorrect.
<p>
Jeff Strain
&lt;<a href="mailto:jstrain@hp-vcd.vcd.hp.com">jstrain@hp-vcd.vcd.hp.com</a>&gt;
appears to have found the real problem:
<p>
If you are running both IPX and TCP transports, and are using MS Network
client and client for Novell networks, *and* have unbound MS Net from
the IPX protocol settings, then LMHOSTS resolution will not work.
<p>
The workaround is to rebind MS Net over IPX, even if you do not use IPX
for MS Network. This will slow down login a bit, but your LMHOSTS
resolution should work.
<p>
Another workaround is to put the hosts to which you want to connect into a
HOSTS file rather than LMHOSTS.
<p>
<hr>
<!-- /c30 -->



<!-- c31 end -->
<A HREF="http://www.eff.org/blueribbon.html"><img
src="icons/blue.gif" height="38" width="30" alt="speech "></a><a
href="http://www.c2.org/hackmsoft/"><img src="icons/hackms.gif" height="38" width="30" alt="hackms "></a><a href="http://www.creativelement.com/win95ann/"><img src="icons/win95ann.gif" height="38" width="30" alt="95ann "></a><a href="http://www.yahoo.com/"><img src="icons/yahoo.gif" height="38" width="30" alt="yahoo "></a><a href="http://www.windows.microsoft.com/"><img src="icons/ms.gif" height="38" width="30" alt="ms" ></a><a href="http://www.novell.com/"><img src="icons/novell.gif" height="38" width="30" alt="novell "></a><a href="http://www.stroud.com/"><img src="icons/strouds.gif" height="38" width="30" alt="cwsapps "></a><a href="http://www.windows95.com/"><img src="icons/win95com.gif" height="38" width="30" alt="win95.com "></a><a href="suggest-site.html"><img src="icons/suggest.gif" height="38" width="30" alt="suggest site "></a>
<a href="faq.html#index"><img src="icons/index.gif" height="38" width="30" alt="index "></a>
<a href="http://www-leland.stanford.edu/~llurch/win95netbugs/rnr.html"><img src="icons/fanmail.gif" height="38" width="30" alt=" mail "></a>
<a name="end" href="#top"><img src="icons/top.gif" height="38" width="30" alt=" top "></a>
<a name="c31" href="#c30"><img src="icons/prev.gif" height="38" width="30" alt=" &lt;-"></a>

<hr>
<address>
<a href="http://www-leland.stanford.edu/~llurch/">Rich Graves</a>
&lt;<a 
href="mailto:win95netbugs-owner@lists.stanford.edu">win95netbugs-owner@lists.stanford.edu</a>&gt;
and friends and enemies.<br>
<a href="faq-a.html#a4">Copyright &copy; 1996</a>
Rich Graves, <a href="http://www.stanford.edu/">Stanford University</a>, and
<a href="http://www.nbc.com/entertainment/shows/friends/index.html">Friends</a> such as:
<!-- BEGIN INTERNET LINK EXCHANGE CODE -->
<a href="http://ad.linkexchange.com/4/X962784/gotoad.map"
target="_top">
<img width=440 height=40 border=1 ismap
alt="Internet Link Exchange"
src="http://ad.linkexchange.com/4/X962784/logoshowad?free"></a>
<br><font size=1><a href="http://www.linkexchange.com/" target="_top">
Member of the Internet Link Exchange</a></font><br>
<!--  END INTERNET LINK EXCHANGE CODE  -->
<br>
Redistribution and mirroring are encouraged provided the source is credited.
</address>
<hr>
<!-- /c31 /end -->


</body>
</html>

