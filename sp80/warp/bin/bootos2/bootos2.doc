                      OS/2 V2 BOOT System Create Utility
                      (C)  Copyright IBM Corp. 1992,1994
                                     v6.50

The BOOTOS2 program is a utility that allows you to build a BOOTable OS/2 V2
or V3 system using an existing OS/2 V2 or V3 system.  The BOOT system can be
installed on either Floppy Disks or a Hard Disk Partition.

There are three types of BOOT systems you can install:

  Minimal : This is a basic OS/2 system that supports one or more OS/2
            Full Screen sessions.  All 16 and 32-bit OS/2 Full Screen
            applications are supported.  When installed on a hard disk drive,
            you can use the VDM option to add support for full screen VDM
            sessions.  The ability to switch between different Screen Sessions
            is supported by the supplied Protect Shell program, BOS2SHL.  You
            can switch between Screen Sessions, both OS/2 and VDM, using the
            Alt-Esc key sequence.

            A Minimal BOOT system can installed on a single 3.5" 1.44M Floppy
            Disk or to a small (2-3M) hard disk partition.  Installation to a
            single 2.88M floppy disk is also supported.  Because of space
            constraints, it is highly recommended that unless you are
            installing to a 2.88M disk or to a hard disk partition, you use
            the 2DISK option to create a 2-Disk BOOT System.  If your A: drive
            is 5.25" 1.2M, the 2DISK option will be assumed.

       PM : This is an OS/2 system that supports one or more OS/2 Full
            Screen or PM sessions.  If the VDM option is specified, support for
            both Windowed (i.e. Seemless) and Full Screen VDM sessions is
            added.  The ability to switch between different Screen Sessions is
            supported by the supplied Protect Shell program, PMSHELL. You can
            switch between Screen Sessions, both OS/2 and VDM, using the
            Alt-Esc key sequence.

            A PM BOOT System requires about 9M of hard disk space.  This does
            not include the disk space needed for the SWAP file.

      WPS : This is an OS/2 system that supports one or more OS/2 Full
            Screen or PM sessions.  If the VDM option is specified, support for
            both Windowed (i.e. Seemless) and Full Screen VDM sessions is
            added.  The ability to switch between different Screen Sessions is
            supported by the supplied Protect Shell program, PMSHELL. You can
            switch between Screen Sessions, both OS/2 and VDM, using the
            Alt-Esc key sequence.  The difference between this and a PM BOOT
            System is the availability of the OS/2 WPS.  Certain default System
            Program and Folder objects are included.

            A WPS BOOT System requires about 9M of hard disk space.  This does
            not include the disk space needed for the SWAP file.

    Syntax:  BOOTOS2   <SOURCE=drive:\path\>
                       <TARGET=drive>
                       <TYPE=PM|WPS>
                       <NLS(Country,KBD,CodePage)>
                       <2DISK[=drive]>
                       <ABIOS>
                       <REXX>
                       <SWAP=drive:\path\>
                       <TRACE[=drive:\path\file]>
                       <HELP>
                       <SYSED>
                       <VDM>
                       <FILE=[drive:\path\file]>
                       <FORMAT[:FAT]>
                       <FORMAT:HPFS>
                       <FORMAT:NONE>
                       <QUIET>
                       <GA200|SP200|GA210|SP211|MR211|GA300>

             SOURCE=  Depending on what type of install you ask BOOTOS2 to
                      perform, certain files might be required from the
                      install disks you used to create your active OS/2
                      system.  One file that is always required is SYSINSTX
                      which is used to create the OS/2 BOOT record, OS2BOOT.
                      The file SYSINSTX.COM is (so far) always found on the
                      first Install disk.  If you are creating a BOOT Disk,
                      then the files KEYBOARD.DCP, VTBL850.DCP, and the
                      CONFIG.SYS file from the install disk are also required.
                      These files (so far) are always found on the second
                      install disk.

                      Normally BOOTOS2 will prompt you for the Install disks
                      it needs.  However, if you installed OS/2 over a LAN
                      or equivalent redirected source, you can use the SOURCE
                      option to point to these redirected sources.  The value
                      of SOURCE is usually a standard CID directory structure,
                      as defined in "GG24-3780 : OS/2 V2.0 and V2.1 Remote
                      Installation and Maintenance".

                      Alternatively, SOURCE can point to a single directory
                      where all the required files are located.  This is the
                      usual format OS/2 CSD remote installs where all the
                      install disks are copied to a single directory.  You
                      could alternatively create a single directory that
                      contains only those files needed by BOOTOS2 and use the
                      SOURCe option so users won't have to worry about install
                      disks.

             TARGET=  By default, BOOTOS2 will install the BOOT system on a
                      floppy disk in your A: drive.  You can use the TARGET=
                      argument to specify an alternate Drive to install the
                      BOOT system on.  This alternate drive can be another
                      floppy or a Hard Disk Drive.  Any medium capable of
                      being booted from can be a target.

                      Values for target are a single drive letter: A .. Z

             TYPE=PM  BOOTOS2 will install a BOOT System that will support
                      PM Applications.  The BOOT System will be accessed as
                      a single OS/2 Windowed Command Prompt.

            TYPE=WPS  BOOTOS2 will install a BOOT system that will support
                      PM Applications.  The BOOT System will be accessed
                      using the OS/2 WorkPlace Shell (WPS).

                 NLS  By Default, BOOTOS2 will get information regarding the
                      NLS environment from the following CONFIG.SYS statements:

                      DEVINFO=KBD,xx,KEYBOARD.DCP     : Default xx  = US
                      COUNTRY=xxx,COUNTRY.SYS         : Default xxx = 001
                      CodePage=xxx                    : Default xxx = 850

                      If your environment requires different values for the
                      above statements, you specify them via the NLS argument.
                      Please note that you must specify all three values.

                      NOTE: The statement is only valid for a TYPE=PM or
                            TYPE=WPS install.  For a minimal install (the
                            default) the 'stripped' versions of the NLS
                            modules, KEYBOARD.DCP and VTBL850.DCP, are
                            used which do not support alternate values.

               2DISK  If creating a BOOT system where the target is a floppy
                      disk drive, the 2DISK option allows you to spread the
                      BOOT system across two disks, increasing the amount of
                      space available for both required and optional files.

                      By default, if your system has a B: drive, BOOTOS2 will
                      use that as the second drive.  If you don't have a B:
                      drive then BOOTOS2 will use A: for both disks (in which
                      case you'll have to swap disks during OS/2 IPL).

                      Alternatively, you can specify an alternative target
                      drive for the second drive.  This is useful when you
                      want to use a floppy drive other than B (for whatever
                      reason).

                      Also, if you have a B: drive, but still want to create a
                      2-Disk BOOT system using only the A: drive, you can
                      specify 2DISK=A to override the default of using B.

                REXX  If room allows, support for REXX will be installed.
                      (PM and WPS only)

                HELP  BOOTOS2 will try and add basic OS/2 Help support.
                      (PM and WPS only)

                 VDM  Support for Virtual Dos Machines (VDMs) will added.

                      *NOTE* This option can not be used when the target
                             drive is a floppy disk on OS/2 systems prior
                             to OS/2 WARP V3

                      *NOTE* When VDM support is installed on a Minimal
                             system (Text Only), to start a new VDM session
                             press the Ctrl-D key combination.  This will
                             invoke a new VDM session.

               SYSED  Add support for the OS/2 System Editor (E.EXE)
                      (PM and WPS only)

               SWAP=  For a TYPE=PM or TYPE=WPS install, the default value for
                      the SWAPPATH is the ROOT directory of the target BOOT
                      system.  You can use this option to place the Swap File in
                      a different directory.

               FILE=  This option can be used to specify alternate files to be
                      installed by BOOTOS2.  The value of the option is the
                      fully qualified file name of a Text file; BOOTOS2 will
                      examine each line in the file as follows:

                      - If the line is blank it will be ignored

                      - If the line starts with a '*', it will be considered
                        a comment line and will be ignored

                      - If the line starts with a '=', all text past the '='
                        will be considered the fully qualified file name of
                        a file BOOTOS2 will copy to the \OS2 directory of the
                        target drive.

                      - All other lines will copied unchanged to the CONFG.SYS
                        file on the Target drive.

               TRACE  Use this option to create a Trace of the Install Process.
                      A file called BOOTOS2.LOG will be created that will
                      contain a complete record of the requested BOOT System
                      Install process.  By default the LOG file will be created
                      on the same physical directory the BOOTOS2.EXE program
                      resides on.  You can optionally specify an alternate path
                      for the LOG file; e.g. TRACE=drive:\path

              FORMAT  You can use this option to have BOOTOS2 force a certain
                      type of Format (i.e. FAT, HPFS, or NONE) to the target
                      drive.  This is usefull for automated processes.

               QUIET  This will run BOOTOS2 such that no output is produced.
                      This is also useful for automated processes.  You can
                      use the TRACE option to maintain a record of the install.
                      Please note that because BOOTOS2 can't prompt the user
                      to ask about formating the target drive, if you don't
                      explicitly specify the FORMAT option, FORMAT:FAT will
                      be assumed.

               The following 5 options can be used to force BOOTOS2 to assume
               that the specified OS/2 v2.x version is the 'active' level.
               Usually BOOTOS2 will determine this automatically by examining
               the SYSLEVEL.OS2 file, so you shouldn't need to use these
               options under normal circumstances.  However, there are times
               when the SYSLEVEL.OS2 file can become corrupted, making it
               impossible for BOOTOS2 to determine the active system level.
               You can use these options to get around this problem.

               GA200  OS/2 2.00 GA
               SP200  OS/2 2.00 SP
               GA210  OS/2 2.10 GA
               SP211  OS/2 2.11 CSD SP
               MR211  OS/2 2.11 Manufacturers Refresh
               GA300  OS/2 WARP V3.0

               NOTE: OS/2 WARP v3.0 will present itself as OS/2 v2.30.

You must run BOOTOS2 from an existing OS/2 V2 or V3 system. The BOOTOS2 program
will analyze your system and create a BOOT system that is specific for it.  For
example it will determine if your system supports features such as HPFS or SCSI
and add the appropriate support for it.  Because of this, a BOOT disk created
for a specific workstation will not necessarily work correctly on a different
workstation.

If you install the BOOT system on a Hard Disk Drive, you'll probably want to
also install the OS/2 BOOT Manager and add the BOOT system to it.

Please note that the BOOT system installed with this release of BOOTOS2 does
not support Windows.  A future release of the program might do so
if enough users want it (and I figure out how).

The file BOOT2X.ZIP contains the following files:

  BOOTOS2.EXE       * The OS/2 BOOT System Create Utilty for OS/2 V2.0
  BOOTOS2.ABS       * Short Abstract descriping the Function of BOOTOS2
  BOOTOS2.DOC       * Documentation for BOOTOS2
  BOS2U200.INI      * User   INI file needed for OS/2 2.0
  BOS2S200.INI      * System INI file needed for OS/2 2.0
  BOS2U210.INI      * User   INI file needed for OS/2 2.0+SP and OS/2 2.1
  BOS2S210.INI      * System INI file needed for OS/2 2.0+SP and OS/2 2.1
  BOS2U300.INI      * User   INI file needed for OS/2 WARP V3
  BOS2S300.INI      * System INI file needed for OS/2 WARP V3
  BOS2REXX.EXE      * Stub Module for REXX Support
  BOS2SHL.EXE       * Protect Shell program for use instead of SYSINST1
  LICENSE.TXT       * IBM License Agreement

Author:

Kenneth A. Kahn,  IBM Poughkeepsie N.Y.

CompuServe - 71333,2526
Internet   - KENKAHN@VNET.IBM.COM
IBM Mail   - USIB25P9 at IBMMAIL

History:

08/92 : (v1.00)

- Initial release

03/93 : (V2.00)

- Fixed a problem where BOOTOS2 was not recognizing a Floppy Disk Drive as a
  Removable medium if no Disk was in it when the program first started.  This
  would cause BOOTOS2 to install the wrong BOOT System, resulting in various
  errors.

- Fixed problem with FORMAT by making it run Synchronously so if it Fails, an
  error code will be returned.

- Added support for NLS Statement

- When COPYing file, added more meaningful error messages

- Fixed problem running BOOTOS2 from a ROOT Directory

- The temporary directory where files from the install disks are copied is
  changed from the directory where BOOTOS2.EXE is executed from to a new
  subdirectory based off of it named BOS2TEMP  This will prevent BOOTOS2 from
  overwriting and deleting system files when it is located on the \OS2
  directory of the BOOT Drive.

- The INI files can now be located on your DPATH

- If the Target Drive is already formatted and contains data, the option to
  run the Install without formating is given.

- Added special support for the Image Adapter/A

- All DLLs will be located via LIBPATH instead of looking automatically for it
  in \OS2\DLL

- Changed TARGET= to allow for X or X:

- For a minimal install, a check will be made to see if there is enough room
  left on the target drive to copy over extra files like CHKDSK, UHPFS and
  OSO001.MSG

- Fixed problem where HPFS support was not added if the Target drive was
  formatted for HPFS but the active system did not have HPFS support.

- Added support for 2-Disk BOOT System via 2DISK argument

- Added NLS support for FORMAT by querying system for the response character
  to use: US default is 'Y'

- Added support for a BOOT system when active system is OS/2 2.0 with Service
  Pack or OS/2 2.1

- Added support for REXX invocation argument

- Added support for ABIOS argument.  This allows a user to explicitly specify
  that the workstation supports ABIOS.  This will allow the user to circumvent
  the  problem where "RAM Loadable" MicroChannel machines were being diagnosed
  as not supporting ABIOS; causing the wrong set of system files to be loaded.

- Changed external name to BOOTOS2

- Added support for the TRACE invocation option

- Added support for the SWAP= invocation argument

05/93 : (V3.00)

- Updated BOS2U21 and BOS2S21 files to 2.1 GA levels

- Fixed 2DISK option.  It will no longer return RC=4 after trying
  to format B.

- Added support for SVGA; Copy over \OS2\SVGADATA.PMI

- Added code to copy over BASEDEV= invocation arguments

- Added code to copy over HELPMGR.DLL if room allows

- Added 2.1 support for 8514 by updating BOS2U21.INI with the proper values
  for PM_DISPLAYS.  This updating of BOS2U21 will be done for all display
  types if necessary.

- Added support for HPFS386

- For a Disk Install, install sequence changed so the files SYSINST1 and
  HARDERR are only copied if there is room.  This frees up room for BIO
  files required by certain MicroChannel machines that could not fit
  otherwise.

  *NOTE* If SYSINST1/HARDERR are not installed, then CAD will not work

- Enhanced install of BASEDEV drivers.  For a single 1.44M BOOT Disk, only
  those BASEDEV drivers that are needed for accessing DASD (.ADD) are copied.
  Otherwise, if room allows, all BASEDEV drivers will be copied.

- Removed copying of DTM.DLL for a TYPE=PM or TYPE=WPS install.  It wasn't
  needed for anything as far as I could tell and at least one user complained
  it wasn't installed on his base OS/2 system

- Support for the IBM IA/A is not working in this release.  I am trying to get
  help with this from the IA/A development team, but it might take a while.  If
  you have IA/A support installed on your active system when you run BOOTOS2,
  you can try the following:

  * On the \OS2\DLL directory of your active OS/2 2.x system, look for a file
    named DISPLAY.OLD; this is the DISPLAY.DLL that was active before you ran
    the IA/A INSTALL program.  Copy this 'over' the DISPLAY.DLL that BOOTOS2
    installed on the \OS2\DLL directory of your 'target' system.

  * In the CONFIG.SYS of your target system, look for the following statements:

    DEVICE=\OS2\XGARING0.SYS
    DEVICE=\OS2\IAOS2RFS.SYS
    SET VIDEO_DEVICES=VIO_yyy,VIO_IBMIAA
    SET VIO_IBMIAA=DEVICE(BVHVGA,BVHIAA)
    SET VIO_yyy=DEVICE(BVHVGA,BVHyyy)

  * Change these to:

    rem DEVICE=\OS2\XGARING0.SYS
    rem DEVICE=\OS2\IAOS2RFS.SYS
    SET VIDEO_DEVICES=VIO_yyy
    rem SET VIO_IBMIAA=DEVICE(BVHVGA,BVHIAA)
    SET VIO_yyy=DEVICE(BVHyyy)

  * Do this *BEFORE* you IPL your Target BOOTOS2 System

03/94 : (V4.00)

- Enhanced the 2DISK option to work on a system with a single Disk Drive.

- Enhanced the TRACE option to accept an alternate PATH where BOOTOS2.LOG will
  be created.

- For XGA support, all files on the XGA$DMQS directory will now be copied to
  the Target Drive.

- Enhanced BASEDEV processing to search for target files via DPATH instead of
  just on the \OS2 directory.

- Fixed support HPFS386 support; files HPFS200.386 and HFS.MSG are copied as
  well as HPFS386.IFS.  For a minimal install, the BOOTSH.EXE OS/2 Shell program
  will be copied and used as the PROTSHELL.

- For SVGA support, made copying of SVGADATA.PMI optional.  This is in case the
  SVGA ON command was not yet run

- Mouse support will be added to a minimal BOOT System if room allows

- Added support for the OS/2 2.11 CSD SP and 2.11 Manfacturers Refresh

- Enhanced SOURCE= to allow for Service Pack (CSD) install by allowing it to
  point to a single directory instead of a CID directory structure.

- Added HELP option to optionally add support for OS/2 Help
  if room allows.  The files HPMGRMRI.DLL and HMHELP.HLP are
  are copied, and a SET HELP= statement is added to the
  CONFIG.SYS

- For a minimal system, BOOTOS2 will now use it's own SHELL program, BOOTSHL,
  instead of SYSINST1.  Unlike SYSINST1, BOOTSHL program supports multiple
  screen sessions (via Alt-Esc).  It also supports STARTUP.CMD

- Added support for VDMs via VDM option

- Added some new invocation arguments to allow for
  unattended installs.

  FORMAT[:FAT]  = Automatically Format Target for FAT
  FORMAT:HPFS   = Automatically Format Target for HPFS
  FORMAT:NONE   = Automatically Skip the Target Format

- Added SYSED option to optionally add support for the
  OS/2 System Editor (E.EXE)

- Added SYSINSTX as an optional install file

- Added optional target to 2DISK option (2DISK=x:)

- Added code to cleanup, and remove, BOS2TEMP when done

- Added QUIET argument to allow suppression of all output
  to StdOUT

- Verified all cases where BOOTOS2 ends in error would
  return a non-zero code

- Added Stacker Support.

- Removed COM.SYS as file that BOOTOS2 will install for
  serial mouse support (not needed)

- Updated SOURCE option to look for either CID directory
  structure or a single directory

- Added support for AOX upgrade.  If OEMXLAT.SYS is found
  on active system, it will copied to target drive

07/94 : (V5.00)
- Fixed problem where if target disk was formated for HPFS
  and HPFS386 is active, support for HPFS.IFS would be
  installed instead of for HPFS386

- For a 2-Disk Install, the support files for HPFS and the
  file CMD.EXE will be copied to the second target drive to
  space on the first target drive.

- Added support for OS2fW 2.10 Ga and OS2fW 2.11 SP

- Added support for the OS/2 Performance Beta (v2.12)

- Removed AOX support as that is only needed in a 16-bit
  environment (e.g. OS/2 v1.x).

- Fixed Stacker support to allow for STACKERI.SYS

- As of LS 4.0 the file HPFS200.386 was folded into the
  HPFS386.IFS file.  Code added to recognize this and
  to not copy HPFS200.386 if appropriate.

11/94 : (V6.00)
- Fixed problem with install of HPFS386 support where target
  was a single drive (1 or 2 disks) that resulted in an
  error message about trying to copy over a NULL file.

- Fixed support for CDROMs by copying over OS2CDROM.DMD
  and CDFS.IFS

- Added support for EXT5DD

- Removed restriction of installing VDM on BOOT Disk in
  support of APAR (PJ13582).  The VDM option is valid on
  BOOT disks created for OS/2 WARP V3

- If target drive is non-removable, do not change it's
  volume label if it is not formated.

- Added support for new 32-bit IA/A drivers.  The older
  16-bit IA/A drivers are not supported.

- Changed BASEDEV processing to copy *ALL* drivers instead
  of just the DMDs, ADDs and I13.

- Added support for the new OS/2 WARP V3 (XR03000)

- Fixed abend caused when trying to open
  a non-existing CONFIG.SYS file.  An error message is
  now issued when the file can't be found.

- Fixed problem where CONFIG.SYS statements >255 would cause
  premature ending of BOOTOS2 without any error messages.
  This was a combination of lack of Stack (Stack and Heap
  increased to 16K) and only processing first 255 bytes of
  CONFIG.SYS statements.

- Enhanced support for alternate Mouse drivers; any driver
  specified via TARGET= on the MOUSE.SYS statement will
  be installed.

  NOTE: The alternate Device Driver must be accessable via DPATH.

  NOTE: Any parameters that need to be specified on the DEVICE=
        statement for the alternate drive must be added by the
        user.

- Changed the way ABIOS Patch files are processed.  Instead
  of examining all the .BIO files and copying those with the
  correct Machine ID, the patch files are extracted out from
  the ABIOS.SYS file on the BOOT drive.  This ensures that
  only those patch files valid for the hardware are copied,
  preventing the problem where 'extra' patch files were
  copied that matched the Machine (or default) ID but were
  not valid, resulting in the system looking for the nonMCA
  drivers (e.g. CLOCK01) instead of the MCA ones (CLOCK02)

  This change also allows for the possibility of patch files
  with extensions other than .BIO to be processed

- Added new option FILE=.  This allows users to specify alternate files
  to be installed by BOOTOS2 on the Target drive.

- Changed the names of the INI files supplied by BOOTOS2 in order to allow
  more flexibility with the Major and Minor version numbers

03/95 (V6.50)
- Added support for WARP Full-Pack (XR03001)

- Addeded support for BASEDEV=OS2CDROM.DMD in addition to DEVICE=

- Fixed problem of OS2LOGO not being copied over if 2DISK=A
  was specified.

- The file HPFS386.INI will be copied if LS 4.0 is installed
  and HPFS386 is active.                                    
