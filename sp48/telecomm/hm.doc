                  Стандартные команды АТ (система команд Hayes).
               из описния дуплексного модема 1200.
              ---------------------------------------------------
                    ------------------------------------

Замечание: отсутствие параметра в команде
           эквивалентно значению параметра 0.

-----------------------------------------------------------------------------
      А/ - перезапуск предыдущего набора команд
           (из командного буфера контроллера)
-----------------------------------------------------------------------------
      А  - переход в состояние ON-LINE в режиме
           ответа - обычно используется для
           ручного ответа на вызов, переключения
           голос-данные и для выполнения аналогового
           теста на шлейфе в режиме ответа.
-----------------------------------------------------------------------------
      В0 - установить протокол CCITT V.21/V.22.
      B1 - установить протокол Bell 103/212.
-----------------------------------------------------------------------------
      C0 - блокировка передачи несущей до тех пор,
           пока не будет выдана команда C1 или Z.
      C1 - разблокировка передачи несущей при:
           * установлении соединения с удаленным модемом;
           * в режиме ON-LINE с удаленным модемом;
           * при выполнении шлейфа на аналоговом шлейфе.
             Передача прекращается при выдаче модемом
             сигнала отбой.
-----------------------------------------------------------------------------
      D  - переход в ON-LINE в исходном режиме -
            без строки вызова аналогична действию команды A;
            вызов удаленного модема осуществляется строкой
            вызова за D.
-----------------------------------------------------------------------------
      E0 - блокирует эхо-вывод на экран монитора
                            (действует в командном режиме).
      E1 - разрешает эхо-вывод на экран монитора
                            (действует в командном режиме).
-----------------------------------------------------------------------------
      F0 - устанавливает полудуплекс - любой символ,
           передаваемый в модем сопровождается эхо-выводом на монитор и
                               пересылается удаленному модему.
      F1 - устанавливается дуплекс - эхо-вывод передаваемых символов запрещен.
-----------------------------------------------------------------------------
      H0 - отбой (переход в состояние "трубка опущена").
      H1 - "трубка снята".
-----------------------------------------------------------------------------
      I0 - требование выдачи кода идентификации ближнего модема на экран.
           Три цифры: первые две - код модели и третья - номер версии.
      I1 - требование выдачи на экран контрольной суммы ПЗУ модема.
            Используется для отладки на производстве.
      I2 - проверка контрольной суммы ПЗУ модема.
            Требует кода завершения либо OK, либо ERROR.
-----------------------------------------------------------------------------
      L0 - управление динамиком - включить динамик модема.
      L1 - управление динамиком - малая громкость.
      L2 - управление динамиком - средняя громкость.
      L3 - управление динамиком - большая громкость.
-----------------------------------------------------------------------------
      M0 - выключение динамика.
      M1 - включение динамика при вызове и ответе на вызов и отключение
            его после установления соединения.
      M2 - включает динамик на все время.
      M3 - включение динамика до момента детектирования несущей,
            за исключением времени набора номера.
-----------------------------------------------------------------------------
      O0 - переход в состояние ON-LINE - обеспечивает переход из
            командного режима без сброса соединения или шлейфа
      O1 - переход в состояние ON-LINE - с повторным обучением.
-----------------------------------------------------------------------------
      P  - импульсный вызов - если используется как команда, то
            обеспечивает импульсный вызов во всех последующих
            командах вызова, где не используется модификатор вызова T.
-----------------------------------------------------------------------------
      Q0 - разрешает модему выдачу кода завершения.
      Q1 - запрещает модему выдачу кода завершения.
-----------------------------------------------------------------------------
      Sr?- команды индицируют содержимое соответствующего регистра S.
-----------------------------------------------------------------------------
      T  - тональный вызов - если используется как команда, то обеспечивает
           тональный во всех последующих командах  вызова, где не
           используется модификатор P.
-----------------------------------------------------------------------------
      V0 - выдача кода завершения цифрами от 0 до 8. Обрамление символами
                                                                      CR и LF.
      V1 - выдача словестного кода завершения, обрамленного с двух сторон
            парой символов CR-LF.
-----------------------------------------------------------------------------
      X0 - определяет выбор кодов от 0 до 4 и 8 - базовый набор кодов
                                                                   завершения.
      X1 - определяет выбор кодов от 0 до 5 и 8 - первый расширенный набор
                                                              кодов завершения.
      X2 - определяет выбор кодов от 0 до 6 и 8 - второй расширенный набор
                                                              кодов завершения.
      X3 - определяет выбор кодов от 0 до 5,7 и 8 - третий расширенный набор
                                                              кодов завершения.
      X4 - определяет выбор кодов от 0 до 8 - четвертый расширенный набор
                                                              кодов завершения.
-----------------------------------------------------------------------------
      Y0 - запрещает передачу и прием break-сигнала.
      Y1 - разрешает две функции раз'единения:
              * если в течение 1.6 секунды модем фиксирует отсутствие несущей в
                состоянии ON-LINE, то соединение разрывается. Эта функция
                запрещается значением регистра S10=255
              * передача 4-х секундного break-сигнала перед раз'единением после
                потери несущей или сигнала DTR.
-----------------------------------------------------------------------------
      Z  - сброс (переустановка) - она переустанавливает текущую
           конфигурацию модема в заданную по умолчанию и очищает буфер команд.
           Действие команды подобно включению питания.


-----------------------------------------------------------------------------
-----------------------------------------------------------------------------
-----------------------------------------------------------------------------
-----------------------------------------------------------------------------
      &C0 - цепь 109 включена постоянно (блокировка цепи 109).
      &C1 - цепь 109 включена, если есть несущая (разблокировка цепи 109).
-----------------------------------------------------------------------------
      &D0 - модем игнорирует оконечное оборудование данных.
      &D1 - модем принимает команду на вкл. или выкл. передачи на оконечное
                                                          оборудование данных.
      &D2 - модем переходит в режим "трубка опущена" с сохранением возможности
                                                         приема команд от ООД.
      &D3 - модем принимает инициализирующую установку на вкл./выкл. передачи
                                              на оконечное оборудование данных.
-----------------------------------------------------------------------------
      &F  - загрузка действующего варианта конфигурации.
-----------------------------------------------------------------------------
      &G1 - защитный тон 550 Гц.
      &G2 - защитный тон 1800 Гц.
-----------------------------------------------------------------------------
      &L0 - выбор коммутируемой линии.
      &L1 - выбор арендованной линии.
-----------------------------------------------------------------------------
      &P0 - выбор пульс-набора с соотношением 39/61 (USA/Canada).
      &P1 - выбор пульс-набора с соотношением 39/67 (UK/NK).
-----------------------------------------------------------------------------
      &R0 - цепь 106 следует за 105.
      &R1 - цепь 105 игнорируется. Цепь 106 всегда включена.
-----------------------------------------------------------------------------
      &S0 - цепь 107 всегда включена (блокировка цепи).
      &S1 - цепь 107 совместима с EIA RS-232C.
-----------------------------------------------------------------------------
      &T1 - инициализация петли местного аналогового теста.
      &T2 - резерв
      &T3 - инициализация местный цифровой шлейф.
      &T4 - запрос цифрового шлейфа через удаленный модем.
      &T5 - отказ от цифрового шлейфа через удаленный модем.
      &T6 - инициализация петли удаленного аналогового теста.
      &T7 - инициализация, наряду с местным аналоговым шлейфом, шлейфа через
                                                               удаленный модем.
      &T8 - инициализация местного аналогового шлейфа с собственным тестом.
-----------------------------------------------------------------------------
      &W  - считывание содержимого ОЗУ.
-----------------------------------------------------------------------------
      &Z  - запись номера телефона в ОЗУ.

-----------------------------------------------------------------------------
      Esc (без АТ) по умолчанию (+++) - перевод из режима ON-LINE
                                                 в режим команды ON-LINE.





                          КОДЫ ЗАВЕРШЕНИЯ.
                          ----------------

словесный     цифровой                             значение

OK              0         1. Модем выполняет командную строку, хранящуюся
                             в командном буфере без ошибок.
                          2. Модем отменяет вызов в процессе вызывающей
                             операции или ответ в процессе ответной операции.

CONNECT         1            Модем соединен с удаленным модемом или выполняет
                             аналоговый шлейф. Если ранее применялась команда
                             X0, то тест может выполняться со скоростями
                             1200 или 300 бит/с. Если применялись команды
                             X1,X2,X3, X4, то тест может выполняться
                             с 300 бит/с скоростью.

RING            2            Модем обнаруживает вызывающий звонок.
                             Слова "RING" появляются на экране одно за другим,
                             пока модем не ответит или не прекратится вызов.

NO CARRIER      3         1. Модем не обнаруживает несущую после вызова или
                             после того, как телефонная трубка будет положена
                             после операции ответа.
                          2. Модем обнаруживает потерю несущей в режимах
                             ON-LINE или команды ON-LINE, когда он соединен с
                             удаленным модемом или выполняет локальный
                             аналоговый шлейф.

ERROR           4         1. Модем натыкается на неверную команду в командной
                                                                      строке.
                          2. Пользователь вводит неверный символ в командную
                                                   строку вызывающей команды.
                             "ERROR" замещает ее даже без нажатия клавиши
                                                                     <Enter>.

CONNECT 1200    5            Модем соединен с удаленным модемом или завершает
                                                аналоговый шлейф со скоростью
                             1200 бит/с. Этот код появляется после команд
                                                                  X1,X2,X3,X4.

NO DIALTONE     6            Модем не определяет вызывающую модуляцию, когда
                             вызывает телефонный номер. Этот код завершения
                             наступает после команд X2 или X4. Он наступает
                             после модификатора W, даже если не применялись
                                                              команды X2 и X4.

BUSY            7            Модем определяет сигнал занятости после вызова
                             телефонного номера. Эта команда
                             становится возможной благодаря применению X3 и X4.

NO ANSWER       8            Модем не получил ответа в течении 30 секунд.


                       НАЗНАЧЕНИЕ  S - РЕГИСТРОВ.
                       --------------------------

S0  - количество звонков до автоответа - при S0=0 модем не реализует
               автоматический ответ на вызов. Он находится в состоянии
               "трубка опущена" до тех пор, пока не будет введена
               команда A -  ручной ответ на вызов. при S0= от 1 до 255
               модем автоматически "поднимает трубку" и фазируется с
               вызывающим модемом после указанного числа звонков.
                                                        По умолчанию = 0.

S1  - счетчик звонков - подсчитывает число поступивших звонков в командном
              режиме. Счетчик сбрасывается в 0, если звонков не было за
              определенный интервал времени. По умолчанию = 0.

S2  - значение знака Escape в коде ASCII - по умолчанию 43(+), что
              соответствует символу " + ". Код не должен превышать 127,
              т.к. в противном случае блокируется команда Escape и запрещается
              переход модема в командное состояние. Если в состоянии ON-LINE
              команда Escape запрещена, то модем не может дать отбой до тех
              пор, пока не даст отбой удаленный модем или не будет
                                                            выключено питание.

S3  - значение знака ASCII для <Enter> - по умолчанию 13 (Ctrl M). Командная
      строка должна заканчиваться <Enter> и код завершения должен появляться
      только после нажатия <Enter>. Разрешен код не более 127.
      (В другом источнике код 13 соответствует CR).

S4  - значение знака ASCII перевода строки - по умолчанию 10 (Ctrl J).
      Код завершения должен определяться и появляться после перевода строки
      (и <Enter>). Допускается код не более 127. (В другом источнике код 10
                                                             соответствует LF).

S5  - значение знака ASCII знака возврата - по умолчанию 08 (Ctrl H). Знак
       возврата используется для редактирования командной строки.
       Допускается код от 0 до 32 и 127. (В другом источнике код 8
                                                           соответствует BS).

S6  - время ожидания вызова - задает интервал времени от момента перехода
      в состояние "трубка снята", до начала осуществления вызова.
      Используется как при слепом вызове (выбираемом командами X0, X1 или X3),
      так и при тональном вызове (выбираемом командами X2 или X4). Он не
      влияет на действия с применением вызывающего модификатора W
      (Wait for Dial Tone). Задается время от 2 до 255 секунд.
                                                             По умолчанию = 2.

S7  - время ожидания несущей - интервал от 2 до 255 секунд. По окончании
      переход в состояние "трубка опущена". Регистр так же управляет временем
      ожидания гудка после вызова телефонного номера, следующего за
      модификатором вызова W. Если модем принимает гудок в течение всего
      этого периода, то после его окончания он начинает вызывать
      следующий номер. По умолчанию 30 с.

S8  - время паузы модификатора "," (запятая) - интервал от 0 до 255 секунд.
                                                             По умолчанию = 2.

S9  - время обнаружения ответной несущей - это и допустимое время пропадания
      несущей в состоянии ON-LINE. Шаг 0,1 секунды, а интервал 1-255
      (от 0,1 до 25,5 сек). По умолчанию = 6 с.

S10 - промежуток времени между моментами потери несущей и перехода в
      состояние "трубка опущена" - интервал от 1 до 255 с шагом 0,1 сек.
      Максимально допустимое время отсутствия несущей без разрыва соединения
      определяется из выражения: S10 - S9 + время определения исчезновения,
      т.е. время, которое требуется модему для определения несущей.
                                                          По умолчанию = 7 с.

S11 - скорость кодового вызова - продолжительность кодовых импульсов и
      промежутков между ними при кодовом вызове (DTMF- Dual Tone
      MultiFrequency). Интервал от 50 до 255 мсек. Регистр S11 не влияет на
      скорость вызова, когда в модеме зафиксирована скорость 10 имп/с.
      Промежуток между соседними цифрами при кодовом вызове зафиксирован
      в размере 800 мсек. По умолчанию = 70 мс.

S12 - время задержки кода Escape - минимальное незаполняемое ничем время
      до и после ввода кода Escape (три последовательных знака Escape) в
      состоянии ON-LINE. Если это время короче,чем время задержки кода Escape,
      то модем не воспримет Escape-команду и останется а состоянии ON-LINE.
      Интервал от 0 до 255 с шагом 1/50 сек. По умолчанию = 50 с.

S13 - регистр признаков - определяет управление линией UART:
                          бит 0       неопределен
                              1       неопределен
                              2   0   проверка блокирвана
                                  1   проверка разрешена
                              3   0   проверка по нечетности
                                  1   проверка по четности
                              4   0   7 бит данных
                                  1   8 бит данных
                              5       неопределен
                              6   1   флаг переполнения буфера (выдается код
                                             завершения ERROR).
                              7   0   8-й бит данных установлен в положение
                                        SPACE (если бит 4 равен 1).
                                  1   8-й бит данных установлен в положение
                                                    MARK.

S14 - регистр признаков - опции, выбранные пользователем:
                          бит 0   0   базовые коды завершения (умолчание)
                                  1   расширенные коды завершения
                              1   0   эхо-сопровождение запрещено
                                  1   эхо-сопровождение разрешено
                              2   0   разрешение выдачи кодов завершения (умол)
                                  1   запрещение выдачи кодов завершения
                              3   0   цифровые коды завершения (умолчание)
                                  1   словесные коды завершения
                              4   0   команды разрешены
                                  1   команды запрещены
                              5   0   отношение цифра/пауза при вызове 67/33
                                  1   отношение цифра/пауза при вызове 61/39
                              6   1   динамик не сигнализирует о несущей (умол)
                              7   1   динамик постоянно включен

S15 - регистр признаков - опции, выбранные пользователем:
                          бит 0       установлен так же, как бит 4
                              1       установлен так же, как бит 5
                              2   0   ответ
                                  1   исходный режим
                              3   0   полудуплекс
                                  1   дуплекс
                              4       код скорости передачи
                              5       код скорости передачи
                              -----------------------------
                               4 бит 5 бит    скорость (бод)
                              -----------------------------
                                0     0    не определена
                                0     1       110
                                1     0       300
                                1     1      1200
                              -----------------------------
                              6   0   поддержка DTR
                                  1   игнорировать DTR
                              7       не определен

S16 - регистр опций теста - ...

S17 - резерв.

S18 - длительность теста - диапазон изменения от 1 до 255 секунд.
                                              По умолчанию = 0 с.

S19 - резерв.

S20 - резерв.

S21 - регистр признаков -

S22 - регистр признаков -

S23 - регистр признаков -

S24 - резерв.

S25 - задержка по цепи 108 (DTR) - интервал от 0 до 255 секунд с шагом 0,01 с.
                                                           По умолчанию = 5 с.

S26 - задержка между цепями 105 (RTS) и 106 (CTS) - интервал от
                           0 до 255 секунд с шагом 0,01 с. По умолчанию = 1 с.

Регистры с номерами большими 16-ти в модемах на скорость 1200 бод обычно
                                                              не используются.


                           МОДИФИКАТОРЫ ВЫЗОВА.

T           - тональный вызов - скорость изменяется установкой регистра
              S11 (по умолчанию 7,14 цифр в секунду).

P           - импульсный вызов - скорость импульсного вызова фиксирована и
                        составляет 10 импульсов в сек.

, (запятая) - пауза в продолжении обработки строки вызова. По умолчанию
              - 2 сек. Изменяется установкой S8. Можно использовать несколько
              подряд. Если во время паузы не обнаружено гудка, то номер
              вызывается вслепую. Однако через 30 сек (как в S7) модем
              прекратит вызов и выдаст ответ NO CARRIER. Подобно W.

W           - ожидание гудка - помещенный перед номером предписывает модему
              ждать 30 сек. (как в S7) для определения 3-х секундного
              непрерывного гудка перед набором остальных цифр. Если гудка нет,
              то модем выдает код завершения NO DIALTONE и прекращает вызов.
              Код завершения разрешается модификатором без использования X2
              или X4. Модификатор W разрешает слепой вызов, не смотря на
              наличие или отсутствие модификатора ",".

@           - ожидание тишины - помещенный перед номером предписывает модему
              ждать 30 сек одного или более гудков, за которыми должна
              следовать 5-ти секундная тишина, перед набором остальных цифр.
              Используется для доступа в защищенные компьютерные системы,
              обеспечивающие ответ тишиной, как условие дальнейшего входа
              в систему. Аварийный код завершения NO ANSWER. Если были
              использованы X3 или X4 и обнаружен сигнал занятости после
              вызова номера, выдается код завершения BUSY.

!           - кратковременный отбой - в любом месте комады предписывает
              модему сделать перерыв в 0,5 сек, затем снова перейти в
              состояние "трубка снята" и продолжить выполнение вызова.

/           - пауза 0,125 секунды - помещается в любом месте команды вызова.
              Можно использовать несколько подряд.

R           - переход из исходного режима в режим автоответа - может быть
              размещен только в конце команды вызова. Предписывает перейти
              в режим автоответа сразу после набора номера. Используется
              для вызова модемов, имеющих только исходный режим.

;           - возврат в командный режим после вызова - помещается только в
              конце команды вызова. После вызова номера модем продолжает
              обработку командной строки, если после ";" есть другие команды.
              Команда с ; в конце не может быть последней в командной строке.
              Хотя модем возвращается в командный режим после вызова номера,
              находящегося перед ;, он одновременно ожидает установления
              соединения с вызванным номером и переходит в режим ON-LINE
              после установления соединения.
              Соединение, установленное с использованием ; отличается от
              соединения, установленного без нее.
              Модификатор вызова ; отменяет требование обнаружения модемом
              ответной несущей и передачи собственной несущей. Таким образом,
              установленное соединение аналогично телефонному.
              Возможности модификатора вызова ; используются для вызова
              электронной службы, такой как банк, которая может принимать
              только тональные вызовы. Мoдификатор ; позволяет вызывать
              длинные телефонные номера, которые могут переполнить буфер
              команды. Вы можете поместить номер в две и более строки.
              Все строки, кроме последней заканчиваются  модификатором ;.
