
                   ПАКЕТ ДЛЯ РАБОТЫ С МЕНЮ

                       MENU    V 1.5

                   (c) 1990, Мигач Ярослав



                  РУКОВОДСТВО ПО ЭКСПЛУАТАЦИИ

        Данный пакет подпрограмм является органическим
     продолжением ранее созданного пакета Window12, однако он
     будет поддерживаться и более поздними версиями Window.
     Menu15 предназначается для разработки программ, создающих и
     работающих с экранными меню при помощи функциональной
     клавиатуры. Menu15 требует для своей работы стандартный
     модуль турбо паскаля - Crt. Для использования пакета в своей
     программе дайте команду транслятору:

            USES Dos, Crt, Def, Window17, Menu15;

        Menu15 позволяет создавать до 20 меню на экране
     терминала.  Под каждое создаваемое меню Вы должны выделить
     одно окно.  Выделяемые окна могут быть как независимыми, так
     и располагаться в одной цепочке. Прежде чем приступить к
     созданию нового меню или его использованию, необходимо
     установить его рабочий номер при помощи процедуры:

                num_mnu ( number );

     где number переменная или константа типа BYTE, указывающая
     необходимый номер.
        Создать новое меню можно, воспользовавшись следующей
     процедурой :

                n_mnu ( color_user, mkey, x, y );

     где color_user - цвет выборки; mkey - тип создаваемого
     меню, если 0 - меню горизонтальное, если 1 - вертикальное; x
     и y - относительные координаты первой команды меню в том
     окне, в котором оно будет использоваться.


        Однако этого недостаточно для создания меню. Перед
     использованием следующей процедуры обязательно
     активизируйте окно, в котором создаваемое меню будет
     находится, и только после этого приступайте к занесению
     команд:

                n_cmd ( stroka );

     где stroka представляет собой строковую переменную или
     константу, содержащую в себе имя команды. Процедуру n_cmd
     выполните столько раз, сколько Вам необходимо занести
     команд в меню. Команды в меню будут располагатся в той
     последовательности, в которой Вы их будете заносить.
        Процедура :

                d_mnu;

     уничтожает меню с текущим номером, тем самым освобождая
     динамически распределяемую память для других целей.
        Функция max_cmd_num возвращает значение наибольшего
     номера команды в текущем меню.  Для использования созданного
	меню необходимо сперва отобразить на экране терминала
     предназначенное для этой цели окно, а затем воспользоваться
     процедурой:

                ctl_mnu ( number, ch );

     где ch представляет собой символ команды, которым
     воспользовался пользователь при выборке меню, number -
     номер выбранного меню, при входе в подпрограмму должен быть
     установлен и указывать на одну из команд. Для ввода команд
     с клавиатуры используются функции опроса клавиатуры
     определенные в модуле Def.Приведем простой пример:

                ......

                num_mnu ( 1 );
                n_mnu ( BLACK, 0, 2, 2 );
                work_number ( 1 );
                n_cmd ( 'COMMAND1' );
                n_cmd ( 'COMMAND2' );
                n_cmd ( 'COMMAND3' );
                p_window ( 0 );
                WHILE ( ch <> ENTER ) DO
                     ctl_mnu;
                ....


     Приведем еще две процедуры, которые помогут Вам в работе:

                p_cmd ( number, kkey );

     печатает на экране команду текущего меню с номером number,
     если key = 0 - отображение без выделения, если 1 - с
     выделением.

        Ниже приведен краткий перечень подпрограмм пакета.

   ______________________________________________________________________

   num_mnu             установка рабочего номера        number : BYTE
   ______________________________________________________________________

   n_mnu               создание нового меню             cl_usr : BYTE;
                                                        mkey : BYTE;
                                                        x, y : BYTE
   ______________________________________________________________________

   n_cmd               добавить команду                 cmd : ss_string
   ______________________________________________________________________

   d_mnu              уничтожение меню                        нет
   ______________________________________________________________________

   FUNCTION max_cmd_num : INTEGER - кол-во команд в меню
   ______________________________________________________________________

   ctl_mnu            управление меню                VAR number
                                                     :INTEGER
                                                      VAR ch : CHAR
   ______________________________________________________________________

   p_cmd              печать команды меню            number : INTEGER;
                                                     kkey : INTEGER
   ______________________________________________________________________