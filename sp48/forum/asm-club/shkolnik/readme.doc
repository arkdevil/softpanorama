        В одном из предыдущих номеров Панорамы публиковалась программа
VGA480.COM  Д.А.Гуртяка, в которой автор построил текстовый режим рабо-
ты дисплея VGA, содержащий 30 строк на экране, с растровой матрицей сим-
вола 16 x 8. Настоящая программа VGR30.COM существенно отличается от
VGA480.COM, хотя и использует код ее исходника ( разумеется, со ссылкой
на автора ).
        Программа VGR30.COM исполнена в резидентном режиме и позволяет
устойчиво поддерживать на дисплее VGA 30 строк вместо 25 в растре 16 x 8
в текстовых режимах 1 - 4. Читатели, знакомые с VGA BIOS, наверно знают
о существовании подфункции ( BH = 30h )  функции 12h  ( AH = 12h ) преры-
вания 10h. Число от 0 до 2, заносимое в этом случае в регистр AL, опреде-
ляет разрешение экрана VGA в скан-линиях, соответственно 200, 350 и 400,
поддерживающееся в текстовых режимах 0 - 3. Программа добавляет к этим ре-
жимам новый режим разрешения 3  ( AL= 3 ), 480 скан-линий. Таким образом,
пользователь сам может выбирать, какое разрешение использовать. Для этого
нужно вызвать в свой программе прерывание 10h с указанными выше значения-
ми регистров или запустить из ДОСа программу VSLS.COM, указав через пробел
число от 0 до 3. Кстати, с помощью программы VSLS вы легко проверите на не-
пробиваемость свой русифицирующий драйвер. При правильной работе его, буквы
при изменении разрешения не исчезают и не режутся. Но это не все приемуще-
ства программы VGR30. Существенно то, что эта программа позволила "приучить"
к работе на 30-строчном экране программные продукты, ранее в таком режиме
не работавшие, в т.ч. с программой VGA480. Среди них прежде всего MultiEdit
и продукты фирмы Borland, воспринимающие 30 строк или сразу ( Паскаль 5.5 )
или после переустановки на 43/50 линий, что в действительности означает вос-
приятие экрана без изменений ( Паскаль 6.0 и C++ ). Такая работа стала воз-
можной благодаря коррекции подфункции 14h функции 11h ( AH = 11h, AL = 12h )
прерывания 10h, которая у большинства дисплеев VGA работает с ошибками. Изме-
нения коснулись также и подфункции 12h той же функции. Теперь она корректно
поддерживает режим 60 строк в растре 8 x 8 в режиме разрешения 3. К сожалению,
этот режим нормально воспринимается кроме ДОСа лишь очень немногими программа-
ми. Среди них например последняя версия редактора NE, новый Multi Edit а также
программа LGAVIEW, также опубликованная в предыдущих номерах Панорамы. Такие
программы, как например NC, Tech Help, Нортоновские Утилиты, продукты фирмы
Borland, рассчитаны в своей работе максимум на 50 строк и не воспринимают боль-
ше. Поэтому такой режим сделан скорее всего на будущее, хотя читатель может его
использовать в своих программах и не исключено, что в результате экспериментов
обнаружатся и другие продукты, корректно работающие в нем. Поэтому для удобст-
ва пользователя также публикуется программа VGC.COM, устанавливающая 60 строк
из 30 и обратно в режиме разрешения 3 ( запускается без параметров ). Таким об-
разом можно указанные программы использовать следующим образом: стартовать
VGR30.COM в файле AUTOEXEC.BAT, далее при необходимости установить режим разре-
шения 3 запуском  VSLS 3 и наконец далее можно из 30 строк сделать 60 запуском
VGC. Исходники всех трех программ написаны на ассемблере и скомпилированы в
COM - файлы с помощью турбоассемблера TASM версии 2.00B фирмы Speedware ( а не
Borland ). По сравнению с VGA480, объем данных, выводимых в порты VGA, сокра-
щен, выводится только самое необходимое. Если Ваш дисплей VGA поддерживает по-
ложительную полярность или его размеры больше стандартных, снимите символ ' ; '
в единственной строке, начинающейся им, и поставьте в следующей строке, скомпи-
лируйте и попробуйте. Картинка получится более крупной и читаемой, если она, ко-
нечно, не выйдет за пределы экрана.

                                   Школьников Юрий Аркадьевич, г.Киев,
                                   (044) 411-41-26 д., 225-13-11 р.

        Жду Ваших предложений и замечаний по опубликованным программам, а
также по драйверизации дисплеев и принтеров разных типов (с поддержкой режима
NLQ, где это возможно) и другим работам по ассемблерному и системному прог-
раммированию ПЭВМ. Убедительно прошу также связаться со мной читателей, имеющих
турбоассемблер фирмы Speedware версий новее, чем 2.00B.
