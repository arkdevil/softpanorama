
                             Welcome to

                    KEYDEF Macro Drivers Utility

                       Version 2.0 (May 1992)


                  R E F E R E N C E   M A N U A L



                      Horns&Hoofs Corporation
                     Academich 13-52, Tomsk-55,
                               Russia.
                           (382-2) 258542



                                              All power in the USSR
                                              belong to the people...
                                              (English, 7th form)

    Copyright (c) 1992 Sergei Belyalov.
    All Rights Reserved.



                              LICENSE



    This version  of  KEYDEF  is NOT public domain or free software,
    but is being distributed as "shareware".

    Non-registered users of this  software  are  granted  a  limited
    license  to  make an evaluation copy for trial use on a private,
    non-commercial basis,  for the express  purpose  of  determining
    whether  KEYDEF is suitable for their needs.  At the end of this
    trial  period,  you  should  either  register   your   copy   or
    discontinue using KEYDEF.

    What does  all this really mean?  If you use this program,  then
    you should pay for your copy.  That way  H&H  will  be  able  to
    provide you support and updates, and stay in business.

    A KEYDEF registration entitles you to use the program on any and
    all computers available to you,  with the following restriction:
    If other people have access to this program or may use it,  then
    you should purchase a site license.  See the  following  section
    for information about site licensing or quantity discounts.


    Operators of electronic  bulletin  board  systems  (Sysops)  are
    encouraged  to  post  KEYDEF for downloading by their users,  as
    long as the above conditions are met.



                        ORDERING INFORMATION

    A KEYDEF  registration  licenses  you  to  use  the product on a
    regular basis. Registration includes notification of updates and
    telephone support.

    Individual registrations for KEYDEF come in two forms. The first,
    registration only,  costs $29.  Receiving the registration form,
    we will send you the  postcard  with  the  KEYDEF  command line
    parameter,  which removes 'UNREGISTERED COPY' message from  KEYDEF
    screen  output.
    Alternatively,  if  you send $40 or more you will receive,  when
    avilable the next  version  of  KEYDEF  &  utilities  from  it's
    package.

    ORDERS OUTSIDE  THE GERMANY:  Please send the cash when you send
    money it allows to minimize conversion costs.

    Educational institutions,  full-time students and BBS sysops can
    apply  a  25%  discount  to  all  prices.  PLEASE  include  your
    educational institution  letterhead  (with  your  title),  or  a
    photocopy of your most recent registration slip, or the name and
    number of your BBS along with any other relevant information.

Remit to:  Richard Bruch
           Dingshauserstr 20-10
           5650 Solingen
           Germany

H&H, please send me (check desired items):

____ KEYDEF Registration ......................... @ $29.00 ea  $ ______
     (Includes regisration and removing 'UNREGISTERED COPY'
     message from your copy output.)

____ KEYDEF Registration ......................... @ $40.00 ea  $ ______
     (Includes registration, next version when available.)


   Name: ____________________________________________________________

Company (ONLY if company address):___________________________________

Address: ____________________________________________________________

       : ____________________________________________________________

       : ____________________________________________________________

Day Phone: _________________________ Eve: ___________________________

------------------------ User comments ------------------------------
I acquired KEYDEF v2.0 from
        [ ] - Friend                    [ ] - Software product
        [ ] - Computer Club             [ ] - Computer Store
        [ ] - Data Base Service         [ ] - Electronic BBS
        [ ] - Other - Please Specify ________________________________

We would also appreciate any input you would care to give concerning
KEYDEF.  If you have any ideas or comments that would make KEYDEF  a
better program, then please let us know.

We value your comments!

Comments and/or suggestions:




                                 DISCLAIMER

    Use of  this  program  acknowledges this disclaimer of warranty:
    "This  program  is   supplied   as   is.   Applied   Horns&Hoofs
    Corporation.  disclaims  all  warranties,  expressed or implied,
    including, without limitation, the warranties of merchantability
    and  of  fitness  of this program for any purpose.  Horns&Hoofs.
    assumes no liability for damages direct or consequential,  which
    may result from the use of this program."


             CORPORATE SITE LICENSES AND QUANTITY PURCHASES

    All corporate, business, government or other commercial users of
    KEYDEF must be registered.  We offer quantity discounts as  well
    as site licensing.

    Corporate site   licensing   agreements  allow  duplication  and
    distribution of specific numbers of copies within  the  licensed
    institution.  Duplication  of  multiple  copies  is  not allowed
    except through execution of a licensing agreement.  Site license
    fees are based upon estimated number of users.

    Note that with a site license, only one copy of the program will
    be sent.  You will be responsible  for  distributing  additional
    copies.

    Please call or write for more information.

    ALL PRICES  AND  DISCOUNTS ARE SUBJECT TO CHANGE WITHOUT NOTICE.
    Discounts are not cumulative;  they apply to  single  orders  of
    like  products only.  Unit prices are the same as for individual
    users.

    WARNING: YOU MAY NOT USE KEYDEF WITHIN YOUR ORGANIZATION WITHOUT
    A PRIOR PURCHASE OR LICENSE ARRANGEMENT.



    Acknowledgements
    =================================================================

    Many years of work  have  gone  into  the  development  of  this
    version of KEYDEF. And we had LOTS of help. Special thanks go to:

    A.Markov, O.Selyavskaya,   A.Dmitriev   for   testing,   example
    editition, language consults.

    Gaga ltd.,   Macumbria  Data  Research  Inc.,  Monster  Computer
    Programs GmbH  for  the  soviets  assistance,  moral  support  &
    drinkage.

    Robert Fripp, whose guitar makes me sure to finish this work.

    To ALL  registered  users  - THANK YOU - it is only through your
    support that additional versions are made possible.


    Introduction
    =================================================================

                                               Long live CPSU !
                                               (Ancient proverb.)

    This manual  describes  the  use  and  operation  of  KEYDEF,  a
    universal  macro driver for the IBM PC and compatible computers.
    The manual includes languge manual,  command line parameters and
    common questions.


    KEYDEF is an universal macro driver which can be applied to vary
    application  such  as  text  editors  word processors and so on.
    KEYDEF replaces all macro featrures of that application.  If you
    do not want to study macro feature of new software you can study
    KEYDEF once only and it's enough.  Who is lazy to type  standard
    language  construction  such  as  'BEGIN  END'  for Pascal,  use
    KEYDEF.

    KEYDEF was developed with these goals in mind:

    ■ NO INTERSECTING WITH APPLICATION HOTKEYS - KEYDEF uses not
      simultaneous key pressings.

    ■ INFINIT MACRO SET AVAILABLE SIMULTANEOUSLY - KEYDEF allows up
      to 2000 macros available simultaneously. Each key sequence
      can be defined as macro key.

    ■ COMPACT RESIDENT SIZE - KEYDEF requires only 895 bytes resident
      memory plus size of your own compiled macro set.

    ■ EASE OF USE - This version of KEYDEF includes:

        - Simple macro language with compiler.
        - Creating Self-Loading macro sets.
        - Removing from memory after usage.



    System Requirements
    =================================================================

    KEYDEF will run on the IBM PS/2, PC/AT, PC/XT, PC, PC/Jr, and on
    IBM compatible computers including the Compaq,  NCR,  Tandy, and
    WYSE PC's. MINIMUM requirements are:

    ■ 128 KB of memory (although KEYDEF can utilize up to 640 KB if
      it is available).

    ■ PC-DOS 3.0 or greater or MS-DOS 3.0 or greater.

    ■ One diskette drive.

    ■ Either a color or a monochrome monitor with 80-column display.

    ■ 10 KB of disk space.

    ■ KEYDEF.EXE,  the main  program-archive.  No  other  files  are
      necessary for operating KEYDEF.


    Installation
    =================================================================

    For example type on the command line:

    KEYDEF /x <CR>

    then you will see some files on your disk drive:

    KEYDEF.DOC  - this file

    ASC.COM     - resident utility which shows extended ASCII
                  keystrokes

    SCOD.COM    - resident utility that shows scancodes.

    STDKD.H     - standard (KDML) definition file

    CASM.KDC    -
    PASCAL.KDC  - some examples which expalains the features
                  of KEYDEF macro language.

    VERSE.TXT   - some verses created on Physical Faculty at 1988-89


    Quick Start
    =================================================================

    Type :

    KEYDEF /i casm.kdc <CR>

    Then start edit some file by some editor.
    Type consequently    <Right-Alt>,<F>

    You will receive  C-style 'FOR' frame on your screen.

    See contents of the casm.kdc to understand KDML.


    Creating Own Macro Sets
    =================================================================

    KEYDEF is already able to help you  to  create  your  own  macro
    sets.  It  includes  internal  compiler for KEYDEF MACRO LANGUGE
    (KDML) files. How are macros create?.

    Syntax
    ===========

    Operator
    ---------

      This is the simplest term of language,  it  must  finished  by
    ';'.

    The KDML is a language with "defines"  eg.

    $Ctrl    0x1d;       //Press scancode for Ctrl key defined as 1
    $$Ctrl   0x1d,0x9d;  //Press & Release scancode for Ctrl key
                         //defined as 1d(hex),9d(hex) number sequence
    //or
    ^A =  0x1e01;  //Ctrl-A keypressing defined as 1E01(hex)

    Numbers can  be  decimal  or  hexadecimal  like  a 'C' standard.
    Hexadecimal number must begin with '0x' symbols.

    hello   'Hello World!';// This is string equate


    Repeat argument
    ----------------

    Ctrl2   $$Ctrl(2); // (2) means double definition of $$Ctrl and
                       // equal to next expression
    Ctrl2   0x1d,0x9d,0x1d,0x9d;

    helloN   hello(3);         // equal to
    helloN   'Hello World!Hello World!Hello World!';

    Fafa   'fafa'(3);        //means
    Fafa   'fafafafafafa';

    Repeat argument must be decimal or hexadecimal number.

    String Format
    -------------
    String must begin end with symbol apostrophy .  But you can  use
    special ESC-sequence like a 'C'-style.

    \n - return and place cursor under beginning upper string
    \\ - place '\' (BACKSLASH) into text
    \' - place apostrophy into text
    \l - move cursor LEFT
    \e - move cursor to the end of the line
         (put into KBD buffer 0x4f00)
    \r - move cursor RIGHT
    \u - move cursor UP
    \d - move cursor DOWN
    \t - insert TAB

    Scan Codes and ASCII keystrokes
    -------------------------------

    When you press any key keyboard generates  two  types  of  data.
    First  type is Scan Codes.  These data are generated by keyboard
    and not used by  simple  software.  For  example  one  keystroke
    generates  the  sequence of data with inequal lengths.  When key
    presses and releases keaboard gets different sequences. See file
    STDKD.H for details. In our agreement identificators which began
    from '$' symbol means PRESS scan code  sequence.  Double  '$'  -
    '$$' ID beginning means PRESS & RELEASE scan code sequence.  Use
    SCOD.COM to see scan codes on you computer.

    ASCII keystrokes differ from scan codes.  These data placed into
    KEYBOARD  BUFFER  by  internal Basic I/O System routines of your
    computer. For example if you press 'A' key, they will place code
    0x1e61 into keyboard buffer. But if you press Shift-A, they will
    place code 0x1e41. These codes are used by all applications. Use
    ASC.COM to see ASCII values.

    Define macro
    ------------
    The main  idea  of  KEYDEF  means 'unique sequence of scan codes
    corresponds to unique sequence of ASCII keystrokes'

    /*Right Alt press & release,
    and press W */
    {$$ralt,$w}      'while()\n{\n\n}/*While*/',
                     UP(3), '\e\l';
    /*Right Alt press & release twice,
    and press W */
    {$$ralt(2),$w}   'while();\l\l';

    In { } you must place scan code sequence.  After {}  place  that
    thing what you want to receive on you screen.

    WARNING: - Compiler feature

    If you  use  subsets  of  scan code sequence (e.g.{$$ralt,$w} is
    subset of {$$ralt(2),$w}) you must  place  the  them  higher  in
    text.   Otherwise   KEYDEF   will   not   feel  large  scan  set
    {$$ralt(2),$w}.

    Comments
    --------

    Comments syntax absolutely corresponds to C-standard.

    // THIS IS COMMENT TO END OF LINE

    . . .

    /*THIS
    IS
    MULTISTRING
    COMMENT*/

    Reserved Words
    --------------

    TITLE   - this  word  defines  title  of macro set to differ from
              other sets

    MENUKEY -  this  word  defines  scan code sequence which envokes
              menu.  In this version there is no menu,  but you  can
              see  in left up corner status ON||OFF and title.  With
              pressing that keysequence KEYDEF changes its state  ON
              to OFF or reverse.


   Command Line Option
   ==================================================================


   Command line syntax:

   KEYDEF [option] [file]

   File can be a source of KeyDef Macro Languge (KDML) or compiled
   binary file.

   Options:
           /h,/?  - display help screen
        /m     - make a driver
        /i     - compile KDML file and install resident
        /l     - display licence info
        /u     - remove program from memory
        /on    - enable KEYDEF
        /off   - disable KEYDEF
        /x     - extract additional files for KEYDEF
        /scod  - load to memory SCAN CODE INSERTER program
        /ascii - load to memory ASCII CODE INSERTER program
        /asc   - load comparison ASCII (int 9 & int 16h ) utility.
        none  - compile KDML file or install compiled sample into
                the memory

   /m - Make a Driver
   ------------------

   When you debugged own macro set you  can  create  small  exe-file
   which  will  be  self  loading  macro set.  It is very convenient
   because you will not need with compiler or any  data  files,  and
   you  can  remove  KEYDEF.EXE  from  hard  disk.  For example type
   KEYDEF/M CASM.KDC <CR> and you will receive CASM.EXE self loading
   file.  To  load  macro  set  into  memory at any time type simply
   'CASM' on DOS prompt.  The self-loading files have some the  same
   options such the KEYDEF.EXE. These are /h, /?, /u, /l, /on, /off.


   /i - Compile KDML File and Install Resident
   -------------------------------------------


   Debugging KDML file certainly they have extention .KDC  one  need
   compile  & install resident simultaneously.  Use this option when
   debug.

   /u - Remove Any KEYDEF Program from Memory
   ------------------------------------------

   KEYDEF.EXE or  any  self  loading  program  will remove any other
   program, such as KEYDEF.EXE or another created by KEYDEF.EXE from
   memory.

   /on, /off - Switch State
   ------------------------

   These options disables or enables KEYDEF

   /x - Extract additional files for KEYDEF
   -------------------------------------------------

   /x - Files needed for work (documentation, utilities, headers)

   ------------------------------------------------------------------
   /scod /asc /ascii - see Utilities for details

   Utilities
   ==================================================================

   File KEYDEF.EXE  contains  some  useful  utilities.  They  can be
   extracted as the same files for the  independent  use  or  loaded
   directly into the memory.

   KEYDEF /SCOD - Run SCOD.COM without extracting
   KEYDEF /ASC  - Run ASC.COM without extracting
   KEYDEF /ASCII - Run ASCII.COM without extracting

   SCOD.COM - Scan Code Inserter utility
   -------------------------------------
   This program  was  written for fast and easy looking for keyboard
   scancodes.  It works not correctly.  But  it  is  enough  to  see
   scancodes  of  non  standard keys ( I saw MACRO key on one TAIWAN
   keyboard).

   How use SCOD ?

   Run it or type KEYDEF/SCOD on DOS  prompt,  and  then  when  need
   light  Num-Lock.  When  Num-Lock  lights each keystroke generates
   hexadecimal digits, which inserts into application.

   ASCII.COM - ASCII Code Inserter utility
   ---------------------------------------
   This program was written for fast  and  easy  looking  for  ASCII
   keystrokes.

   How use ASCII

   Run it  or  type  KEYDEF/ASCII on DOS prompt,  and then when need
   press ALT-S.  The next keystroke value puts into  application  in
   hexadecimal format.

   ASC.COM - ASCII Code Demo
   -------------------------

   This program was written for showing difference of INT 9, and INT
   16h working.  Run it and then press (RAlt-RCtrl-?). Then type any
   key in left window you will see value that INT 9 placed into  KBD
   buffer.  In  right  window  you will see value that gets from KBD
   buffer by INT 16h.


   The Authors
   ==================================================================

   Sergei Belyalov is a native of Tomsk,  USSR.  He  graduated  from
   Tomsk  State  University  in  1990  with  a degree in Solid State
   Physics (551 gr.).  Since he has  worked  for  ISPM  Institution,
   Tomsk.  From  5 june 1992 (his birthday) he has solved never work
   in programmism.

   Richard Bruch (Ritchie Belomore) is a native of Ermack,  USSR. He
   graduated  from  Tomsk  State University in 1990 with a degree in
   Solid State Physics (551 gr.).  Since  he  has  worked  for  ISPM
   Institution, Tomsk. From last days of 1991 he lives in Germany.

   All were  born 1967 (07AFh or 11110101111B).  1967 year is a very
   remarkable  year.  Binary  format  of  this   magic   number   is
   symmetrical.  This  is a fatum.  Only 1935,  2015,  2047 years in
   human history have binary symmetry.  Long live all borned at 1967
   !!!.

   GOOD WORK !
