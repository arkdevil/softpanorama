

                Модуль CModel  V 1.0

               (c) 1992 Ярослав Мигач

        Описываемый модуль определяет обьектные типы для
   моделирования наиболее общих элементов логических электронных
   схем и систем. Здесь представлены модели опорного источника
   напряжения, заземления и линии задержки. Модель линии
   задержки однонаправленая и реализует диапазон задержек от 1
   до 255 тактов моделирования. Если этого недостаточно, можно
   включить последовательно несколько таки линий задержек.
        Модуль написан на языке пргораммирования Turbo Pascal V
   6.0 и требует для своей поддержки модули System, Dos, Crt из
   стандартной библиотеки TURBO.TPL, а также модуль GMODEL.TPU
   где содержится базовый обьект для моделирования логических
   электронных схем и систем ( ЛЭС ).
        Ключи трансляции позволяют делать описываемый модуль
   оверлеем.



               Обьектный тип модели источника
                   опорного напряжения.

    PowerModel = OBJECT ( BaseModel )
        - Идентификатор обьектного типа.

    PowerModelPtr = ^PowerModel;
        - Указатель на обьект модели источника опорного
        напряжения.

        Данная модель в любой момент времени моделирования
    выдает установленное при инициализации опорное напряжение
    на каждом из своих выводов. Количество выводов модели равно
    максимально допустимому количеству выводов, которое
    определяется константой MaxDealLm модуля GModel.

        Поля.
        ______

        Power : REAL; - Это единственное собственное поле,
    которое определяет вещественное значение напряжения
    моделируемого опорного источника напряжения. Значение поля
    устанавливается при инициализации обьекта описываемого
    обьектного типа и не изменяется методами обьекта в процессе
    всего цикла моделирования ЛЭС.



        Констракторы и дестракторы.
        ___________________________


        CONSTRUCTOR Init ( UPw : REAL );
   Инициализирует таблицу виртуальных методов заданного
   обьектного типа и устанавливает напряжение на выводах модели
   опорного источника напряжения.

        DESTRUCTOR Done; VIRTUAL;
   Деинициализирует обьект удаляя VMT из динамически
   распределяемой области памяти.


        Базовые методы.
        ________________


        PROCEDURE GetStateLm ( NumLm : BYTE;
                               VAR State : InformLm);
   Позволяет получить информацию об одном из выводов
   моделируемого обьекта. Для данной модели всегда возвращается
   состояние OutLm и уснановленное при инициализации обьекта
   значение опорного напряжения. Этот метод является
   переназначением одноименного метода обьектного типа базовой
   модели элемента ЛЭС.


        PROCEDURE ConnectLm ( MyNum, NumObj : BYTE;
                              ObjPtr : BaseModelPtr;
                              VAR Result : BYTE );
   Устанавливает взаимосвязь с моделью другого элемента ЛЭС.
   Фактически является пустышкой, поскольку для модели источника
   опорного напряжения одинаково определены все выводы и модели
   безразлично, как выводнено подключение к разным выводам, т.е.
   принято, что все выводы модели гальванически развязаны и
   подключения к одному из выводов совершенно не отражаются на
   других. Это следует помнить при построении моделей схем и в
   случае наличия зависимостей, подключатся только к одному из
   выводов модели источника опорного напряжения. Если значения
   номеров выводов не выходят за границы допустимого диапазона,
   то результат подсоединения всегда успешен. Этот метод
   является переназначением одноименного метода базовой модели
   элемента ЛЭС и для подробного ознакомления с параметирами
   метода ознакомьтесь с описанием обьектного типа базовой
   модели элемента ЛЭС.


        PROCEDURE SetStart;
   Устанавливает начальное состояние выходов. Для данной модели
   является пустышкой. Этот метод - переназначение одноименного
   метода обьектного типа базовой модели элемента ЛЭС.


        PROCEDURE RunModel;
   Производит один такт моделирования. Для данной модели не
   выполняет никаких действий, посколу напряжение на выходах
   всегда неизменно.



              Обьектный тип модели заземления.


    GroundModel = OBJECT ( BaseModel )
        - Идентификатор обьектного типа.

    GroundModelPtr = ^GroundModel;
        - Указатель на обьект модели заземления.

        Данная модель в любой момент времени моделирования
    выдает нулевое напряжение  на каждом из своих выводов.
    Количество выводов модели равно максимально допустимому
    количеству выводов, которое определяется константой
    MaxDealLm модуля GModel.


        Констракторы и дестракторы.
        ___________________________


        CONSTRUCTOR Init;
   Инициализирует таблицу виртуальных методов заданного
   обьектного типа.

        DESTRUCTOR Done; VIRTUAL;
   Деинициализирует обьект удаляя VMT из динамически
   распределяемой области памяти.


        Базовые методы.
        ________________


        PROCEDURE GetStateLm ( NumLm : BYTE;
                               VAR State : InformLm);
   Позволяет получить информацию об одном из выводов
   моделируемого обьекта. Для данной модели всегда возвращается
   состояние OutLm и нулевое значение напряжения для каждого из
   выводов. Этот метод является переназначением одноименного
   метода обьектного типа базовой модели элемента ЛЭС.


        PROCEDURE ConnectLm ( MyNum, NumObj : BYTE;
                              ObjPtr : BaseModelPtr;
                              VAR Result : BYTE );
   Устанавливает взаимосвязь с моделью другого элемента ЛЭС.
   Фактически является пустышкой, поскольку для модели
   заземления одинаково определены все  выводы и модели
   безразлично, как выводнено подключение к разным выводам, т.е.
   принято, что все выводы модели гальванически развязаны и
   подключения к одному из выводов совершенно не отражаются на
   других. Это следует помнить при построении моделей схем и в
   случае наличия зависимостей, подключатся только к одному из
   выводов модели заземления. Если значения  номеров выводов не
   выходят за границы допустимого диапазона, то результат
   подсоединения всегда успешен. Этот метод является
   переназначением одноименного метода базовой модели элемента
   ЛЭС и для подробного ознакомления с параметирами метода
   ознакомьтесь с описанием обьектного типа базовой модели
   элемента ЛЭС.


        PROCEDURE SetStart;
   Устанавливает начальное состояние выходов. Для данной модели
   является пустышкой. Этот метод - переназначение одноименного
   метода обьектного типа базовой модели элемента ЛЭС.

        PROCEDURE RunModel;
   Производит один такт моделирования. Для данной модели не
   выполняет никаких действий, посколу напряжение на выходах
   всегда неизменно.


                Вспомогательные типы.

    StateWaitLine = ARRAY [ 1..255 ] OF REAL;
        - Тип массива, определяющего внутреннее состояние линии 
    задержки в текущий момент времени моделирования.

    StateWaitLinePtr = ^StateWaitLine;
        - Указатель на массив состояния линии задержки.


             Обьектный тип модели линии задержки.

    WaitLineModel = OBJECT ( BaseModel )
        - Идентификатор обьектного типа.

    WaitLineModelPtr = ^WaitLineModel;
        - Указатель на обькт модели линии задержки.



                 ---------------                  
          K1    | in       out  |       K2        
          ------|  ------->     |---------        
                |               |                 
                 ---------------                  


        Данный обьектный тип реализует модель однонаправленной 
   линии задержки сигнала. Модель реализует задержку сигнала без 
   искажения его формы, в диапазоне от 1 до 255 тактов 
   моделирования. Для каждого такта в качестве выходного 
   воспринимается напряжение, определяемое последней ячейкой в 
   массиве состояния линии задержки, после чего массив 
   сдвигается вправо на один элемент и первый элемент массива 
   определяется как входное напряжение. В случае отключения 
   вхоха модель на выходе дает нулевой уровень напряжения.

        Поля.
        _____

        WaitTime : BYTE;
   Это поле определяет количество тактов задержки сигнала, что 
   реально является размером массива внутреннего сотояния линии 
   задержки. Это поле инициализируется констрактором обьектного 
   типа и остается неизменным на протяжении всего процесса 
   моделирования. По значению, определяемому этим полем, 
   проиходит выделение динамически распределяемой области памяти 
   для размещения в ней массива внутреннего состояния линии 
   задержки.

        InfLine : StateWaitLinePtr;
   - Является указателем на массив внутреннего состояния линии 
   задержки. Память под указатель выделяется констрактором.

        InfOut : InformLm;
   - Содержит информацию о состоянии выхода линии задержки.

        Friend : ARRAY [ 1..2 ] OF ConcatLm;
   - Содержит информацию о подсоединениях других обьектов к 
   данному


        Констракторы и дестракторы.
        ___________________________


        CONSTRUCTOR Init ( Wtm : BYTE );
   - Инициализирует экземпляр заданного обьектного типа. 
   Размещает в динамически распределяемой области памяти 
   массив внутренненго состояния линии задержки.


        DESTRUCTOR Done; 
   - Освобождает память от массива внутреннего состояния линии 
   задержки и деинициализирует обьект.

        Базовые методы.
        _______________


        PROCEDURE GetStateLm ( NumLm : BYTE; 
                               VAR State : InformLm);
    - Позволяет получить текущее состояние выхода линии 
    задержки. В качестве сотояния вывода всегда возвращается 
    OutLm и текущее значение напряжения. Это метод является 
    переназначением одноименного метода обьектного типа базовой 
    модели ЛЭС.

        PROCEDURE ConnectLm ( MyNum, NumObj : BYTE;
                              ObjPtr : BaseModelPtr;
                              VAR Result : BYTE ); 
    - Устанавливает соединение с соедними моделями. Это метод 
    является переназначением одноименного метода обьектного типа 
    базовой модели ЛЭС. Для подробной информации о параметрах 
    обращайтесь к документации на модуль GModel.


        PROCEDURE SetStart;
     - Устанавливает начальное состояние выходов. Это метод 
    является переназначением одноименного метода обьектного типа 
    базовой модели ЛЭС. Для подробной информации о параметрах 
    обращайтесь к документации на модуль GModel.

        PROCEDURE RunModel; 
     - Производит один такт моделирования. Это метод является 
    переназначением одноименного метода обьектного типа базовой 
    модели ЛЭС. Для подробной информации о параметрах 
    обращайтесь к документации на модуль GModel.

