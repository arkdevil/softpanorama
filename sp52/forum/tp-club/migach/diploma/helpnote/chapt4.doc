



          4. Р А З Р А Б О Т К А   П Р О Г Р А М М Н О Г О

                      О Б Е С П Е Ч Е Н И Я .




            4.1. Применение обьектно-ориентированного подхода

            к построению программы моделирования.




        Чтобы  правильно  оценить  плюсы  и  минусы  обьектно  -

    ориентированных  методов  анализа,  разработки и составления

    программ,  необходимо  уяснить  себе,  что  они опираются на

    совершенно   иные   принципы,   нежели   все  предшествующие

    технологии  программирования.   В  ООП   используется   своя

    терминология.

        Традиционный подход  к составлению  программы, назывемый

    функциональным, требует, чтобы внимание фокусировалось на на

    описании  выполняемых  системой  действий.  С функциональной

    точки  зрения  логика  работы  программы  представляет собой

    последовательность   процедур,   похожих   на   предписания,

    выполняемые  человеком.  В  функционально  - ориентированном

    мире  данные  обычно   организуются  таким  образом,   чтобы

    программа выполнялась за наиболее короткое время.

        И  хотя   при  функциональном   подходе  к    разработке

    информационных систем  время исполнения  действительно можно

    сократить,   платить   за   это   приходится    беспорядочно

    построенной  программой.  Разобраться  в  ней  бывает  очень

    трудно, если вообще  возможно, что подталкивает  к изменению

    взглядов на программирование.

        Помогает  этому  введение  такого  понятия,  как обьект.

    Вместо  того,  чтобы  рассматривать  систему исключительно с

    точки  зрения  выполняемых  ею  действий,  обьектный  подход




    предлагает  выявить  и  описать  элементы  (  обьекты  ),  с

    которыми мы имеем дело. Каждый обьект подвергается  анализу,

    в результате чего устанавливается, какие сведения он  хранит

    ( данные ) и какие действия он может совершать ( функции  ).

    Обьекты  взаимодействуют  исключительно  путем передачи друг

    другу  сообщений,  что  соответствуе  вызову  подпрограмм  в

    традиционном   программировании.    сообщения    запращивают

    необходимую  информацию  или  требуют  действий  от   других

    обьектов.

        Обьектно - ориентированный подход позволяет  многократно

    использовать однажды написанный  программный код. Говоря  об

    этом, имеют ввиду, что  обьекты обьединяются в классы  ( или

    типы  данных  ),  организованные  в  иерархии, что позволяет

    каждому из них наследовать данные и процедуры из вышележащих

    обьектов.  Поэтому,  например,  в  кадровой   информационной

    системе  не  нужно  иметь   для  каждого  типа  служащих   -

    секретарей,   инженеров,    коммивояжеров   -    собственную

    процедуру,  описывающую  логику  приема  их  на  работу. Эта

    процедура  один   раз  определяется   для  класса   обьектов

    "служащий",   после   чего    наследуется   (    многократно

    используется ) всеми его подклассами.

        Совершенно  также,  как  и  функциональные составляющие,

    наследуются информационные  компоненты обьекта  ( данные  ).

    Включение    механизма    наследования    в       прикладные

    информационные  системы  позволяет  значительно увеличить их

    производительность,  поскольку  автоматически обеспечивается

    повторное использование кода и ненужно всякий раз  создавать

    его заново.





        Обьектно   -   ориентированный   подход   к   программам

    моделирования позволяет значительно сократить обьем кода,  а

    следовательно   и    высвободить   дополнительные    ресурсы

    вычислительной системы  в особенности  там, где  речь идет о

    модели,  состоящей  из   множества  связанных  между   собой

    элементов.  В  данном  случае  удобно  представить  в   виде

    обьектов  модели   элементов  электронной   схемы.   Причем,

    используя  принцип  наследования,  можно  создать библиотеку

    элементов  практически  любой  сложности,  начав   описывать

    модель элемента с самой простейшей, абстракной модели.





            4.2. Иерархия обьектных типов пакета моделирования.



        В  этом  разделе,  идя  от  постого  к  сложному, опишем

    иерархию  обьектных  типов  моделей элементов разработанного

    пакета  моделирования  цифровых  электронных  схем   приведя

    дерево наследования обьектных типов.

        При  чтении  этого  и  последующего  разделов,   следует

    обращать внимание на то, что старший по дереву обьектный тип

    наследует   по   очереди    все   функциональные    свойства

    предшествующих обьектных типов ( предков ).



                 ┌─────────────────────────┐
                 │  Обьектный тип базовой  │
                 │     модели элемента     │
                 │    *** BaseModel ***    │
                 └─────────────┬───────────┘
                     ┌─────────┼─────────────────┐
                     │         │                 │
                     │         │                 │
                     │         │                 │
      ┌──────────────┴──────┐  │     ┌───────────┴────────────┐
      │   Обьектный тип     │  │     │     Обьектный тип      │
      │  модели источника   │  │     │      модели линии      │
      │ опорного напряжения │  │     │        задержки        │
      │  *** PowerModel *** │  │     │  *** WaitLineModel *** │
      └─────────────────────┘  │     └────────────────────────┘
                  ┌────────────┤
                  │            ├─────────────────┐
                  │            │                 │
                  │            │                 │
      ┌───────────┴─────────┐  │      ┌──────────┴───────────┐
      │    Обьектный тип    │  │      │   Обьектный тип      │
      │  модели заземления  │  │      │ модели абстрактного  │
      │ *** GroundModel *** │  │      │    переключателя     │
      └─────────────────────┘  │      │ *** BaseKeyModel *** │
                               │      └────────────┬─────────┘
       ┌───────────────────────┘                   │
       │                                           │
       │                                           │
       │   ┌──────────────────────┐                │
       │   │    Обьектный тип     │                │
       │   │ модели позиционного  ├─────┬──────────┤
       │   │    переключателя     │     │          │
       │   │ *** PositionKey ***  │     │          │
       │   └──────────────────────┘     │          │
       │                                │          │
       │               ┌────────────────┘          │
       │               │                           │
       │     ┌─────────┴──────────┐     ┌──────────┴──────────┐
       │     │  Обьектный тип     │     │    Обьектный тип    │
       │     │ модели кнопочного  │     │ модели перключателя │
       │     │   переключателя    │     │    типа "сетка"     │
       │     │ *** SimpleKey ***  │     │  *** NetwareKey *** │
       │     └────────────────────┘     └─────────────────────┘
       │
       └───────────────────────────┐
                                   │
                                   │
                  ┌────────────────┴─────────────────┐
                  │      Обьектный тип базовой       │
                  │    модели логического элемента   │
                  │  с неизменными функциями выводов │
                  │      *** BaseLogicModel ***      │
                  └────────────┬─────────────────────┘
                               │
                 ┌─────────────┤
                 │             │
      ┌──────────┴─────────┐   │     ┌───────────────────────┐
      │   Обьектный тип    │   │     │     Обьектный тип     │
      │ модели логического │   ├─────┤   модели логического  │
      │   элемента " НЕ "  │   │     │   элемента " 2И-НЕ "  │
      │ *** Logic_NOT ***  │   │     │ *** Logic_2AND_NOT ***│
      └────────────────────┘   │     └───────────┬───────────┘
                               │                 │
   ┌───────────────────────────┘                 │
   │                                             │




   │             ┌─────────────┬─────────────────┤
   │             │             │                 │
   │             │             │      ┌──────────┴───────────┐
   │             │             │      │    Обьектный тип     │
   │  ┌──────────┴───────────┐ │      │  модели логического  │
   │  │    Обьектный тип     │ │      │ элемента " 2ИЛИ-НЕ " │
   │  │  модели логического  │ │      │ *** Logic_2OR_NOT ***│
   │  │ элемента "2ИСКЛИЛИНЕ"│ │      └──────────────────────┘
   │  │ *** Logic_2XOR_NOT***│ │
   │  └──────────────────────┘ ├─────────────────┐
   │                           │                 │
   │                           │                 │
   │                           │      ┌──────────┴───────────┐
   │             ┌─────────────┤      │    Обьектный тип     │
   │             │             │      │  модели логического  │
   │             │             │      │   элемента " 2И "    │
   │  ┌──────────┴───────────┐ │      │ *** Logic_2AND    ***│
   │  │    Обьектный тип     │ │      └──────────────────────┘
   │  │  модели логического  │ │
   │  │ элемента "2ИСКЛ_ИЛИ "│ └─────────────────┐
   │  │ *** Logic_2XOR    ***│                   │
   │  └──────────────────────┘                   │
   │                                  ┌──────────┴───────────┐
   │                                  │    Обьектный тип     │
   └────────────┬────────────────┐    │  модели логического  │
                │                │    │  элемента " 2ИЛИ "   │
      ┌─────────┴─────────────┐  │    │ ***  Logic_2OR    ***│
      │  Обьектный тип        │  │    └──────────────────────┘
      │  модели логического   │  │
      │  элемента " 3И-НЕ "   │  │
      │*** Logic_3AND_NOT *** │  └──────────────┐
      └─────────┬─────────────┘                 │
                │                               │
                │                     ┌─────────┴─────────────┐
                │                     │  Обьектный тип        │
                │                     │  модели логического   │
      ┌─────────┴─────────────┐       │  элемента " 8И-НЕ "   │
      │  Обьектный тип        │       │*** Logic_8AND_NOT *** │
      │  модели логического   │       └─────────┬─────────────┘
      │  элемента "3ИЛИ-НЕ"   │                 │
      │*** Logic_3OR_NOT  *** │                 │
      └───────────────────────┘                 │
                                                │
                                                │
                                      ┌─────────┴─────────────┐
                                      │  Обьектный тип        │
                                      │  модели логического   │
                                      │  элемента "8ИЛИ-НЕ"   │
                                      │*** Logic_8OR_NOT  *** │
                                      └───────────────────────┘








            4.3. Структура абстрактного элемента моделирования.



        В  этом  разделе  рассмотрим  функциональные возможности

    абстрактного элемента моделирования наследуемые затем  всеми

    определяемыме в системе  элементами. Каждый элемент  системы

    моделирования   обязательно   должен   наследовать  свойства

    данного элемента.

        К функциональным возможностям абстрактного элемента

    относятся:

        1. Инициализация модели

        2. Получение текущего состояния вывода элемента

        3. Установка соединения заданного вывода текущего

        элемета с заданным выводом другого элемента. Здесь

        не исключается возможность подсоединения другого вывода

        этого же элемента.

        4. Установка начального состояния выводов и внутренней

        логики, соответствующая включению питания моделируемого

        элемента.

        5. Обработка одного такта моделирования для данного

        элемента.

        6.Уничтожение обьекта модели.

        К   наследуемым   информационным   возможностям  следует

    отнести количество выводов моделируемого элемента.

        Все функции со 2-й  по 5-ю являются абстрактными,  т. е.

    не  выполняют  никаких  действий,  кроме выдачи сообщения об

    ошибке. Эти  функции обязательно  должны быть  перекрыты для

    действительных экземпляров наследующих обьектных типов.




        Для  абстрактной  модели  конкретно  не  определяются ни

    внутренняя логика работы, ни информация о состоянии элемента

    в текущий момент времени моделирования. Основная цель  этого

    обьектного  типа  -  связать  в  единую  систему модели всех

    существующие  и  еще  только  проектируемые модели элементов

    моделируемой  схемы.  Задаваемые  общие  для  всех   моделей

    функциональные возможности  позволяют корректно  производить

    начальную установку, соединение, стартовую установку, запуск

    процесса моделирования для любого экземпляра обьектного типа

    порожденного от базового.

        Тут же следует отметить, что при помещении модуля с этим

    обьектным типом  в оверлей,  в случае  корректного написания

    программы моделирования  ни один  из методов,  реализованных

    для  этого  типа  никогда  небудет  вызван и программный код

    генерируемый транслятором для этого обьектного типа  никогда

    небудет  загружен   в  память   и  соответственно    небудет

    использовать ресурсы обрабатывающей вычислительной системы.





            4.5. Структура элемета абстрактного переключателя.



        Модель   абстракного   элемента   типа  "переключатель",

    определяет  дополнительные  функциональные  и информационные

    возможности. Так  в качестве  новых данных  в обьектном типе

    появляется информация о состояниях выводов в текущий  момент

    моделирования,   обуславливается    количество    замыкаемых

    контактов ключей и состояние ключей в текущий мометн времени

    моделирования. К дополнительным функциональным  возможностям

    следует отнести:



        1. Инициализацию обьекта для переключателя с заданным

        количеством выводов и заданным количеством контактов.

        2. Установку состояния заданного ключа в положение

        "Влючено".

        3. Установку состояния заданного ключа в состояние

        "Выключено".

        4. Возможность получения текущего состояния заданного

        ключа.

        Все   остальные    функциональные    и    информационные

    возможности  наследуются  от  производящего  обьектного типа

    абстрактной модели элемента.

        Обьектные  типы  моделей  реальных переключателей должны

    наследовать свойства описываемого обьектного типа. При  этом

    наследующие   типы    переопределяют   ряд    функциональных

    возможностей  для  определения  реальной карты подсоединения

    ключей  между  собой  в  каждом  конкретном  случае.  Так  в

    разработанном  пакете  определены  обьектные  типы   моделей

    прозиционного переключателя, обычной кнопки и  переключателя

    типа "сетка контактов". В случае необходимости всегда  можно

    дополнить библиотеку новыми моделями, базируясь на  описании

    уже    приведенных,    частично    наследуя    реализованные

    функциональные и информационные свойства.






            4.6. Структура моделей вспомогательных элеметов.




        В пакете реализованы обьектные типы ряда вспомогательных

     элементов, как правило всегда присутствующих в моделируемых

     электронных  схемах  и   системах.  Это  модели   источника

     опорного напряжения, заземления и линии задержки. Последняя

     модель просто необходима, когда приходится моделировать  не

     только задержку  внутри элементов  но и  задержки в  линиях

     связи  между   элементами.  Для   модели  линии    задержки

     существует ограничение на  задержку максимум на  255 тактов

     моделирования. Для большинства приложений этого достаточно.

     При  необходимости  можно  включить  последовательно  две и

     более  линий  задержек  или  в  конце  концов  описать свой

     обьектный  тип  выполняющий  заданные  функции   надлежащим

     образом.  Здесь  мы  подробно  не  будем останавливаться на

     особенностях  реализации   конкретных  моделей   элементов.

     Полные  описания  и  рекомендации  по применению каждого из

     приведенных  обьектных  типов  Вы  можете  найти  в  тексте

     следующего  раздела  или  обратившись  к  текстам  программ

     приведенных в приложении к пояснительной записке.






            4.7. Структура модели абстрактного логического

            элемента с постоянным назначением выводов.




        Информационная   структура   обьектного   типа    модели

    абстрактного логического  элемента с  постоянным назначением

    выводов содержит следующие элементы:

        1. Массив состояний выводов.

        2. Признак определенной логики повеления модели.

        3. Разброс параметров от заданных в процентах.

        4. Номинальное напряжение выхода "1".

        5. Номинальное напряжение выхода "0".

        6. Напряжение приращения для моделирования затянутых

        фронтов на выходах.

        7. Пороговое напряжения срабатывания "1" по входу.

        8. Пороговое напряжение срабатывания "0" по входу.

        9. Пороговое значение счетчика задержки для переключения

        в "1" внутреннего состояния входа.

        10. Пороговое значение счетчика задержки для

        переключения в "0" внутреннего состояния  входного

        вывода.

        К новым функциональным возможностям следует отнести:

        1. Инициализацию экземпляра обьектного типа со всеми

        параметрами моделирования.

        2. Возможность установить параметр каждого из выводов (

        вход или выход ) после общей инициализации.

        3. Функцию вычисления состояний выходов элемента по

        заданным внутренним состояниям входов / Это абстрактная

        функция определяемая в каждом случае для конкретной

        модели логического элемента /.




        Все  модели   подобных  логических   элементов   обязаны

    наследовать  этот  обьектный  тип.  Причем  в  случае такого

    наследования    достаточно       переопределить    процедуру

    инициализации, для  каждой конкретной  модели, и  установить

    соответствующую   функцию   логики,   которая   может   быть

    представлена  просто  логической  функцией,  либо в качестве

    таблици  истинности,  либо  любым  другим  разумным образом.

    Выполняя фактически элементарную настройку обьектного случая

    для  конкретных  элементов,  мы  будем  получать  любые   по

    функциональной сложности модели.




            4.8. Структуры моделей базисных логических

            элементов.



        Структуры  приведенных  в  пакете  базисных   логических

    элементов    полностью     наследуют    функциональные     и

    информационные возможности предыдущего описанного обьектного

    типа.   В   отличии   от   абстрактного   обьектного   типа,

    реализованные  модели  являюся  моделями  вполне  конкретных

    логических   элементов.   Приведем   здесь   только   список

    реализованных моделей:

        1. " НЕ ".

        2. " 2И-НЕ ".

        3. " 2ИЛИ-НЕ ".

        4. " 2И ".

        5. " 2ИЛИ ".

        6. " 2ИСКЛ-ИЛИ-НЕ ".


        7. " 2ИСКЛ-ИЛИ ".

        8. " 3И-НЕ ".

        9. " 3ИЛИ-НЕ ".



        10. " 8И-НЕ ".

        11. " 8ИЛИ-НЕ ".



        Этого  функционального  базиса  вполне  достаточно   для

    построения моделей  электронных логических  схем практически

    любой  сложности,   однако,  как   уже  отмечалось    ранее,

    разработанная  система  не  накладывает  практически никаких

    ограничений  на   функциональную  сложность   моджелируемого

    элемента.




            4.9. Пути дальнейшего расширения элементной базы.




        Как  следует   из  прямого   использования  обьектно   -

    ориентированного  подхода  к  построению  моделирующей среды

    можно   наращивать   элементную   базу   путем  наследования

    функциональных    и    информационных    возможностей    уже

    существующих жлементов, толь добавляя необходимые  свойства.

    Однако  существует  и  другой  подход, позволяющий построить

    более адекватные модели элементов. Это подход  структурнотго

    определения новых элементов на базе уже существующих. В этом

    случа, необходимо описать обьектный тип, который в  качестве

    логической  функции   будет  содержать   подсхему  из    уже

    определенных ранее схемотехнических элементов.


        Здесь необходимо  выбирать компромисный  вариант, т.  к.

    повышая во втором случае адекватность моделирования, мы  тем

    самым "сьедаем" ресурсы вычислительной системы, поскольку ей

    теперь в каждом конкретном случае придется выделять  ресурсы

    и время на моделирование подсхем.


