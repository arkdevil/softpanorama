-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
  CW_Txt is Copyright (c) JV ARIS-Tbilisi AIM & BIP Software Group,
     Tbilisi, Georgia, 1991.   ---   Created by B.Parlagashvili.
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

    Программа   CW_Txt   предназначена   для  конвертирования  файлов,
созданных редактором Chi-Writer в формат текстовых (ASCII) файлов.

    По  ряду  объективных  и  субъективных  причин автор не использует
вышеуказанного  редактора,  однако  следует  признать,  что Chi-Writer
получил достаточное распространение в Советском Союзе, и автор был  бы
рад содействовать корректному преобразованию CHI-файлов в "нормальный"
текстовый формат.

    Два  варианта  решения  проблемы  конвертирования   (использование
CONFIG.ASC  и  техника  использования  драйвера  принтера для вывода в
текстовый  файл,   предлагаемая  В.Фигурновым)   были  отвергнуты   по
различным  причинам.  Первый  позволяет  каждому  символу  расширенной
таблицы   ASCII   поставить   в   соответствие   символ   лишь  одного
фиксированного  фонта,  а  также  требует,  чтобы текст был введен или
"обновлен"  в   данном  сеансе   редактирования  (иначе   считает  его
латинским). Вторая же достаточно сложна в использовании и создании или
модификации драйвера и требует некоторых специальных знаний.

   Итак, что же предлагает CW_Txt ?  Вызов программы имеет формат :

                  CW_Txt  <mode>  <infile> <outfile> , где

    <infile> и <outfile> -  имена входного и выходного  файлов, причем
последнее  может  не  задаваться  -  в  таком случае будет выбрано имя
входного файла и расширение TXT;
    <mode> -  дескриптор файла  параметров, имя  которого строится  по
принципу  CW_TXT<mode>.PAR  (например :  CW_TXT3.PAR). <mode>   должен
быть одиночным алфавитно-цифровым символом.

    Опишем структуру файла параметров.  В файле присутствуют три  типа
строк, каждая из  которых определяется соответствующим  трехсимвольным
дескриптором в начале строки и начинается с первой позиции.

  1) CH-символ

    Определяется  символ-заполнитель,   который  будет   выводиться  в
текстовый файл, если перекодировка  какого-либо фонта  или символа  не
предусмотрена.  Эта  строка  должна  быть  в файле первой, в противном
случае в качестве заполнителя используется символ с кодом 254 ('■').

  2) FE-имя_фонта            { English    - английский     }
     FG-имя_фонта            { Georgian   - грузинский     }
     FR-имя_фонта            { Russian    - русский        }
     FL-имя_фонта            { LineDraw   - псевдографика  }
     FA-имя_фонта            { Additional - дополнительный }

    Определяется   имя   фонта,   относящегося   к   одному   из  пяти
перечисленных выше классов. Строки с определением фонта каждого класса
могут  появляться  в  файле  многократно  (т.е. Вы можете заявить, что
русскими  являются,  например,  RUSSIAN,  RUSSBOLD,  NORM__R, MYRUSF и
т.д.). Общее  количество строк  вида "F?-имя_фонта"  ограничено числом
32.

  3) TE-строка_перекодировки    { English    - английский     }
     TG-строка_перекодировки    { Georgian   - грузинский     }
     TR-строка_перекодировки    { Russian    - русский        }
     TL-строка_перекодировки    { LineDraw   - псевдографика  }
     TA-строка_перекодировки    { Additional - дополнительный }

    Каждая из  строк этого  типа определяет  таблицу перекодировки для
одного  из  перечисленных  выше  классов.  Начиная с четвертой позиции
строки (первые  три занимает  дескриптор) должны  быть расположены  95
символов,  первый  из  которых  соответствует  пробелу  (код  032),  а
последний символу  '~' (код  126). Остальные  символы диапазона должны
быть расположены в порядке следования их прототипов в таблице ASCII.

Приведем пример (фрагмент) строки перекодировки :


Позиции    :  _________1_________2_________3_________4______  ...
              1234567890123456789012345678901234567890123456  ...

Прототипы  :      !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJ  ...

СОДЕРЖИМОЕ :  TR- !Э#;:.э()*+б-ю/0123456789ЖжБ=Ю?"ФИСВУАПРШО  ...


    Любая  другая  строка  файла  воспринимается  как  комментарий.  В
частности,  могу  рекомендовать   располагать  над  или   под  строкой
перекодировки  строку,  содержащую  соответствующие прототипы, которая
облегчит  Вам  процесс  создания  строки  перекодировки.


    Смотрите  также  примеры  файлов  CW_TXT<mode>.PAR,   поставляемых
вместе с программой CW_Txt.


    Буду рад если программа окажется полезной. Готов также ответить на
пожелания, рекомендации и соболезнования, если Вы свяжетесь со мной по
адресу :
         380060, Тбилиси, ул. Амбролаурская, 166, корп. 7, кв. 9,
         или по телефонам (883-2) 37-36-02 (дом.)
                                  29-40-18 (раб.)


                                            Б.Парлагашвили

                                              01/09/1991
