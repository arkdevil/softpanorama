       БУХГАЛТЕРСКИЙ КАЛЬКУЛЯТОР ДЛЯ ПРОГРАММ НА Clarion 2.1.

- Документация по "подключению" калькулятора к программам
  написанным на Clarion 2.1.

  ( Основные возможности калькулятора  описаны	в файле readme,
    инструкция по пользованию содержится  в файле   kalc.hlp  и
    вызывается клавишей F1 в момент использования калькулятора,
    например в программе demo.exe. )

Для подключения калькулятора к вашей программе необходимо скопировать
все  поставляемые  файлы  в вашу рабочую директорию и последовательно
выполнить следующие действия:
   1) Добавить в структуру MAP, находящуюся в основном модуле програм-
мы, описание процедуры	KALC, содержащейся в файле  kalc.pro, так как
это сделанно в файле  demo.cla.
   2) Описать глобальную переменную  BLOKNOT ( опять же в основном мо-
дуле и так же как в demo.cla ). Она используется  для записи вычисляе-
мого значения и обмена им с другими переменными вашей программы.
   3) В точках вызова калькулятора вставьте строчку:  KALC , при этом
надо помнить, что из модулей, занимающих общую с модулем KALC оверлей-
ную область, калькулятор не может быть вызван.
   4) В файле kalc.cla в аргументе оператора  MEMBER('....') замените
название основного модуля : DEMO на название вашей программы.
   5) Перекомпилируйте вашу программу.
   6) Воспользовавшись процессором Clarion, сделайте: cpro nkalc.pro
в результате будет создан  файл	  kalc.pro, соответствующий вашей про-
грамме.
   7) Полученная программа  может  быть	 транслированна в .exe модуль
обычным образом.

Полезный совет для тех кто работает в "дизайнере":
   если вы работаете со стандартным файлом модели   standard.mdl  для
   подключения калькулятора вам необходимо воспользоваться сгенериро-
   ванным текстом и внести в него изменения по изложенному выше алго-
   ритму. Если вы смело идете на работу с собственным	*.mdl файлом,
   вставьте в структуру MAP описание файла kalc (other в дизайнеpе) с
   процедурой KALC, как это описывалось выше,  и  описание переменной
   BLOKNOT. Затем внесите в процедуру каждого типа, содержащуюся в
   вашем   *.mdl примерно следующее:
!   .................................
    ALERT(F8_KEY)				 !ALERT SCREEN ACCEPT KEY
!   .................................
  IF KEYCODE() = F8_KEY				 !ON HOT KEY
    UPDATE(?)					 !  RETRIEVE FIELD
    KALC					 !  CALL HOT KEY PROCEDURE
    SELECT(?)					 !  DO SAME FIELD AGAIN
    CYCLE					 !  AND LOOP AGAIN
  .
!   .................................

   а так же не забудьте выполнить после компиляции программы:
   cpro new_kalc, и теперь ваш калькулятор станет   "резедентным"  по
   клавише F8!

