

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


                               Table of Contents


    1. INTRODUCTION...................................... 2
        1.1. Purpose of TbDriver......................... 2
        1.2. A Quick start............................... 2

    2. USAGE OF THE PROGRAM.............................. 3
        2.1. System requirements......................... 3
        2.2. Program invocation.......................... 3
            2.2.1. Invocation in Config.Sys.............. 3
            2.2.2. Invocation in network environment..... 4
            2.2.3. Invocation when using MS-Windows...... 4
        2.3. Command line options........................ 4
            2.3.1. help ................................. 4
            2.3.2. net .................................. 5
            2.3.3. remove ............................... 5
            2.3.4. mode ................................. 5
            2.3.5. quiet ................................ 5
            2.3.6. secure ............................... 5
            2.3.7. notunnel ............................. 5
            2.3.8. Language support...................... 6
        2.4. Examples:................................... 6
        2.5. Error messages.............................. 6

    3. CONSIDERATIONS AND RECOMMENDATIONS................ 8
        3.1. Solving incompatibility problems............ 8
        3.2. Reducing the memory requirements............ 8



























                                     Page i



























































                                     Page 1

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


1.  INTRODUCTION


  1.1.  Purpose of TbDriver

    TbDriver does not provide much protection against viruses by itself.
    The TbDriver however is necessary to get the other resident
    Thunderbyte Anti-Virus utilities working. It provides some routines
    that are used by all utilities, like the pop-up window routines,
    the translation unit that makes messages appear in your native
    language, the network support, etc.


  1.2.  A Quick start

    Although we highly recommend a complete reading of this manual, here
    are some directions for a quick run of TbDriver:

    Type "TbDriver". This will be sufficient to load TbDriver in
    memory.

    The invocation syntax is:
            TBDRIVER [<language file>] [<options>]...

    The default language file is named TBDRIVER.LNG. If you obtain a
    language package from a Thunderbyte support BBS there should be
    a replacement TBDRIVER.LNG file in it.

    TbDriver command:
            C:\TBAV\TBDRIVER

    For fast online help type "TbDriver ?" or "TbDriver help".























                                     Page 2

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


2.  USAGE OF THE PROGRAM


  2.1.  System requirements

    TbDriver runs perfectly on standard machines, in line with our
    philosophy that there should be a limit to limitations.

    +   TbDriver can be executed under DOS version 3.00 (and all later
        versions). However, Dos 5.0 or higher is recommended, since
        TbDriver has been optimized and designed primarily for use with
        these DOS versions.

    +   TbDriver requires about 5 Kb of free memory to be invoked.
        Once resident it requires even less memory.


  2.2.  Program invocation

    It is recommended to invoke TbDriver automatically from within your
    Config.Sys or Autoexec.Bat file. It is important to invoke TbDriver
    as early as possible after the machine has booted. For that reason
    it is possible to invoke TbDriver from within the Config.Sys file.

    TbDriver is easy to use. The syntax is as follows:
            TbDriver [<language file>] [<options>]...

    There are three possible ways to invoke TbDriver:

    To invoke TbDriver from the DOS prompt or within the Autoexec.Bat
    file:
            <path>TbDriver

    To invoke TbDriver from the Config.Sys as a TSR (Dos 4+):
            Install=<path>TbDriver.Exe

    To invoke TbDriver from the Config.Sys as a device driver:
            Device=<path>TbDriver.Exe

    TbDriver should always work correctly after being started from
    within the Autoexec.Bat. The "Install=" Config.Sys command is
    NOT available in DOS 3.xx.

    In addition to the three invocation possibilities DOS 5 users can
    "highload" TbDriver in an UMB (upper memory block) if it is
    available:
            LoadHigh <path>TbDriver.Exe
    Within the Config.Sys file TbDriver can also be loaded high:
            DeviceHigh=<path>TbDriver.Exe


   2.2.1.  Invocation in Config.Sys



                                     Page 3

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


    -> Invoking TbDriver as a device driver does not work in all OEM
       versions of DOS. You have to try it, if it doesn't work use the
       "Install=" command or load TbDriver from within the Autoexec.Bat.

   2.2.2.  Invocation in network environment

    -> Unlike other anti-virus products, the Thunderbyte anti-virus
       utlities can be loaded before the network is started without
       losing the protection after the network is started.

       In normal situations it is not necessary to use the 'net'
       option of TbDriver.

       If you install TbDriver on a machine that is booted from a
       boot ROM, specify the message file with the drive and path where
       it can be found AFTER the machine is booted. The default message
       file will not be accessible anymore after the machine has booted.

   2.2.3.  Invocation when using MS-Windows

    -> Windows users should invoke TbDriver BEFORE starting Windows.
       If you do that there is only one copy of TbDriver in memory, but
       every DOS-window will nevertheless have a fully functional
       TbDriver in it.  TbDriver detects if Windows is starting up, and
       will switch itself into multitasking mode if necessary. You can
       even disable TbDriver in one window without affecting the
       functionality in another window.


  2.3.  Command line options

    It is possible to specify options on the command line. A filename
    specification will be treated as a language file specification.
    The upper three options are always available, the other options are
    only available if TbDriver is not already resident in memory.

    optionword    short  explanation
    ----------    ----- -------------------------------------

        help        ?   =display this helpscreen
        net         n   =force LAN support
        remove      r   =remove TbDriver from memory
        mode =<m|c> m

        quiet       q   =do not display activity
        secure      s   =do not allow permission updates
        notunnel    t   =do not detect tunneling


   2.3.1.  help (?)

    If you specify this option TbDriver will show you the brief help as



                                     Page 4

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


    shown above.

   2.3.2.  net (n)

    TbDriver cooperates well with most networks, in normal situations
    option 'net' is not necessary. Option 'net' is necessary only in
    the following condition:
        A connection to a Novell network is made, AND
        TbDriver.Exe is started before the logon command was used, AND
        there is no valid Anti-Vir.Dat record in the directory where
        the NET?.COM program resides, or the NET?.COM file has been
        renamed.

   2.3.3.  remove (r)

    This option can be used to remove the resident part of TbDriver from
    your memory.  All memory used by TbDriver will be released.
    Unfortunately, the removing of a TSR (like TbDriver) is not always
    possible.  TbDriver checks whether it is safe to remove the resident
    part from memory, if it is not safe it just disables TbDriver. A TSR
    can not be removed if another TSR is started after it.  If this
    happens with TbDriver it will completely disable itself.

   2.3.4.  mode (m)

    On dual video systems TbDriver will use the screen which was active
    at TbDriver invocation. If you don't want this you can specify
    which screen should be used: 'mode=m' for monochrome, 'mode=c' for
    color systems.

   2.3.5.  quiet (q)

    Some resident TBAV utilities display a activity status. TbScanX
    displays a rectangle with "*Scanning*" in the upper left corner of
    your screen while it performs its scanning.  You can disable that
    by using the 'quiet' option of TbDriver. This option can only be
    used at the initial invocation of TbDriver.

   2.3.6.  secure (s)

    Some Thunderbyte utilities are able to store permission flags in
    the Anti-Vir.Dat files. If you don't want these flags to be
    changed, specify this option. This option has no effect on flags
    that are already set, so the option 'secure' could be used after
    the installation of all products.

   2.3.7.  notunnel (t)

    TbDriver normally detects tunneling attempts of viruses.
    'Tunneling' is a technique used by viruses to determine the
    location of the DOS system code in memory, and to use that address
    to communicate with DOS directly. This will inactivate all TSR



                                     Page 5

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


    programs, including resident anti-virus software. TbDriver is able
    to detect 'tunneling' attempts, and informs you about this. Some
    other anti-virus products also make use of tunneling techniques to
    bypass resident viruses, causing an false alarm. Do you make use of
    such other anti-virus products, you may use option 'notunnel' to
    disable the tunneling-detection.

   2.3.8.  Language support

    TbDriver will by default retrieve the pop-up window messages from a
    file named TBDRIVER.LNG. It will search for this file in the
    directory where the TbDriver.Exe file itself resides.

    If you want the messages to appear in any other language, check if
    there is a file for this language available. If this is the case,
    specify the full path and filename after the TbDriver invocation.

    You can also switch to another language by invoking TbDriver again
    with another message file. This will not take additional bytes of
    memory.


  2.4.  Examples:

        C:\TBAV\TbDriver quiet
    or:
        Device=C:\TBAV\TbDriver.Exe C:\TBAV\TbDriver.Lng


  2.5.  Error messages

    Error messages that might be displayed:

    -   Another version of TbDriver is already resident!
        You invoked a TbDriver.Exe program with another version number
        or processor type than the TbDriver already resident in memory.

    -   Can not remove TbDriver. Unload other TSRs first!
        You tried to remove TbDriver from memory, but other resident
        software was loaded after TbDriver. Resident software can only
        be removed from memory by unloading them in reversed order.

    -   TbDriver was not resident.
        You tried to remove TbDriver from memory, but it seems that
        TbDriver was not resident in memory at all.

    -   Invalid use of option 'net'.
        Option 'net' has no use when you specify it at the initial
        invocation of TbDriver.

    -   LAN support was already installed.
        You tried to use option 'net' for a second time, or TbDriver



                                     Page 6

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


        already enabled network support automatically.

    -   This version of TbDriver requires a <typeID> processor.
        You are using a processor optimized version of TbDriver and
        it can not be executed by the current processor.


















































                                     Page 7

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


3.  CONSIDERATIONS AND RECOMMENDATIONS


  3.1.  Solving incompatibility problems.

    Although TbDriver has been designed to cooperate with other resident
    software, other software may not have been, causing system errors or
    worse.

    The problems most often inccurred:

    Problem:
        If any TBAV utility tries to display a message, the text
        'message file <filename> could not be opened' appears.

    Solution:
        Specify the FULL path and filename of the file that you will
        use as message file after the TbDriver invocation. The default 
        language file is "TbDriver.Lng".

    Problem:  You are running a network. TbScanX is installed
        succesfully, but it does not display the "*scanning*" message
        while accessing files.  It does also not detect viruses.

    Solution:
        Use the command 'TbDriver net' after the network has been
        loaded.

    Problem:
        The system sometimes hangs when the message "*scanning*" is on
        the screen. The problem however is hard to reproduce.

    Solution:
        Try using StackMan. StackMan is supplied in the TBAV package.


  3.2.  Reducing the memory requirements.

    Most PC users try to maintain as much free DOS memory as possible.
    TbDriver is designed to use a very small amount of DOS memory. To
    decrease the memory requirements of TbDriver any further do the
    following:

    -   Load TbDriver from within the Config.Sys file. If loaded as a
        device driver TbDriver has no Program Segment Prefix (PSP),
        and that saves 256 bytes.

    -   If you invoke TbDriver from within the Autoexec.Bat file do this
        before establishing environment variables. DOS maintains a list
        of environment variables for every resident program, so keep
        this list small while installing TSRs. Once all TSRs are
        installed you can define all environment variables without



                                     Page 8

 Thunderbyte resident utilities driver v5.00 (C) 1992 Thunderbyte B.V.


        affecting the memory requirements of the TSRs.

    -   If you have DOS 5 or higher try to load TbDriver into an upper
        memory block using the "loadhigh" or "devicehigh" commands.

    -   Use one of the processor specific versions of TbDriver. They all
        consume less memory than the generic version of TbDriver.
        Processor optimized versions are available on any Thunderbyte
        support BBS.














































                                     Page 9