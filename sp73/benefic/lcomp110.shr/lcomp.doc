LCOMP      ListCompare:  Compares the contents of two ascii list files.
           Copyright (c) 1994 Creativity in Action.  All rights reserved.


SUMMARY
=======
LCOMP, a list comparison utility, reads two ASCII text files and compares
their contents line by line.  (Each file's contents is considered a "list.")
You can add the two files together, subtract one from the other, identify the
common element, or identify those elements not common to both files.  The
output can be directed to the screen or to another file for further
processing.  LCOMP is especially useful for network group membership lists.


SYNTAX
======
    LCOMP [/Help] [options] infile1 infile2 [outfile]

Where:

    infile1                 is the ascii file containing the first list,
    infile2                 is the ascii file containing the second list, and
    outfile                 is an optional file receiving the output list.

Several switches are available:

    /H     Help.            Displays basic help information.
    /D     Detail mode.     Displays the current settings for LCOMP.
    /Q     Quiet mode.      Do not display normal messages.  Useful in a batch
                            file.
    /A     Add.             Adds the two input files (default if no operation
                            is chosen).
    /S     Subtract.        Subtracts the second file from the first.
    /C     Common.          Shows only the elements common to both files.
    /U     Uncommon.        Shows only those elements that are are NOT common
                            to both files.
    /I     Ignore case.     Ignore case of characters when operating on lists.
    /T     Truncate.        Ignore any characters after the first space
                            character.

The actual order of the switches themselves is inconsequential.  The order of
the elements within the file is also unimportant; LCOMP sorts them when
processing the data.  In all cases leading and trailing spaces are ignored,
although mid string spaces are considered unless the truncation switch has
been set.


RETURN VALUES
=============
LCOMP returns no errorlevel codes.


DEFINITIONS
===========
A mathematician may not be happy with the definitions of operations used by
LCOMP.  However, these operations work the way they do because they provide
useful output.

ADDITION:  LCOMP concatenates the contents of the two lists, sorts the result,
then deletes any duplicate entries.

SUBTRACTION:  LCOMP creates the output list by cloning the second list.  It
then removes any entries in the output list that also exist in the first list.
This is the only operation that is order-specific.  In other words,
"FILE1 /S FILE2" normally yields a different result from "FILE2 /S FILE1."

COMMON:  LCOMP creates an output list that contains only the elements that are
common to both input lists.

UNCOMMON:  This is the opposite of COMMON.  If either input has an element not
found in the other input list, that element is added to the output list.


EXAMPLES
========
Basic Operations
----------------
The table below shows the results of the four basic operations.  The first two
columns show the contents of the input files; the rest show the resultant
output for each of the operations.

file1     file2      /A        /S        /C        /U
-----     -----     -----     -----     -----     -----
  1         1        1         4         1         10
  2         2        10        5         2         4
  3         A        2         6         3         5
  4         B        3                             6
  5         C        4                             8
  6         3        5                             9
            8        6                             A
            9        8                             B
            10       9                             C
                     A
                     B
                     C


The Truncate Switch
-------------------
The truncation switch /T ignores any characters after a space character.  For
example, file8 is treated exactly the same as file9 shown below.

file3                                    file4
------------------------------           --------
LCohen    Leonard Cohen                  LCohen
LittleAl  Al Unser, Jr.                  LittleAl
TBarnett  Barnett, T-Bone                TBarnett
MearsR    Rick Mears                     MearsR
JJones    Jones, Jonah                   JJones
BigBrain  Einstein, Dr. Albert           Bigbrain


Here's an example showing the truncation switch when used with addition.

file5                                    file6         /A /T
------------------------------           --------      -----
1                                        BigBrain      1
2                                        9             2
LCohen    Leonard Cohen                  LCohen        7
LittleAl  Al Unser, Jr.                  7             8
BigBrain  Einstein, Dr. Albert           8             9
9 800 555-SCCA                                         BigBrain
9 900 555-1212                                         LCohen
                                                       LittleAl


The Ignore Case Switch
----------------------
The ignore case switch converts every element to lower case, then compares
them.  The table below shows how addition and common operations work with and
without the ignore case flag set.

file7     file8      /A       /A /I      /C       /C /I
-----     -----     -----     -----     -----     -----
  1         1        1         1         1         1
  2         2        2         2         2         2
  3         A        3         3         3         3
  a         B        A         a                   a
  b         C        B         b                   b
  c         3        C         c                   c
                     a
                     b
                     c


A Network Example
-----------------
Here's an example of using LCOMP to assist in network system administration.
Let's assume you have a group called DEPT_USERS and another called
EMAIL_USERS.  You use a utility like USERLIST or GRPLIST to generate a list of
the members of each.  We'll call these list files DEPT and EMAIL.  Some of the
people in the DEPT group are also members of the EMAIL group.  However, you'd
like to get everyone in DEPT added to the EMAIL group.  Therefore you need to
get a list of those people in DEPT that do not already belong to EMAIL.  What
you want then is to subtract EMAIL from DEPT, so here's the syntax.

LCOMP dept email /s

ADDITIONAL INFORMATION
======================
Help regarding syntax will be displayed if you enter only LCOMP.  You can also
request the help screen by using either of the /H, ?, or /? switches.  All
these forms are supported to provide compatibility with DR-DOS, Norton
Utilities, and MS-DOS syntax.

LCOMP does not check if the output filename already exists.  If it does exist,
it writes over them.

If you don't wish to see LCOMP in action, use the /Q (quiet) switch.  Error
messages will be displayed even with the quiet switch invoked.

Unless you have specified the quiet switch, LCOMP will display a pacifier.
Every few lines a period will be displayed.

If you want to see the settings LCOMP will use, enter the /D switch.  LCOMP
will show you the input filenames, the output filename, and the settings of
the other switches.  The detail switch ignores the quiet (/Q) switch.

While the switches are shown with virgules (slashes), hyphens (for our Unix
friends) or even backslashes (for those with screwy keyboards) can be used
instead.  However, because LCOMP converts hyphens and backslashes to virgules,
the filenames cannot start with either of these two characters.  You can
specify these files by using fully qualified filenames (specify the drive
letter and the path).  For example, if you want to LCOMP files -TOP and
\BOTTOM, you could enter LCOMP C:-TOP C:\BOTTOM.


HISTORY
=======
Version 1.00   Initial version
Version 1.10   Fixed problem with certain single-character filenames
               Added check for input files that didn't exist

SHAREWARE
=========
This program was written as shareware; your comments are welcome.  However, we
reserve the copyright for the program.  If you find LCOMP useful, send seven
bucks ($7.00) to

     Creativity in Action, P. O. Box 6026, Fullerton, CA   92634-6026.

You're welcome--nay, encouraged--to distribute the program as long as you
don't charge anything for it and don't change it in any way.  Be sure to
include the documentation and sample files when you distribute it.  You
corporate guys--send a few extra bucks if you're going to use it all over 
the place.

Thanks for your support ....
