               РАБОТА С МЕНЮ ПОЛЬЗОВАТЕЛЯ.
      Займемся теперь кнопкой <F2>.
      Меню пользователя позволяет строить сложную иерархическую
структуру подменю. Рассмотрим подробнее, как это можно сделать.
      Допустим, мы хотим, чтобы система меню выглядела так:
                                        ┌───────────────┐
┌──────────────────────────────────┐    │               │
│                                  │ ┌──>Вызов редактора│
│    Работа с редактором Лексикон──│─┘  └───────────────┘
│                                  │    ┌───────────────┐
│    Работа с таблицами Cуперкалк ─│────>               │
│                                  │    │ Вызов таблиц  │
│    Служебные утилиты...──────────│──┐ └───────────────┘
│                                  │  │
│F10 Конец работы                  │  │
└──────────────────────────────────┘  │
                                      │  меню утилит
                             ┌───────────────────────────┐
                             │                           │
                             │Форматирование дискеты 360К│
                             │                           │
                             │Форматирование дискеты 1,2М│
                             │                           │
                             │Работа с PCTools           │
                             │                           │
                         ┌───│Антивирусные средства...   │
                         │   │                           │
                         │   │ Выход в основное меню     │
  меню антивирусов       │   └───────────────────────────┘
   ┌───────────────────────┐
   │ aidstest проверка А:  │
   │ aidstest проверка C,D:│
   │ Выход в меню утилит...│
   │ Выход в основное меню │
   └───────────────────────┘
и т.п.

      Основное  меню  системы  должно  вызываться   из   любого
каталога  и   поэтому   оформляем   его   как   основное   меню
пользователя.
   Файл NC.MNU (основное  меню)  должен выглядеть примерно так:
--------------------------------------------------------------
Работа с редактором Лексикон
 c:\lexicon\lex
Работа  с таблицами Суперкалк
'запоминаем текущий каталог и накопитель
  cd >c:\exe\nc\old.dir
'переходим на устройство С:
 c:
'переходим в каталог с файлами Суперкалка
 cd c:\supercal
'вызываем Суперкалк
 sc4
'возвращаемся в каталог и накопитель,  из которых ушли
xcd <c:\exe\nc\old.dir
Служебные утилиты...
'ВНИМАНИЕ!при выборе строки служебные утилиты должно появиться
'подменю.Чтобы это произошло автоматически, необходимо включить
'режим PULL DOWN,OPTIONS,AUTO MENUS.
'запоминаем текущий каталог и накопитель
 cd >c:\exe\nc\old.dir
 c:
'и переходим в каталог утилит
  cd \exe
F10 Конец работы
'Здесь просто пишем полное  имя  программы  паркования  головок
'винчестера перед выключением компьютера
 c:\diskpark
─────────────────────────────────────────────────────────────
     Здесь считается,  что  для  работы  с  Суперкалком  нужно
перейти  в  его  накопитель-каталог.   (   Пример   работы   с
программой,  требующей  при  запуске  перехода  в  ее  рабочий
накопитель-каталог, подробнее см. ncext.doc).
      При выборе  строки  Служебные  утилиты должно вызываться
подменю системы.  Оно  должно  вызываться  только  в  каталоге
c:\exe и поэтому оформляем его как локальное меню пользователя:
──────────────────────────────────────────────────────────────
Форматирование дискеты 360К
 format a: /4
Форматирование дискеты 1,2М
 format a:
Работа с PCTools
'работа с PCTools производится в каталоге, из которого
'когда-то вызывалось главное меню !!!!
 xcd <c:\exe\nc\old.dir
 pctools
 c:
 cd \exe
Антивирусные средства
'здесь организуем еще одно подменю (каталог c:\exe\anti)
 cd anti
Выход в основное меню
'возвращаемся в каталог и накопитель, из которых ушли
 xcd <c:\exe\nc\old.dir

──────────────────────────────────────────────────────────────
      Подменю c:\exe\anti построено аналогично.
Для выхода из меню с большим заглублением можно использовать
два пункта меню - на уровень выше и в основное меню.

──────────────────────────────────────────────────────────────

aidstest проверка А:
 aidstest a:/f
aidstest проверка C,D:
 aidstest */f
Выход в меню утилит
 cd ..
Выход в основное меню
'возвращаемся в каталог и накопитель, из которых ушли
 xcd <c:\exe\nc\old.dir
──────────────────────────────────────────────────────────────

     При работе  с  меню  описанным  здесь  образом нужен файл
XCD.EXE.  Эта программа  работает  аналогично  встроенной  CD,
запускаемой без параметров,  но наоборот (ждет из стандартного
ввода строку с накопителем-каталогом и, если все верно, делает
их текущими).

     При работе  с меню можно использовать возможности подмены
символов  в  командной  строке  NC  программой   EXTNCCLI.EXE,
опубликованной в Софтпанораме. (Последовательности символов []
для списка помеченных файлов и  \\,\\\  для  указания  пути  в
соседнее окно можно вставлять в строки описания команд меню.)
