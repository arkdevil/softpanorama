unlzexe (PC-VAN UTJ44266 Kou )

   UNLZEXE converts the compressed file by lzexe(ver.0.90,0.91) to the
   UNcompressed executable one.

   usage:  UNLZEXE packedfile[.EXE] [unpackedfile.EXE]

v0.6  David Kirschbaum, Toad Hall, Jul 91
	Problem reported by T.Salmi (ts@uwasa.fi) with UNLZEXE when run
	with TLB-V119 on 386's.
	Stripping out the iskanji and isjapan() stuff (which uses a somewhat
	unusual DOS interrupt) to see if that's what's biting us.

--	Found it, thanks to Dan Lewis (DLEWIS@SCUACC.SCU.EDU).
	Silly us:  didn't notice the "r.h.al=0x3800;" in isjapan().
	Oh, you don't see it either?  INT functions are called with AH
	having the service.  Changing to "r.x.ax=0x3800;".

David Kirschbaum
Toad Hall
kirsch@usasoc.soc.mil

Date: Wed, 20 Nov 1991 15:26:25 +1030
From: Alan Modra <amodra@itd.adelaide.edu.au>
Message-Id: <9111200456.AA07312@sirius.ucs.adelaide.edu.au>
To: kirsch@usasoc.soc.mil
Subject: UNLZEXE6 bugs


Hi David,
     I found a bug in your very handy UNLZEXE program when trying
to decompress a large file.  The resulting EXE header had the number
of sectors for the file 0x100 too small.  This was easily fixed by
casting some ints around the place to long.

Some poking around in LZEXE91 under Turbo debugger also revealed the
correct value to adjust MinBSS (ohead[5]).  I didn't have a copy of
LZEXE90 to see if it did the same thing.

The rest of the message is a context diff for my changes

[Changes posted, new UNLZEXE7.C and UNLZEXE7.EXE created.]
