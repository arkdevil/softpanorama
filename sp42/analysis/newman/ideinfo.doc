
------------------------------------------------------------
 IDEINFO.EXE             Version 1.0                5/26/91
------------------------------------------------------------
 (C) Copyright 1991 Thomas J. Newman.  All Rights Reserved


Purpose:

   IDEINFO displays information about the IDE (Integrated Drive
   Electronic) drives in an AT computer.  It issues a standard
   IDE drive command that requests information about the drive.
   This information is then displayed on the screen.

   The information returned by the drive includes the physical
   number of cylinders/heads/sectors; buffer size; number of
   ECC bytes transferred; and the drive's model number, serial
   number, and firmware revision level.

   This program would be useful to someone who wants to know
   more information about the IDE drives installed in his/her
   system.  It can also be used as a troubleshooting aid since
   it by-passes the system BIOS and accesses the hardware
   directly.

Format:  IDEINFO    (no parameters required)

Remarks:

   The program first displays the numbers of hard disk drives
   reported by the AT System BIOS (this value is stored in
   memory at location 0040:0075).  This value will be 0 if no
   drives found; 1 for one drive; and 2 for two drives.

   Next a check is made to determine if any IDE drives exist.
   The main hard disk controller address is check (1F0 to 1F7)
   to determine the number of hard drives (0, 1, or 2).  The
   number of drives found is then displayed.

   If any IDE drives are found, a special command (Identify
   Drive) is sent to each drive and the information returned by
   the drive is displayed.

   Note:  An error message may be displayed if drives are found
   but are connected to an older AT disk controller that
   doesn't support the Identify Drive command.  This is not a
   fatal error, it just means that the drive information can't
   be displayed.

        *** Identify command was rejected by drive x

   The Identify Drive command is not used by the BIOS or the
   System for normal operations.

Notes:

   This program is only useful when used on AT computers that
   use a standard AT drive interface.  If it's used with
   non-standard disk controllers/drives, it will report the
   number of hard drives the BIOS found and report zero IDE/AT
   drives found.  The program could be run in these systems to
   confirm that there is no IDE/AT drives or in systems that
   may have an IDE drive plus another type (e.g., SCSI drives).

   This program accesses the disk drives by directly reading
   and writing hardware registers.  This program does not write
   to the disk drive nor does it alter any of the drive's data
   or parameters.

   The IDE Drive interface only supports two drives:  Drive 0
   and Drive 1.  The program does a special check to see if
   Drive 1 is present without Drive 0.  This means that the
   drive(s) are jumpered incorrectly and a warning message is
   displayed:

        *** Warning:  Only one drive found and Its addressed
                      as Drive 1.

   The number of cylinders/heads/sectors displayed is generally
   the drive's "native" values.  These are the physical values
   used internally by the drive.  The interface accepts logical
   parameters from the System (as defined in the CMOS drive
   type and Drive Parameter tables) and translates them into
   the drive's physical parameters.

   Some drives (Seagate ST-1144 for example) will return the
   same parameters as the System's.  This occurs because the
   drive varies the number of sectors per track based on it
   physical location on the disk (called "zones").

-----------------------------------------------------------
                    Copyright Notice
-----------------------------------------------------------

   This program and documentation is copyrighted by Thomas J.
   Newman.  The program and documentation in its complete and
   unmodified form may be used freely and uploaded to other
   BBSs, but may not be resold without written permission from
   the author.

   If you have any comments, suggestions, or question about
   this program, please send an e-mail message to the author
   through Compuserve: 71246,1573

