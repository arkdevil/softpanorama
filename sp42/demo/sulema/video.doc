

  ▀▀▀▀▀▀▀           ▀▀   (TM)
  ▀▀                ▀▀
  ▀▀      ▀▀   ▀▀ ▀▀▀▀▀▀ ▀▀ ▀▀▀  ▀▀▀▀▀  ▀▀        ▀▀ ▀▀▀▀▀    ▀▀ ▀▀▀   ▀▀▀▀▀▀
  ▀▀▀▀     ▀▀ ▀▀    ▀▀    ▀▀  ▀▀     ▀▀ ▀▀        ▀▀     ▀▀    ▀▀  ▀▀ ▀▀    ▀▀
  ▀▀        ▀▀▀     ▀▀    ▀▀      ▀▀▀▀▀▀ ▀▀  ▀▀  ▀▀   ▀▀▀▀▀▀   ▀▀     ▀▀▀▀▀▀▀▀
  ▀▀       ▀▀ ▀▀    ▀▀    ▀▀     ▀▀   ▀▀  ▀▀▀▀▀▀▀▀   ▀▀   ▀▀   ▀▀     ▀▀
  ▀▀▀▀▀▀▀ ▀▀   ▀▀    ▀▀   ▀▀      ▀▀▀▀ ▀▀  ▀▀  ▀▀     ▀▀▀▀ ▀▀  ▀▀      ▀▀▀▀▀▀


  Extraodinary Software Engeneering, Inc.

  User interfase library - ExtraVideo version 1.0, Copyright (C) 1991.







█▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀█
█       Справочное руководство по библиотеке функций пользовательского        █
█                           интерфейса ExtraVideo.                            █
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀

Введение.

        Документ "Справочное руководство по библиотеке функций пользователь-
        ского интерфейса ExtraVideo" содержит определения всех функций биб-
        лиотеки ExtraVideo, общих переменных и типов.
          В первой главе "Справочного руководства" описываются файлы, входя-
        щие в библиотеку, и даются рекомендации по ее использованию.
          Во второй главе "Справочного руководства" приводится описание вклю-
        чаемых файлов библиотеки, макроопределений, используемых для прямого
        доступа к видеопамяти дисплейного адаптера, символических констант,
        определяющих атрибуты изображения в текстовом режиме, а также гло-
        бальной переменной библиотеки, определяющей начальный адрес видеобу-
        фера.
          В третьей главе приведены описания всех функций библиотеки в алфа-
        витном порядке. Для каждой функции приведена следующая информация:
          - синтаксис;
          - включаемые файлы содержащие ее прототип;
          - краткое описание действия, возвращаемое значение, переносимость
            в другие системы *) и связанные с ней функции.

        *) Примечание:
           Библиотека ExtraVideo написана при помощи системы Turbo C и имеет
           некоторые ограничения, накладываемые на нее особенностями языка
           Turbo C, а также ограничения связанные с тем, что библиотека ори-
           ентирована на операционную систему MS-DOS и персональный компьютер
           фирмы IBM или совместимый с ним.

                                     * * *

Глава 1.

        В комплект поставки библиотеки входят следующие файлы:

        video.h, color.h, key.h - включаемые файлы, содержащие все необходимые
        прототипы функций, определения глобальных переменных и символические
        константы;

        videox.lib - библиотечные файлы, содержащие код функций библиотеки
        ( x обозначает первую букву названия модели памяти: s[mall], m[edium],
        c[ompact], l[arge], h[uge] );

        video.doc - текст "Справочного руководства".

        При использовании библиотеки рекоменуется файлы с раширением .h по-
        местить в директорий INCLUDE, в котором находятся включаемые фйлы
        библиотеки Вашего компилятора C. Файлы с расширением .lib можно по-
        местить в рабочем директории.
          Для того, чтобы функции библиотеки были связаны с Вашей программой,
        в которой они используются, необходимо создать соответствующий файл
        проекта *), например, при компиляции в модели памяти small:

                myprog.c
                videos.lib

        *) Примечание:
           Файл проекта создается при компиляции в системе Turbo C, при
           работе с другими компиляторами возможны иные подходы.

                                     * * *

Глава 2.

        Включаемые файлы содержат объявления прототипов библиотечных функций.
        Кроме того, в них определяются типы данных и символические константы,
        используемые в этих функциях.
          Ниже приведены имена включаемых файлов и их краткое описание:

        video.h         содержит описания некоторых симвоических констант,
                        используемых функциями библиотеки, глобальной пере-
                        менной screen и макроопределений, использующих ее
                        для прямого доступа к видеопамяти, структур, исполь-
                        зуемых функциями библиотеки, а также прототипы функ-
                        ций, входящих в состав библиотеки.

        color.h         содержит описания символических констант, определяю-
                        щих атрибуты изображения в текстовом режиме.

        key.h           содержит описания символических констант, определяю-
                        щих обычные и расширенные коды клавиатуры.

        Для упрощения процедуры прямого доступа к видеопамяти используются
        слелующие макроопределения, описанные в файле video.h:

simbol( line , column )

        макроопределение simbol служит для доступа к символу, расположенному
        в позиции экрана с координатами, задаваемыми параметрами line и
        column.

attribute( line , column )

        макроопределение attribute служит для доступа к атрибутам символа,
        расположенного в позиции экрана с координатами, задаваемыми парамет-
        рами line и column.
          Экран рассматривается как двумерный массив, строки которого имеют
        нумерацию от 0 до 24, а столбцы - от 0 до 79, а каждый его элемент
        содержит символ в коде ASCII и его атрибут.
          Символические константы, описанные в файле color.h определяют зна-
        чения цветов символа, фона, а также атрибут мерцания. Задать нужное
        сочетание цветов можно путем поразрядного логического сложения соот-
        ветствующих констант:

                [ мерцание | ] цвет_фона | цвет_символа

          Большинство функций библиотеки используют прямой доступ к видеопа-
        мяти. Он осуществляется через глобальную переменную screen, кото-
        рая содержит начальный адрес видеобуфера. В библиотеке эта перемен-
        ная инициализирована значением b800:0000, что соответствует цветно-
        му адаптеру ( CGA/EGA/VGA ), однако, если необходимо предусмотреть
        возможность использования монохромного адаптера ( MDA ), ее можно
        реинициализировать с помощью функции init_video() ( см. описание
        функции init_video() ).

                                     * * *

Глава 3.

        В этой главе приводится детальное описание каждой функции библио-
        теки ExtraVideo.

───────────────────────────────────────────────────────────────────────────────
 cursor_size
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Устанавливает размер курсора.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    cursor_size( unsignsd start , unsigned stop );

        Описание:

        Функция cursor_size() устанавливает размер аппаратного мерцающего
        курсора. Параметр start задает начальную строку развертки курсора,
        а параметр stop задает конечную строку развертки курсора. Допусти-
        мые значения обоих параметров лежат в пределах от 0 до 7.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_cursor, set_cursor.

───────────────────────────────────────────────────────────────────────────────
 crestore
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Восстанавливает атрибуты изображения в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    crestore( unsigned top , unsigned bottom , unsigned left ,
                          unsignet right , unsigned char * from );

        Описание:

        Функция crestore() восстанавливает атрибуты изображения в окне из
        буфера. Параметры top и bottom задают соответственно верхнюю и
        нижнюю координаты окна, параметры left и right задают правую и
        левую координаты. Параметр from является указателем на буфер, ко-
        торый был создан функцией cstore(). Если from == NULL, то вызов
        игнорируется.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        cstore, restore, reclose, store.

───────────────────────────────────────────────────────────────────────────────
 cstore
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Сохраняет в буфер атрибуты изображения в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        unsigned char * cstore( unsigned top , unsigned bottom ,
                                unsigned left , unsigned right );

        Описание:

        Функция cstore() сохраняет атрибуты изображения в окне в буфер. Па-
        раметры top и bottom задают верхнюю и нижнюю координаты окна, пара-
        метры left и right задают правую и левую координаты окна.

        Возвращаемое значение:

        При успешном завершении функция возвращает указатель на буфер в ко-
        тором сохранены атрибуты изображения в окне, в противном случае
        функция возвращает NULL.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        crestore, reclose, restore, store.

───────────────────────────────────────────────────────────────────────────────
 draw_box
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Рисует рамку.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    draw_box( unsigned top , unsigned bottom , unsigned left ,
                          unsignet right , unsigned type );

        Описание:

        Функция draw_box() рисует рамку, координаты которой задются пара-
        метрами top, bottom, left и right. Параметры top и bottom задают
        верхнюю и нижнюю координаты рамки, параметры left и right задают
        левую и правую координаты.
          Параметр type определяет тип выводимой рамки и может принимать
        одно из значений, определенных в файле video.h:

        SINGLE - одинарная рамка;
        DOUBLE - двойная рамка;
        SINGLE_DOUBLE - горизонтальная линия одиночная, вертикальная - двой-
                        ная;
        DOUBLE_SINGLE - горизонтальная линия двойная, вертикальная - одиноч-
                        ная.

        При значениях параметра type отличных от указанных вызов функции
        игнорируется.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

───────────────────────────────────────────────────────────────────────────────
 draw_win
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Изменяет атрибуты изображения в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    draw_win( unsigned top , unsigned bottom , unsigned left ,
                          unsignet right , unsigned char attribute );

        Описание:

        Функция draw_win() закркшивает окно с координатами, опрееляемыми
        параметрами top, bottom, left и right, в цвет, опрееляемый пара-
        метром attribute, не изменяя при этом содержимого окна. Параметры
        top и left задают верхнюю левую координату окна, параметры bottom
        и right задают нижнюю правую координату. Параметр attribute опре-
        деляется как поразрядная дизъюнкция атрибутов фона, символа и
        мерцания:

               [ мерцание | ] атрибут_фона | атрибут_символа

        Возможные значения параметра attribute определены в файле color.h:

        - атрибут "мерцание":        BLINKING

        - атрибут "атрибут_фона" :   B_BLACK.......черный
                                     B_BLUE........синий
                                     B_GREEN.......зеленый
                                     B_CYAN........циан
                                     B_RED.........красный
                                     B_PURPLE......лиловый
                                     B_YELLOW......желтый
                                     B_WHITE.......белый

        - атрибут "атрибут_символа": C_BLACK.......черный
                                     C_BLUE........синий
                                     C_GREEN.......зеленый
                                     C_CYAN........циан
                                     C_RED.........красный
                                     C_PURPLE......лиловый
                                     C_YELLOW......желтый
                                     C_WHITE.......белый
                                     LIGHTBULE.....светло синий
                                     LIGHTGREEN....светло зеленый
                                     LIGHTCYAN.....голубой
                                     LIGHTRED......светло красный
                                     LIGHTPURPLE...розовый
                                     LIGHTYELLOW...светло желтый
                                     LIGHTWHITE....ярко белый

        Цвета указанные выше могут не совсем соответствовать цветам, ко-
        торые получатся на вашем мониторе.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

───────────────────────────────────────────────────────────────────────────────
 get_char
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Вводит символ с клавиатуры.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <key.h>

        unsigned char   get_char( struct keybar * k );

        Описание:

        Функция get_char() ожидает ввода символа с клавиатуры и выводит со-
        общение о том какя из shift-клавиш ( SHIFT, CTRL, ALT ) нажата в
        данный момент. Параметр k является указателем на структуру keybar,
        которая определяет формат вывода информации о нажатии shift-клавиши.
          Структура keybar определена следующим образом:

          struct keybar {
                         unsigned         line;
                         unsigned         column;
                         unsigned char  * unshifted;
                         unsigned char  * shift;
                         unsigned char  * control;
                         unsigned char  * alternate;
                        };

        line и column задают координату в которую выводится сообщение о на-
        жатой shift-клавише, unshifted является указателем на строку, кото-
        рая выводится если не нажата ни одна shift-клавиша, shift - на стро-
        ку, которая выводится если нажата клавиша SHIFT, control - клавиша
        CTRL, alternate - клавиша ALT.
          Функция get_char( NULL ) работоает аналогично функции getch().
          Значения кодов клавиш определены в файле key.h.

        Возвращаемое значение:

        Функция возвращает код ASCII введенного символа. Если функция воз-
        вращает '\0', то для получения расширенного кода клавиши функцию
        необходимо вызвать еще раз.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ними компьютеров.

───────────────────────────────────────────────────────────────────────────────
 get_cursor
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Определяет положение или размер курсора.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    get_cursor( unsigned mode , unsigned * fparam ,
                            unsigned * sparam );

        Описание:

        Функция get_cursor() в зависимости от значения параметра mode опре-
        деляет положение или размер аппаратного мерцающего курсора. Параметр
        mode может принимать значение одной из символических констант
        POSITION или SIZE, определенных в файле video.h. Если параметр mode
        принимает значение POSITION, то по аресу, заанному параметром fparam
        помещается номер строки, в которой находится курсор, а по аресу,
        заданному параметром sparam - номер позиции, в которой находится
        курсор. Если праметр mode принимает значение SIZE, то по адресу, за-
        даваемому параметром fparam помещается номер начальной строки раз-
        вертки курсора, а по адресу, зааваемому параметром sparam - номер
        конечной строки развертки курсора.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ними компьютеров.

        См. также:

        cursor_size, set_cursor.

───────────────────────────────────────────────────────────────────────────────
 get_str
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Редактирует и вводит строку.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        int     get_str( int line , int column , char * string ,
                         int maxlen , struct keybar * kb ,
                         int fnum , struct keys * ks );

        Описание:

        Функция get_str() позволяет осуществлять ввод строки с редактированием.
        Параметры line и column задают координату экрана с которой начинает-
        ся вводимая строка, параметр string является указателем на строку
        куда будет осуществляться ввод, параметр maxlen задает длину вводи-
        мой строки ( с учетом символа '\0', которым заканчивается строка ),
        праметр kb является указателем на структуру keybar ( см. описание
        функции get_char() ), праметр fnum задает количество структур keys
        в массиве, на который указывает параметр ks ( см. описание функции
        small_menu() ).
          После вызова функция get_str() выводит строку string начиная с ука-
        занной позиции и помещает курсор в конец строки. Затем, если первой
        будет нажата любая клавиша с информационного поля клавиатуры, то
        строка будет удалена, курсор переместится в начало строки и будет
        выведен символ, который был введен. Нажатие какой-либо управляющей
        клавиши первой не приводит к удалению строки и вызывает соответству-
        ющее действие. Нажатие клавиши ENTER приводит к тому, что введенная
        строка помещается в string и происходит выход из функции. При нажа-
        тии клавиши ESCAPE происходит выход из функции без сохранения вве-
        денной строки в string.
          Ниже приведены упроавляющие клавиши и их функции:

        LEFT      - предвинуть курсор на одну позицию влево;
        RIGHT     - предвинуть курсор на одну позицию вправо;
        HOME      - переместить курсор в начало строки;
        END       - переместить курсор в конец строки;
        DELETE    - удалить символ под курсором;
        BACKSPASE - удалить символ слева от курсора.

        Возвращаемое значение:

        При выходе по ENTER функция возвращает количество введенных симво-
        лов ( не считая символа '\0' ). При выходе по ESCAPE функция возвра-
        щает значение -1.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        win_get.

───────────────────────────────────────────────────────────────────────────────
h_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Управляет работой с опциями горизонтального меню.

        Файл, сщдержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        unsigned   char   h_menu( struct  m_menu  *s );

        Описание:

        Функция h_menu() управляет работой с опциями горизонтального ме-
        ню. Структура типа m_menu, указатель на которую передается в ка-
        честве параметра, определяет все параметры горизонтального меню.
        Структура m_menu определяется следующим образом:

struct     m_menu    {

unsigned               m_nl;    /*  Номер последнего выбранного элемента  */
unsigned               m_n_al;  /*  Количество всех элементов             */
struct    menu_color   *m_cl;   /*  Цвета в горизонтальном меню           */
struct    h_menu       *m_h_m;  /*  Элементы горизонтального меню         */
unsigned               m_n_l;   /*  Номер строки гор. меню                */
unsigned               m_lc;    /*  Левая позиция в строке гор. меню      */
unsigned               m_rc;    /*  Правая позиция в строке гор. меню     */
unsigned  char         m_inp_k; /*  Клавиша входа в меню                  */
unsigned               m_nst;   /*  Необходим  буфер  для  сохранения     */
unsigned  char         *m_st;   /*  Буфер для сохранения                  */
unsigned               m_run;   /*  Необходим вход с выполнением          */
unsigned  char         m_out_k; /*  Клавиша выхода из меню                */
struct    keys         *m_h;    /*  Вызов help                            */
unsigned               m_hl;    /*  Необходимость строки подсказки        */
unsigned               m_l_h;   /*  Номер строки подсказки                */
unsigned               m_lc_h;  /*  Левая позиция в строке подсказки      */
unsigned               m_rc_h;  /*  Правая позиция в строке подсказки     */
unsigned               m_q_u;   /*  Количество  клавиш поддержки          */
struct   keys          *m_u;    /*  Функции  клавиш  поддержки            */
struct   keybar        *m_bar;  /*  Подсказка для функциональных клавиш   */

                   };

        Горизонтальное меню располагается на экране в строке m_n_l, начи-
        ная с позиции m_lc и заканчивая позицией m_rc. Если m_hl установ-
        лен равным 1, то для каждой опции горизонтального меню в строке
        m_l_h, начиная с позиции m_lc_h и заканчивая позицией m_rc_h, бу-
        дет выводиться строка подсказки, которая задается элементом h_s
        в структуре h_menu. Вход в меню задается по клавише m_inp_k, а
        выход- по клавише m_out_k. Эти клавиши используются только функ-
        цией m_menu(), h_menu() используется, когда вход в меню уже прои-
        зошел. Если m_nst устанавливается равным 1, то перед установкой
        горизонтального меню в строку m_n_l эта строка сохраняется функ-
        цией store(), начиная с позиции m_lc и заканчивая позицией m_rc.
        При этом буфер, возвращаемый функцией store(), записывается в m_st.
        Количество всех опций горизонтального меню задается элементом
        m_n_al. Номер опции, которая была выбрана последней при работе с
        меню, сохраняется в элементе m_nl. Все цвета в горизонтальном ме-
        ню определяются в структуре типа menu_color, указатель на которую
        задает элемент m_cl; при этом цвет тени не используется.
        Если m_run установлен равным 1, то при входе в меню будет осущест-
        влен вызов функции, связанной с опцией меню, в которую был вход.
        Вызов help осуществляется заданием указателя m_h на структуру типа
        keys, элемент key которой задает клавишу, по которой вызывается
        функция help, а элемент f - саму функцию help.
        При работе с горизонтальным меню есть возможность связывать с лю-
        быми клавишами, возвращающими расширенный код, функции, определяе-
        мые самим пользователем. Количество таких клавиш задает элемент
        v_q_u, m_u - указатель на первый элемент массива структур типа
        keys, в котором key - код клавиши ( символические имена определе-
        ны в файле key.h ), а f - указатель на функцию, связываемую с
        клавишей key.
        Элемент m_bar задает строки подсказки для функциональных клавиш,
        а также строку на экране, куда эти строки подсказки будут выво-
        диться ( подробнее см. функцию get_char() ). Если указатель m_bar
        равен нулю, то строки подсказки для функциональных клавиш не
        используются.
        Элемент m_h_m определяет опции горизонтального меню. Это указа-
        тель на первый элемент массива структур следующего типа :

struct   h_menu    {

char            *h_name;         /*  Название элемента гор. меню           */
char            h_lat;           /*  Выбранная буква в имени               */
unsigned        h_u_f;           /*  h_f не является функцией v_menu       */
int            (*h_f)();         /*  Функция  элемента гор. меню           */
unsigned        h_lth;           /*  Длина имени элемента гор. меню        */
unsigned        h_pls;           /*  Нач. позиция на экране                */
unsigned        h_n_l;           /*  Позиция выбр. буквы в имени           */
unsigned  char  h_key;           /*  Вход по функциональной клавише        */
char            *h_s;            /*  Строка подсказки                      */
struct  v_menu  *h_v_m;          /*  Элементы вертикального подменю        */

                      };

        Название опции определяет элемент h_name, h_lat - "горячая" бук-
        ва в названии опции. Функция, выполняемая при входе в опцию, зада-
        ется пользователем следующим образом: если необходимо связать с
        данной опцией горизонтального меню вертикальное подменю, то h_u_f
        устанавливается равным 1, указатель h_f инициализируется указате-
        лем на фукцию v_menu(), а указатель h_v_m должен быть инициализи-
        рован указателем на структуру типа v_menu, определяющей элементы
        вертикального подменю; если с данной опцией пользователь связывает
        свою функцию, то h_f инициализируется указателем на эту функцию,
        h_u_f и h_v_m устанавливаются равными нулю. При этом если эта
        функция возвращает 0, то после ее выполнения происходит выход из
        меню, если это значение больше 0, то выхода из меню не будет.
        Длину имени опции горизонтального меню определяет элемент h_lth,
        позицию "горячей" буквы в имени - элемент h_n_l, начальная пози-
        ция опции в строке горизонтального меню задает элемент h_pls.
        Элемент h_key задает клавишу, по которой можно войти в меню сразу
        с выполнением функции, связанной с данной опцией горизонтального
        меню. Элемент h_s определяет строку подсказки, связанную с данной
        опцией. Все элементы структур должны быть инициализированы до вы-
        зова функции h_menu().
        Функция h_menu() реагирует на следующие нажатия клавиш:
        LEFT,RIGHT - переход с одной опции на другую;
        HOME - переход на крайнюю левую опцию в строке;
        END - переход на крайнюю правую опцию в строке;
        ESC - выход из меню;
        ENTER - вызов функции, связанной с данной опцией;
        h_key ( элемент структуры типа h_menu ) - вызов функции, связан-
        ной с данной опцией.

        возвращаемое значение:

        Определяет причину выхода из меню:
        0, если был выход из меню по клавише m_out_k ( элемент структуры
           типа m_menu );
        ESC, если был выход по клавише ESC;
        ENTER, если необходим выход после вызова функции, связанной с не-
               которой опцией горизонтального или вертикального меню.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_char, m_menu, v_menu, set_h_menu, reset_h_menu.

───────────────────────────────────────────────────────────────────────────────
 init_video
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Инициализирует видеоситему для работы функций библиотеки.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    init_video( void );

        Описание:

        Функция init_video() проверяет тип адаптера ( цветной или монохромный )
        и в зависимости от результата проверки устанавливает соответствующий
        видеорежим и инициализирует глобальную переменную screen. При исполь-
        зосании функции init_video() необходимо учитывать, что она вызывает
        очистку экрана.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

───────────────────────────────────────────────────────────────────────────────
m_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Управляет работой с меню.

        Файл, сщдержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        int   m_menu( struct  m_menu  *s );

        Описание:

        Функция m_menu() ожидает ввода с клавиатуры; если была нажата лю-
        бая клавиша, связанная с работой меню ( например, вход в меню,
        вход с выполнением, выход из меню и т.п. ), т.е. клавиша, заданная
        в структурах m_menu, h_menu, v_menu, one и на которую необходима
        реакция со стороны меню, то такая реакция осуществляется ( вызы-
        вается соответствующая функция ); в противном случае возвращается
        расширенный код нажатой клавиши. ( Подробное описание элементов
        структуры типа m_menu см. в описании функции h_menu() ).

        Возвращаемое значение:

        0, если был выход по клавише m_out_k;
        Расширенный код нажатой клавиши в остальных случаях.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_char, m_menu, v_menu, set_h_menu, reset_h_menu.

───────────────────────────────────────────────────────────────────────────────
 open_window
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Распахивает окно.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    open_window( int top , int bottom , int left ,
                             int right , unsigned char attribute );

        Описание:

        Функция open_window() распахивает окно с координатами, определяемы-
        ми параметрами top, bottom, left и right. Параметр top определяет
        верхнюю строку окна, параметр bottom - нижнюю. Параметр left опре-
        деляет левую колонку окна, параметр right - правую. Параметр
        attribute определяет атрибуты изображения в окне ( см. функцию
        draw_win() ).

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        set_window.

───────────────────────────────────────────────────────────────────────────────
 pop_up
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Создает POP-UP меню и управляет его работой.

        Файл соержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        int     pop_up( struct pu_menu * p , struct menu_color * c );

        Описание:

        Функция pop_up() рисует окно, помещает в него опции POP-UP меню и
        управляет ими ( см. функцию small_menu ). При выходе из функции со-
        держимое экрана на месте окна POP-UP меню восстанавливается.
          Параметр p указывает на стуктуру pu_menu ( см. описание функции
        small_menu ), а параметр c указывает на структуру menu_color ( см.
        описание функции small_menu ).

        Возвращаемое значение:

        При нажатии клавиши ENTER функция возвращает значение, возвращаемое
        функцией, вызываемой при выборе соответствующей опции. Если указа-
        тель на вызываемую функцию равен NULL, то pop_up() возвращает значе-
        ние -1. При выходе по ESC функция возвращает 0. При вызове функции,
        по запрограммированной клавише, pop_up() продолжает работу, если
        функция возвращает 0. В противном случае pop_up() возвращает значе-
        ние, возвращенное вызванной функцией.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        h_menu, m_menu, reset_h_menu, set_h_menu, small_menu, v_menu.

───────────────────────────────────────────────────────────────────────────────
 put_str
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Выводит строку.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    put_str( unsigned line , unsigned column ,
                         unsigned char * string );

        Описание:

        Функция put_str() выводит строку string начиная с позиции экрана,
        задаваемой параметрами line ( строка ) и column ( позиция ). Сим-
        вол '\n' вызывает продолжение вывода в следующей строке, начиная
        с позиции column.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

───────────────────────────────────────────────────────────────────────────────
 reclose
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Востанавливает изображение в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    reclose( int top , int bottom , int left , int right ,
                         unsigned char * from );

        Описание:

        Функция reclose() восстанавливает изображение в окне, с эффектом
        "схлопывания". Параметры top и bottom задают верхнюю и нижнюю гра-
        ницы окна, параметры left и right задают левую и правую границы
        окна. Параметр from является указателем на буфер, который был со-
        здан функцией store(). Если from=NULL, то вызов reclose() игнори-
        руется.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        crestore, cstore, restore, store.

───────────────────────────────────────────────────────────────────────────────
reset_h_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Удаляет с экрана строку с опциями горизонтального меню.

        Файл, сщдержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void   reset_h_menu( struct  m_menu  *s );

        Описание:

        Функция reset_h_menu() восстанавливает на экране строку, в кото-
        осуществлен вывод опций горизонтального меню, из буфера m_st,
        если элемент m_nst равен 1. Если m_nst равен нулю никаких дейст-
        вий не происходит. ( Подробное описание элементов структуры типа
        m_menu см. в описании функции h_menu() ).

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_char, m_menu, v_menu, set_h_menu, reset_h_menu.

───────────────────────────────────────────────────────────────────────────────
 restore
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Восстанавливает изображение в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    restore( unsigned top , unsigned bottom ,
                         unsigned left , unsigned right ,
                         unsigned char * from );

        Описание:

        Функция restore() восстанавливает изображение в окне. Параметры top
        и bottom задают врехнюю и нижнюю координаты окна, параметры left и
        right задают правую и левую координаты окна. Параметр from указыва-
        ет на буфер созанный функцией store. Если from=NULL, то вызов функ-
        ции игнорируется. Функция restore() во всем аналогична функции
        reclose() за исключением того, что она не вызывает эффекта "схло-
        пывания" и вследствие этого работает быстрее.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        crestore, cstore, reclose, store.

───────────────────────────────────────────────────────────────────────────────
 scroll
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Прокручивает окно по вертикали.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    scroll( unsigned direction , unsigned top , unsigned bottom ,
                        unsigned right , unsigned left , unsigned lines ,
                        unsigned char attribute );

        Описание:

        Функция scroll() прокручивает окно по вертикали в направлении, за-
        даваемом параметром direction. Параметр direction может принимать
        одно из двух значений, определенных в файле video.h:

        WN_UP   прокрутка вверх;
        WN_DOWN прокрутка вниз.

        Параметры top и bottom задают верхнюю и нижнюю координаты окна, па-
        раметры left и right задают левую и правую координаты окна. Параметр
        lines определяет количество вдвигаемых строк. Вдвигаемые строки за-
        полняются пробелами, их атрибуты задает параметр attribute, возмож-
        ные значения которого определены в файле color.h ( см. описание функ-
        ции draw_win() ). При заданиии lines=0 происходит очистка окна.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        wnroll.

───────────────────────────────────────────────────────────────────────────────
 set_bar
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Устанавливает полосу прокрутки ( space bar ).

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    set_bar( struct s_bar * s , struct sbar_color * c );

        Описание:

        Функция set_bar() устанавливает полосу прокрутки, вид которой зада-
        ется параметрами s и c. Параметр s указывает на структуру s_bar,
        которая определена в файле video.h:

        struct s_bar {
                      unsigned  mode;
                      unsigned  fpos;
                      unsigned  lpos;
                      unsigned  bar;
                      unsigned  numb;
                     };

        Элемент структуры s_bar.mode может принимать одно из значений, кото-
        рые определены в файле video.h:

        HOR  горизонтальная полоса;
        VERT вертикальная полоса.

        Элемент s_bar.fpos определяет номер строки ( или колонки для гори-
        зонтальной полосы ) с которой начинается полоса, а s_bar.lpos - ко-
        торой заканчивается полоса. Элемент s_bar.bar определяет номер ко-
        лонки ( или строки для горизонтальной полосы ) в которой помещается
        полоса. Элемент s_bar.numb определяет позицию в полосе на которой
        установлен символ указателя ( нумерация с нуля ).
          Параметр с указывает на структуру sbar_color, которая определена
        в файле video.h:

        struct sbar_color {
                           unsigned char top_simbol;
                           unsigned char bottom_simbol;
                           unsigned char ptr_simbol;
                           unsigned char gnd_simbol;
                           unsigned char ptr_color;
                           unsigned char gnd_color;
                          };

        Элемент sbar_color.top_simbol определяет код начального символа по-
        лосы прокрутки, элемент sbar_color.bottom_simbol - код конечного
        символа, элемент sbar_color.ptr_simbol - код символа указателя, эле-
        мент sbar_color.gnd_simbol - код символа поля, элемент
        sbar_color.ptr_color - цвет начального, конечного и символа указа-
        ля, элемент sbar_color.gnd_color - цвет поля. Коды цветов определе-
        ны в файле color.h ( см. функцию draw_win() ).

        Возвращаемое значекние:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        spase_bar.

───────────────────────────────────────────────────────────────────────────────
 set_cursor
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Устанавливает положение курсора.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void    set_cursor( unsigned line , unsigned column );

        Описание:

        Функция set_cursor() устанавливает аппаратный мерцающий курсор в
        позицию экрана, определяемую параметрами line ( строка ) и column
        ( позиция ).

        Возвращаемое значение:

        Нет.

        Перносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        cursor_size, get_cursor.

───────────────────────────────────────────────────────────────────────────────
set_h_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Устанавливает на экране строку с опциями горизонтального меню.

        Файл, сщдержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        void   set_h_menu( struct  m_menu  *s );

        Описание:

        Функция set_h_menu() устанавливает на экране строку с опциями го-
        ризонтального меню. Строка, куда будет осуществлен вывод, сохра-
        няется в буфере m_st, если элемент m_nst равен 1. При этом курсор
        убирается с экрана, т.е. устанавливается в строку 25. ( Подробное
        описание элементов структуры типа m_menu см. в описании функции
        h_menu() ).

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_char, m_menu, v_menu, set_h_menu, reset_h_menu.

───────────────────────────────────────────────────────────────────────────────
 set_window
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Рисует окно.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    set_window( unsigned top , unsigned bottom ,
                            unsigned left , unsigned right ,
                            unsigned char wattr , unsigned char sattr ,
                            unsigned box );

        Описание:

        Функция set_window() рисует окно с рамкой и тенью. Параметры top и
        bottom задают вернюю и нижнюю координаты окна, параметры left и
        right задают правую и левую координаты окна. Параметр wattr задает
        цвет окна, параметр sattr задает цвет тени, допустимые значения
        этих параметров определены в файле color.h ( см. описание функции
        draw_win() ). Параметр box задает тип рамки ( см. описание функции
        draw_box() ). При использовании функции set_window() необходимо
        учитывать, что координаты тени смещены относительно координат окна
        на две позиции вправо и одну строку вниз. Таким образом окно макси-
        мального размера имеет координаты: 0, 23, 0, 77.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        draw_box, open_window.

───────────────────────────────────────────────────────────────────────────────
 small_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Управляет работой POP-UP меню.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        int     small_menu( struct pu_menu * p , struct menu_color * c );

        Описание:

        Функция small_menu() размещает на экране опции POP-UP меню и управ-
        ляет ими. Вид меню определяется параметром p, который указывает на
        структуру pu_menu, определенную в файле video.h:

        struct pu_menu {
                        unsigned        pu_whole;
                        unsigned        pu_last;
                        unsigned        pu_upline;
                        unsigned        pu_dnline;
                        unsigned        pu_lfcol;
                        unsigned        pu_rtcol;
                        struct item   * pu_item;
                        unsigned        pu_nkeys;
                        struct keys   * pu_keys;
                        struct keybar * pu_keybar;
                       };

        Элемент структуры pu_menu.pu_whole определяет количество опций ме-
        ню, элемент pu_menu.pu_last - номер опции выбранной последней ( ну-
        мерация опций начинается с 0 ), на эту опцию при следующем вызове
        функции будет помещен курсор, элементы pu_menu.pu_upline и
        pu_menu.pu__dnline определяют верхнюю и нижнюю координаты окна ме-
        ню ( используется функцией pop_up() ), элементы pu_menu.pu_lfcol и
        pu_menu.pu_rtcol - правую и левую координаты окна меню ( использу-
        ется функцией pop_up() ), элемент pu_menu.pu_item указывает на массив
        структур item, элемент pu_menu.pu_nkeys задает количество элементов
        массива структур keys, на который указывает элемент pu_menu.pu_keys,
        элемент pu_menu.pu_keybar указывает на структуру keybar ( см. опи-
        сание функции get_char() ).
          Структура item определена в файле video.h:

        struct item {
                     unsigned           pu_line;
                     unsigned           pu_column;
                     unsigned           pu_length;
                     unsigned           pu_position;
                     unsigned char    * pu_option;
                     int            ( * pu_function )( void );
                     int                pu_keyup;
                     int                pu_keydown;
                     int                pu_keyleft;
                     int                pu_keyright;
                    };

        Элементы item.pu_line и item.pu_column определяют позицию экрана на-
        чиная с которой размещается опция, элемент item.pu_length определяет
        длину строки опции, элемент item.pu_position - номер символа в стро-
        ке опции, который определяет горячую клавишу, соответствующую данной
        опции, элемент item.pu_option указывает на строку опции, элемент
        ( * item.pu_function )() указывает на функцию, вызываемую при выбо-
        ре данной опции, элемент item.pu_keyup определяет номер опции, на ко-
        торую перемещается курсор по нажатию клавиши UP, элемент item.pu_keydown
        - по нажатию клавиши DOWN, item.pu_keyleft - LEFT,  item.pu_keyfight
        - RIGHT. Если элемент, задающий преход по клавише инициализировать -1,
        то курсор не будет реагировать на нажатие соответствующей клавиши. По
        клавише HOME курсор переходит на первую опцию, а по клавише END - на
        последнюю.
          Структура keys определена в файле video.h:

        struct keys {
                     unsigned char  key;
                     int        ( * f )( void );
                    };

        Элемент keys.key определяет расширенный код функциональной клавиши
        ( или любой другой клавиши или комбинации  клавиш дающих расширен-
        ный код ), по которой вызывается функция, на которую указывает эле-
        мент ( * keys.f )().
          Параметр c указывает на структуру menu_color, которая определяет
        цвета меню:

        struct menu_color {
                           unsigned char  normal_color;
                           unsigned char  sheddow_color;
                           unsigned char  highlighted_color;
                           unsigned char  normal_hotkey;
                           unsigned char  highlighted_hotkey;
                           unsigned char  helpstr_color;
                          };

        Элемент menu_color.normal_color задает цвет окна меню, элемент
        menu_color.sheddow_color задает цвет тени, элемент
        menu_color.highlighted_color задает цвет подсвеченной опции меню,
        элемент menu_color.normal_hotkey задает цвет выделенного символа
        в неподсвеченной опции, а menu_color.highlighted_hotkey - в под-
        свеченном. Элемент menu_color.helpstr_color определяет цвет стро-
        ки подсказки в PULL-DOWN меню.

        Возвращаемое значение:

        При нажатии клавиши ENTER функция возвращает значение, возвращаемое
        функцией, вызываемой при выборе соответствующей опции. Если указа-
        тель на вызываемую функцию равен NULL, то small_menu() возвращает зна-
        чение -1. При выходе по ESC функция возвращает 0. При вызове функции,
        по запрограммированной клавише, small_menu() продолжает работу, если
        функция возвращает 0. В противном случае small_menu() возвращает зна-
        чение, возвращенное вызванной функцией.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        h_menu, m_menu, pop_up, reset_h_menu, set_h_menu, v_menu.

───────────────────────────────────────────────────────────────────────────────
 spase_bar
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Управляет перемещением курсора в полосе прокрутки.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    spase_bar( struct s_bar * s , struct sbar_color * c ,
                           unsigned number );

        Описание:

        Функция spase_bar() в полосе прокрутки определяемой параметрами s и
        c ( см. описание функции set_bar ) перемещает символ указателя в по-
        зицию, номер которой задает параметр number.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        set_bar.

───────────────────────────────────────────────────────────────────────────────
 store
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Сохраняет в буфер изображение в окне.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        unsigned char * store( unsigned top , unsigned bottom ,
                               unsigned left , unsigned right );

        Описание:

        Функция store() сохраняет в буфере содержимое окна, координаты ко-
        торого определяют параметры top, bottom, left и right. Параметры
        top и bottom задают верхнюю и нижнюю координаты окна, параметры
        left и right задают правую и левую координаты окна.

        Возвращаемое значение:

        При успешном завершении функция возвращает указатель на буфер, в ко-
        тором сохранено изображение в окне, в противном случае функция воз-
        вращает NULL.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        crestore, cstore, reclose, restore.

───────────────────────────────────────────────────────────────────────────────
v_menu
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Управляет работой с опциями вертикального меню.

        Файл, сщдержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>

        int   v_menu( struct  v_menu  *s );

        Описание:

        Функция v_menu() управляет работой с опциями вертикального меню.
        Все параметры вертикального меню задают элементы структуры типа
        v_menu, указатель s на которую передается функции в качестве па-
        раметра. Структура v_menu имеет следующий вид:

struct    v_menu   {

struct  one         *v_one;     /*  Опции вертикального меню              */
unsigned            v_q_s;      /*  Количество всех элементов             */
unsigned            v_last;     /*  Номер последнего выбранного элемента  */
unsigned            v_run;      /*  Необходим вход с выполнением          */
unsigned            v_up;       /*  Номер верхней строки                  */
unsigned            v_down;     /*  Номер ниженей строки                  */
unsigned            v_left;     /*  Номер левого  столбца                 */
unsigned            v_right;    /*  Номер правого столбца                 */
unsigned            v_t_bdr;    /*  Тип рамки                             */
struct  menu_color  *v_cl;      /*  Цвета в меню                          */
unsigned            v_h;        /*  Необходимость подсказки               */
unsigned            v_l_h;      /*  Строка для пoдсказки                  */
unsigned            v_lc_h;     /*  Левая позиция в строке подсказки      */
unsigned            v_rc_h;     /*  Правая позиция в строке подсказки     */
struct  keys        *v_hlp;     /*  Для help                              */
unsigned            v_q_u;      /*  Количество  клавиш поддержки          */
struct  keys        *v_u;       /*  Функции клавиш поддержки              */
struct  keybar      *v_bar;     /*  Подсказка для функциональных  клавиш  */

                   };

        Окно для вертикального меню задается параметрами v_up, v_down,
        v_left, v_right, элемент v_t_bdr задает тип рамки ( типы рамок
        описаны в файле video.h ). Номер последней выбранной опции верти-
        кального меню определяет элемент v_last, а количество всех опций-
        элемент v_q_s. Если необходим вход в вертикальное меню с одновре-
        менным выполнением функции, связанной с опцией под номером v_last,
        то элемент v_run устанавливается равным 1, иначе - 0.
        Элементы v_cl, v_h, v_l_h, v_lc_h, v_rc_h, v_hlp, v_q_u, v_u,
        v_bar определяются так же, как аналогичные им элементы в структу-
        ре типа m_menu ( см. описание функции h_menu() ).
        Указатель v_one определяет первый ( по индексу - нулевой ) элемент
        массива структур типа one. Такая структура определяет каждую опцию
        вертикального меню и имеет следующий вид:

struct     one      {

char       *name;          /*  Имя элемента                               */
char       lat;            /*  Выбранная  буква в имени                   */
unsigned   l_n;            /*  Номер выбранной буквы                      */
unsigned   len;            /*  Длина имени                                */
int        (*fnc)( void ); /*  Функция элемента подменю                   */
                           /*  Возвращает 1,если необходимо остаться в    */
                           /*  меню, и 0,если необходим выход из меню     */
char       *help;          /*  Строка подсказки                           */

                    };

        Элемент name задает имя опции вертикального меню, lat - это "горя-
        чая" буква в имени опции, а l_n - порядковый номер "горячей" бук-
        вы, т.е. фактически это индекс "горячей" буквы в массиве символов,
        на который указывает name. Длина имени опции поределяется элемен-
        том len.
        Элемент fnc - указатель на пользовательскую функцию, связвнную с
        данной опцией вертикального меню.

        Возвращаемое значение:

        Соответствует причине выхода из меню:
        ESC - был выход по клавише ESC;
        ENTER - был выход после выполнения функции, связанной с текущей
                опцией;
        LEFT,RIGHT - был выход при попытке перейти на соседнюю опцию го-
                     ризонтального ( а не вертикального ! ) меню.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_char, m_menu, v_menu, set_h_menu, reset_h_menu.

───────────────────────────────────────────────────────────────────────────────
 win_get
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Вводит с редактированием строку из окна.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>
        #include <keys.h>

        int     win_get( unsigned line , unsigned column , unsigned length ,
                         unsigned char * string , unsigned char * title ,
                         unsigned box , unsigned char wattr ,
                         unsigned char sattr , struct keybar * kb ,
                         unsigned keynum , struct keys * ks );

        Описание:

        Функия win_get() позволяет вводить в окне строку с редактированием.
        Вводимая строка начинается с позиции line, column+1. При этом коор-
        динаты окна определяются следующим образом: верхняя строка - line-1,
        нижняя строка - line+1, левая колонка column, правая колонка -
        column+legth+2, смещение тени относительно окна такое же, как и для
        функции set_window(). Параметр string является указателем на строку,
        в которую будет осуществляться ввод. Строка title выводится в разры-
        ве верхней линии рамки окна. Параметр box определяет тип рамки ( см.
        функцию draw_box ). Параметры wattr и sattr определяют цвета окна и
        тени ( см. функцию set_window() ). Параметр kb является указателем
        на структуру keybar, определяющую вид строки подсказки (см. функ-
        цию get_char() ). Параметр keynum определяет количество элементов в
        массиве структур keys, на который указывает параметр ks ( см. опи-
        сание функции small_menu() ).
          Алгоритм работы функции win_get() аналогичен алгоритму работы функ-
        ции get_str().

        Возвращаемое значение:

        При выходе по ENTER функция возвращает количество введенных симво-
        лов ( не считая символа '\0' ). При выходе по ESCAPE функция возвра-
        щает значение -1.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        get_str, set_window.

───────────────────────────────────────────────────────────────────────────────
 wnroll
───────────────────────────────────────────────────────────────────────────────

        Назначение:

        Прокручивает окно по горизонтали.

        Файл содержащий прототип:

        video.h

        Синтаксис:

        #include <video.h>
        #include <color.h>

        void    wnroll( int direction , int top , int bottom , int left ,
                        int right , int lines , char attribute );

        Описание:

        Функция wnroll прокручивает окно по вертикали. Параметры top и bottom
        определяют верхнюю и нижнюю границы окна, а параметры left и right -
        правую и левую. Параметр direction определяет направление прокрутки
        и может принимать одно из двух значений, определенных в файле video.h:

        WN_RIGHT - прокрутка вправо;
        WN_LEFT  - прокрутка влево.

        Параметр attribute задает атрибуты вдвигаемых строк, а параметр lines
        - их количество.

        Возвращаемое значение:

        Нет.

        Переносимость:

        Функция уникальна для IBM-PC и совместимых с ним компьютеров.

        См. также:

        scroll.

