
                                ( Специально для СОФТПАНОРАМЫ )

                                                  Шеховцов Александр



              Утилита RLock5 - усиление атрибута ReadOnly.


  Утилита RLock5 предназначена для MS-DOS 5.0. Данный  ее  вариант  не
работает  в  beta-версиях  MS-DOS  5.0  и  создан  исключительно   для
коммерческой версии операционной системы.

   RLock5 использует недокументированное свойство MS-DOS для  контроля
за снятием атрибута ReadOnly с файлов.

   Вызов RLock5:

                  RLOCK5 [параметр]

 где параметр:

                  on  - запретить снятие атрибута ReadOnly с файлов

                  off - разрешить снятие атрибута ReadOnly с файлов



    Вызов RLock5 без параметра покажет текущее состояние  контроля  за
атрибутом ReadOnly.

    После установки RLOCK5 ON и до его отмены  с  помощью  RLOCK5  OFF
или до перезагрузки системы попытка снять  атрибут  ReadOnly  с  файла
завершится неуспехом, причем как признак этой  попытки  рамка  дисплея
EGA/VGA окрасится в красный цвет. Этот цвет проще  всего  убрать,  дав
команду MODE 80.
    Программе, попытавшейся снять  атрибут  ReadOnly  с  файла,  будет
возвращен код ошибки "Access denied".

    Внимание! Не все программы  анализируют  возвращаемый  код  ошибки
при изменении атрибута файла.

    Поскольку на сегодняшний день 99% файловых вирусов заражают  файлы
с помощью DOS-функций, а не прямой записью на диск,  то  RLock5  будет
полезен при борьбе с ними. Необходимо пометить все системные и  прочие
исполняемые файлы атрибутом Read Only и вставить в  файл  AUTOEXEC.BAT
строку RLOCK5 ON.
    При запуске RLOCK5 ON на уже зараженной  машине  вирус  не  сможет
размножаться дальше.
    Утилита RLock5 не резидентна  -  следовательно,  не  занимает  под
себя ни одного дополнительного  байта  столь  драгоценной  оперативной
памяти.
