
                                     (Специально для Софтпанорамы)



                      VM - Вирусный Монитор.
       (Защитник файлов и жестких дисков от порчи и заражения).


  Утилита  VM   написана   автором   довольно   известного   (надеюсь)
антивируса Virus Locator после более чем двухлетнего периода борьбы  с
вирусами. В  результате  этой  борьбы  у  меня  накопилось  около  250
различных вирусов, что позволило исследовать заложенные  в  них  идеи.
Этих идей оказалось так удручающе мало, что с помощью простой  утилиты
RLock (входит в полную поставку Вирусного Локатора)  удается  защитить
файлы от заражения в 90% случаев.

  VM продолжает линию  RLock,  усиливая  ее.  Основная  концепция  VM:
только операционная система имеет право обращаться  непосредственно  к
жесткому диску. Все остальные программы могут работать лишь на  уровне
файловой системы: открыть файл, закрыть, записать в  него,  прочитать,
но ни в коем случае не писать прямо на диск - это прерогатива DOS.

  В результате вирусы-вандалы  лишаются  возможности  уничтожить  весь
винчестерский диск, форматируя  его  или  просто  меняя  пару  байт  в
таблице разбиения диска. Вообще порча диска становится проблематичной.
  При  чьей-либо  попытке  испортить  диск  или   произвести   опасное
действие, в левом верхнем углу экрана (в текстовом  режиме)  выводится
сообщение о том, что данное действие запрещено. Не  удивляйтесь,  если
после этого плохо написанная программа или  вирус,  пытавшийся  что-то
сделать с диском, зависнет. В некоторых простых случаях  сообщение  не
выводится,  но  действие  игнорируется  и  тому,  кто  его   запросил,
выдается сообщение о защищенности диска от  записи.  В  одном  случае,
когда  это  сделать   непросто,   опасное   действие   заменяется   на
безопасное, например форматирование диска на его верификацию.

  А для защиты  конкретного  файла  от  модификации  (читай-заражения)
на уровне файловой  системы,  достаточно  поставить  на  него  атрибут
ReadOnly и VM не  позволит  что-либо  записывать  в  такой  файл.  При
попытке снятия атрибута ReadOnly c файла рамка  дисплея  EGA  или  VGA
станет красной, атрибут снят не будет.

  VM реализован для MS-DOS 4.0 и 4.01 (не  PC-DOS  4.0!).  Версия  для
DOS 5.0 будет готова к 15 февраля и, в отличие от  бесплатной  текущей
версии, станет коммерческим продуктом.

  При  использовании  VM  некоторые   программы,   скажем   SpeedDisk,
отказываются работать, сообщая, что диск защищен  от  записи.  Есть  и
другие  ограничения,  например  VM  не  позволит  отформатировать  Вам
жесткий диск, даже если Вы захотите это сделать.
  Кроме  того,  при  использовании  VM  не  будут  работать  следующие
стандартные утилиты MS-DOS:

                   ASSIGN
                   APPEND
                   SYS
                   FORMAT    (для форматирования дискет используйте
                              XTGOLD, PC-TOOLS или SFORMAT)

а также  режим  защиты  файлов  Lock/Unlock,  обеспечиваемый  утилитой
SHARE. Вряд ли VM  позволит  работу  с  сетью  (не  проверялось)  и  с
Windows (тоже не проверялось).
  Из проверенных антивирусных программ будут некорректно работать или
выдавать неверные сообщения:

                   ADINF     ( об адресе Int 13H )
                   MVT
                   VL версий ниже 2.5 (о своих размерах)


  Отсюда вывод: VM следует использовать  для  автономного  компьютера,
на  котором  работают  непрофессиональные   пользователи:   секретарь,
бухгалтер, техник. Также он полезен  на  компьютерах  общего  доступа,
так как накладываемые им ограничения  с  лихвой  окупаются  гарантиями
взаимной безопасности работы.
  Подойдет VM и  тем  профессионалам,  которые  не  считают  для  себя
оскорблением запрет на использование утилиты SYS и не имеют сети.

______________________________________________________________________

▄  Установка VM:
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
  Для работы VM требуется: компьютер типа  IBM  PC  AT  с  процессором
80286 и выше, дисплей EGA или VGA,  операционная  система  MS-DOS  4.0
или 4.01, желательно нерусифицированная.

  Поместите вызов VM в  самое  начало  AUTOEXEC.BAT.  Перезагрузитесь.
Если после перезагрузки какая-либо  из  утилит  в  файле  AUTOEXEC.BAT
зависла (крайне редкий случай, у меня его не было),  то  Вам  придется
выбрать, что для Вас  важнее  -  эта  утилита  или  VM.  Если  утилита
важнее, дальше читать не нужно.
  Возможно, зависнет сам VM, если в CONFIG.SYS указан  некий  драйвер,
с ним несовместимый (пока я такого не обнаружил). В этом случае  опять
перед Вами выбор - оставить этот драйвер или VM.

  Наконец,   перезагрузка   завершилась   успешно.   Теперь    следует
установить атрибут ReadOnly на все системные файлы и утилиты, а  также
на COMMAND.COM, CONFIG.SYS и, желательно, AUTOEXEC.BAT.

  На этом установка VM завершена.

______________________________________________________________________


▄ Надежность защиты от вирусов.
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
 На сегодняшний день только один вирус "пробивает"  защиту  VM  -  это
вирус с именами Advanced Stealth, Dir, Driver-1024.  Я  знаю,  как  он
это делает, разработал алгоритм защиты от данного  способа  заражения,
но пока не реализовал, так как если  в  версии  MS-DOS  5.0  структуры
внутренних данных операционной  системы  отличаются  хоть  немного  от
тех, что были в версии 4.0, то вирус отомрет  сам  собой  -  он  очень
узко специализирован.  Разумеется,  данный  VM  тоже  не  годится  для
MS-DOS 5.0, но у меня есть больше возможности предоставить  Вам  новую
версию VM, чем у вирусописателей - новый вирус.
 Пока можете защищаться от  Advanced  Stealth,  используя  резидентный
сторож RVL (входит в полную поставку Вирусного Локатора).

______________________________________________________________________

▄ Между прочим.
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
 Размер файла VM.EXE - 8192 байта.

 Данная версия VM некоммерческая, поэтому  Вам  придется  смириться  с
тем, что она занимает 10 Кб  оперативной  памяти,  не  выгружаема,  не
позволяет восстановить стандартный режим работы с атрибутом  ReadOnly.
Если Вам нужно последнее, вызовите RLock OFF,  но  учтите,  что  тогда
степень защищенности Вашего компьютера резко  снизится  и  его  сможет
заразить (но не повредить диск) любой дурак.

 При запуске VM с ключем T он распространяет все свои  контроли  и  на
дискеты. Ключ T (Total-тотальный) полезен, если Вы  хотите  убедиться,
что VM действительно защищает Ваш компьютер, но не  хотите  для  этого
попытаться отформатировать свой винчестер.
 Однако, чтобы не раздувать коды VM, все сообщения,  даже  относящиеся
к дискетам, выдаются как для винчестерского диска.
 Без ключа T дискеты почти никак не защищаются и  вирус  вполне  может
их испортить. Я считаю главной целью  защиту  винчестерского  диска  -
основную жертву вирусов-вандалов.

______________________________________________________________________

▄ Реклама.
▀▀▀▀▀▀▀▀▀▀▀

 Для получения версии  VM  для  MS-DOS  5.0  по  льготной  цене  в  10
купонов, которая действует до 15 марта 1992 года и только для  жителей
Украины, отправьте ценной бандеролью дискету по адресу:

           252142 Киев-142, Семашко д. 10, кв. 16,
                    Шеховцову Александру Людвиговичу

 В бандероль вложите 10 купонов (стоимость VM) + 5  рублей  (стоимость
пересылки ценной бандероли).
 Вы  можете  также  получить   VM   у   меня   лично,   предварительно
созвонившись по рабочему телефону 266-70-28.

 Для жителей других республик стоимость VM составляет 25 +  7  рублей.
______________________________________________________________________

▄ Благодарности.
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
 Я заранее  благодарен  всем,  кто  поставит  VM  на  свой  компьютер,
проверит его работу и выскажет свои замечания  и  предложения.  Можете
написать мне по адресу:

        252142 Киев-142, ул. Семашко, д. 10, кв. 16
                       Шеховцову Александру Людвиговичу


 или позвонить по телефону:

                (8-044) 261-18-70  (рабочий телефон)


         С уважением                                 Шеховцов Александр

                              январь 1992 года
