			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
			░░	L G A V I E W   v 3.02	    ░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

			...Ох, и до чего же трудно быть изюминкой!
		Особенно в ящике с изюмом.

			...Продукты приходят и уходят, а гири
		остаются...

						Ф.Кривин


	Программа предназначена для работы с архивами (в том числе и
самораспаковывающимися), упакованные всеми программами-архиваторами,
известными автору:

	--> LHARC(LHICE) v1.xx,2.xx		by Haruyasu Yoshizaki
	--> ARJ		v1.00-2.39b		by Robert K. Yung
	--> PKZIP	v1.02-2.04g		by PKWare Inc.
	--> PKPAK	v3.61, PKARC v3.6	by PKWare Inc.
	--> PAK		v2.51			by NoGate Consulting
	--> ZOO		v2.01			by Rahul Dhesi
	--> HYPER	v2.5			by Nischke & Sawatzki
	--> BSA		v1.6			by Babitchev S.
	--> QFC		v1.1			by George G.Lyapko
	  * ELI		5750			by Jule Revsin
	  * CHARC	v1.3			by A.Chernivetsky
	----------------------------------------------------------
	  *  - 	автор располагает лишь демонстрационными версиями
		программ (правильная работа не гарантирована).

	Программа понимает полные имена файлов в архиве, причем работает
значительно быстрее самих архиваторов и своих аналогов.

	Программа должна работать на "неполноценных" ПЭВМ (на Искре-1030
работает точно),  хотя  это  и  стоило лишний  килобайт кода на проверку
INT 33H и отказ от команд 286 процессора ( ENTER, PUSHA, PUSHF, IMUL  и
другие).

	░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
	░░	О Т Л И Ч И Т Е Л Ь Н Ы Е   О С	О Б Е Н Н О С Т И	░░
	░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

	Кроме того,программа в отличие от всех других:
	- поддерживает мышь;
	- пароль для просмотра и распаковки файлов;
	- режим QuickView (Ctrl+Q) в NC v3.0 ( если не подключать 
	  NCVIEW Д.Гуртяка или VIEWNC Gandalf, после чего почему-то на
	  все файлы вызывается TextView и для устранения данного дефекта
	  приходится на архивном файле еще дважды нажимать Ctrl+Q);
	- режим  B&W на цветном мониторе;
	- имеется возможность временно  выйти  в  DOS;
	- удалять и тестировать файлы;
	- программа понимает защищенные от записи разделы жесткого диска;
	- осуществлять  поиск файла по маске;
	- просматривать архивы внутри архивов;
	- выбирать  файлы  по  маске.

	Причем ( в отличие от DOS )  в  маске  можно использовать символы
* и ? в любом месте. Например :

	a*a.*e*,	aa\*a?b.??,	abc\*.*

	При распаковке  программa запрашивает путь для распаковки (кроме
ZOO). Файлы  распаковываются в режиме Prompt on Owerwrite. При просмотре
и распаковке архивов программа создает промежуточный файл на жестком ди-
ске, не защищенном от записи(если есть место).
	
	Программа может использовать текстовый файл LGAVIEW.CFG для под-
ключения других программ распаковки либо вьюера.

ФОРМАТ ЗАПИСИ в LGAVIEW.CFG(до версии 2.07 и после 2.12):

	XXX:drive:\path\name.ext , где

	XXX -	аббревиатура распаковщика (ARC,ARJ,ZIP,ZOO,ELI,HYP,PAK,
		CHZ,LGA,ICE - для LHARC v1.xx и LHICE v1.14,
		LHA - для LHA v2.xx,??? - для вьюера).

	Распаковщик должен соответствовать по командам распаковки и вы-
вода на StdOut умалчиваемому(для ARC - это PKUNPAK v3.61,для ICE - 
LHARC.COM).
	Если в первой строке первый сивол '+', это рассматривается как
приказ использовать "окошко DOS" (т.е. при выполнении большинства команд
экран гаситься не будет, как в SHEZ). При этом немного некрасиво смотрят-
ся сообщения некоторых архиваторов, если сообщения выводятся по INT10, но
преодолеть это практически невозможно. 
	Строки, начинающиеся с '\','+',',','.' можно считать комментари-
ем. 

	Для подключения вьюера к NC скопируйте файлы LGAVIEW.EXE,
LGAVIEW.CFG (если необходимо),LGAINSTx.COM (нужную версию) в директорию,
где находится NCMAIN.EXE (либо NC.EXE) и запустите LGAINST.COM.

	Инсталлятор запросит подтверждение на изменение EXE-файла (заме-
ну 123view на lgaview) и, если NCMAIN действительно версии 3.0 и не сжат
какой-либо утилитой, запишет изменения (после этого LGAINSTx.COM можно
удалить). В связи с тем, что NC поддерживает не все расширения, оставле-
ны A??,LZH,Z??,PAK (+EXE,BSA и QFC для версии 3.0). Если вы хотите обра-
батывать архивы ICE по F3, просто переименуйте их в *.LZH.

	Программа должна просматривать и архивы LHA, созданные с опцией 
/h2 (этот формат будет применяться в последующих версиях LHA).

		░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
		░░	О С Н О В Н Ы Е   К О М А Н Д Ы	    ░░
		░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

F1			- помощь
F2			- распаковать отмеченные файлы
F3			- просмотреть выделенный файл
F4			- не показывать полный путь к файлу
F5			- установить пароль для распаковки
F6			- поиск файла по маске
Shift+F6		- продолжить поиск
F7			- просмотреть комментарий к файлу в архиве
Alt+F7			- просмотреть комментарий к архиву
F8			- удалить отмеченные файлы
			  (пока только ARJ,LHA,ELI,CHZ,ZIP,QFC)
F9			- тестировать отмеченные файлы
Alt+F9			- инвертировать отмеченные/неотмеченные файлы
			(если нужно отметить файлы только текущего
			каталога, вызываем выбор по маске, вводим *\*.*,
			затем нажимаем Alt+F9)
F10,Esc			- выход
Alt+F1,Alt+F2,Alt+F3,Alt+F4,
Alt+F5			- отсортировать список соответственно по имени,
			расширению, ориг.размеру, дате
Alt+F6			- естественный порядок файлов
Alt+F10			- временный выход в DOS
Alt+D			- показ свободного места на логических дисках
Ins			- отметить/снять отметку с файла
+			- отметить файлы по маске
-			- снять отметку по маске
Home			- начало списка
End			- конец списка
PgUp,PgDn,
Стрелка вверх/вниз	- страница/файл вверх/вниз
Стрелка вправо/влево	- символ вправо/влево
Ctrl+   -"-		- 8 символов вправо/влево
Ctrl+Home		- крайнее левое положение
Ctrl+End		- крайнее правое положение

	В  верхней  строке  указаны:  сокращенное  имя архива, позиция в
списке/всего файлов, количество/размер  отмеченных файлов,  PassOn (если
установлен пароль), Path(если полный путь включен).

	Информация о файлах:

	Original 	- размер распакованного файла
	XXX-size	- упакованный размер
	Ratio		- их соотношение
	Date,Time	- дата/время модификации файла
	CPAX		- флаги:
		Поле C (Comment):
			символ + в этом поле свидетельствует о наличии
			комментария к данному файлу;
			( Замечание:
				Если в архиве ARC хотя бы к одному файлу
			вводился комментарий, то все файлы и сам архив
			получают комментарии в виде пустой строки)

		Поле P (Password):
			символ + в этом поле свидетельствует о том, что
			данный файл упакован с паролем;
			( Замечание:
				у файлов PAK эту особенность нельзя
			выяснить, не распаковуя файл, поэтому в этих
			архивах поле не задействовано)

		Поле A (file internal Attribute):
			Архивные аттрибуты файла:
			
			B - файл считается двоичным (по умолчанию);
			T - файл считается текстовым;
			V - метка тома;
			D - файл считается удаленным(архивы ZOO)
				либо
			   метка директории (все остальные);

		Поле X (eXtended portion)
			символ + в этом поле обозначает, что файл имеет
			продолжение либо начало в другом архиве
			(только ARJ);
		
	Внизу - общий  распакованный размер,общий упакованный  размер,их
 соотношение. Поддержка мыши аналогична NC и WPVIEW.

			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
			░░	КРАТКАЯ ИСТОРИЯ	     ░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

v1.0	первая версия ARCVIEW (просмотр архивов ARC,ICE,PAK,ZIP)

v1.1	просматривается содержимое ARJ,ELI,HYP

v1.2	добавлены CHARC,LHA v2.xx (без /h2)

v1.3    устранены ошибки, введена поддержка мыши, сортировка листинга.
	Написан инсталлятор для NC v3.0

v1.4    программа  переименована в  LGAVIEW (из-за  совпадения имени  с
	ARCVIEW P.Kaasesalu),  поддерживаются режимы  QuickView и  B&W в
	NC, инсталлятор переписан на ассемблере, написан инсталлятор для
	NC  v2.0.  Первое  более-менее  широкое  (в  пределах   области)
	распространение программы

v2.0	коренная переработка программы (добавлены распаковка, пароль)

v2.01	обрабатываются архивы ZOO и LGA

v2.02   добавлена возможность отмечать  и просматривать файлы,  вводить
	путь для распаковки,  обрабатываются SFX-файлы, кол-во  файлов -
	3000.

v2.03   движение экрана влево-вправо, инвертирование отмеченных  файлов,
	просмотр удаленных файлов в ZOO, временный выход в DOS, CFG-файл,
	русская и немецкая версии

v2.04   написан "heap manager", благодаря чему размер программы в памяти
	уменьшен почти вдвое и зависит от числа файлов в архиве,  кол-во
	которых  доведено  до  15000  (больше,  по-моему,  нет  смысла),
	программа работает под NDOS.

v2.05   добавлен просмотр комментариев  к архиву и  файлам (кроме  ARC),
	более логичное расположение "горячих ключей",возможность подклю-
	чения "вьюера" по расширению, устранены ошибки при обработке PAK.

v2.06   по замечаниям пользователей добавлен вызов вьюера ???(WPVIEW  по
	умолчанию), если  архив запорчен  либо файл  не является архивом
	известного типа, просмотр архивов  внутри архива (только из  ARJ
	или HYP).

v2.07   начиная  с  этой   версии  в  режиме QuickView видно  содержимое
	архива,  изменена  строка  состояния  (чтобы резидентные часы не
	затеняли  сообщений),  изменен  формат  записи  в  CFG-файле для
	подключения альтернативных вьюеров, просматриваются  комментарии
	к ARC, "мышь" не исчезает при вызове вьюера.

v2.08   добавлены  флаги,   удаление  файлов  из архива, серийный  номер
	(устанавливается с помощью REGISTER.EXE).

v2.09   добавлен   поиск  файлов ,  при  просмотре  комментариев  символ
	табуляции выводится "как принято"  и  усекаются длинные  строки,
	программа регистрации переименована в  LGREGXXX.EXE,  где  XXX -
	номер версии без точки.

v2.10	можно  удалять файлы  из архивов ZIP, устранены  проблемы с про-
	смотром меток тома и директорий (теперь F3 на них не вызывается),
	добавлен просмотр архивов из ZIP, LHA, ARJ.

v2.11	введена поддержка QFC (Quick File Collection) файлов

v2.12	введена поддержка BSA-архивов ( пока самый плотный и  достаточно
	быстрый архиватор из известных мне ), устранены (?)  проблемы  с
	попытками использования защищенных от записи дисков при просмот-
	ре файлов, устранены проблемы с ошибочной идентификацией некото-
	рых COM и EXE файлов как ARC-архивов, исправлены ошибки  в  пре-
	дыдущей версии (нельзя было распаковать LHA файл без директорий,
	неправильно работала левая клавиша  "мыши" ), можно  работать  с
	файлами LHA-архивов,начинающимися на "-" и "@".

v2.13	устранены небольшие ошибки при обработке файлов PAK, ARJ,
	введено "окно DOS" (лучше видно, из-за чего не идет просмотр),
	формат CFG-файла вернулся к старому (в распаковке PAK-ом ZIP-а
	больше нет смысла)

v2.14	программа откомпилирована на TurboPascal 7.0, выпущена словацкая
	версия, введена опция -!@ для ARJ (были проблемы с DRDOS), по
	умолчанию окно DOS отключено.

v2.15	устранены ошибки в менеджере кучи, немного уменьшен размер про-
	граммы, унифицирована процедура считывания заголовков LHA,BSA,
	HYP и ELI.

v3.00	программа почти полностью переписана на ассемблере ( размер 
	уменьшился вдвое), добавлено тестирование файлов, показ свобод-
	ного места на дисках, добавлена возможность удаления файлов из
	QFC, изменен алгоритм считывания ZIP-файлов (ускорение очевид-
	ное, особенно при работе с дискеттой).

v3.01	устранена 1000 и 1 ошибка предыдущей версии, добавлена возмож-
	ность быстрого поиска файлов (в отличие от NC, без Alt и с воз-
	можностью использовать *,? в любом месте), при удалении файлов
	используется временный путь (наконец-то можно удалять файлы ар-
	хива заполненной под завязку дискетты)
	
v3.02	изменен алгоритм регистрации

			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
			░░	СУЩЕСТВУЮЩИЕ ПРОБЛЕМЫ	   ░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
(Известные автору)

				Когда обезьяна взяла в руки палку, она
			еще не подозревала, что палка имеет два конца.

							Ф.Кривин

	Для  просмотра  файлов  из  архива  ARJ используется специфичная
команда  ARJ  v2.20(-jw),  поэтому,  если  вы  используете  более старую
версию, установите переменную среды ARJOLD в любое значение.Например,
		
			SET ARJOLD=+


	Существует проблема в распознании архивов LHARC v1.xx и  архивов
LHA v2.xx,  созданных с  опцией /h0  (программа распознает  их как  ICE-
архив).По умолчанию для их распаковки используется архиватор LHA  v2.xx.
Поэтому  при   возникновении  проблем   с  распаковкой,   установите   в
LGAVIEW.CFG:

		ice:имя программы v1.xx

	LGAVIEW  не  перехватывает  ни  одного  прерывания,  поэтому  не
следует распаковывать файл на защищенной дискете(появится Abort,  Retry,
Fail). Программа требует для полноценной работы DOS3.30 и EGA дисплей.

	Поскольку  программа  занимает  46кб  в  ОЗУ (как минимум), плюс
NCMAIN 173k с  мелочью, а программы-архиваторы  требуют от 200  до 500кБ
памяти, предпочтительнее ее  использовать не по  клавише F3, а  внести в
NC.EXT (по <Enter>). В  этом случае NCMAIN.EXE выгружается.  При больших
размерах  архива  (более  1000  файлов)  либо  развитой структуре дерева
(длинные пути) может появиться сообщение "No room to recognize all  file
names"  и  вы  будете  просматривать  лишь  первую  часть  архива,  либо
сокращенные имена файлов (без пути). 

	Существуют   проблемы,   связанные   с   повторяющимися  именами
архивных  файлов  (с  различными  путями)  в  архиве.  Не все архиваторы
отличают, например AAA.DOC  от A\AAA.DOC (но  не наоборот), поэтому  при
просмотре  файла  AAA.DOC  будут  фактически  просматриваться  все файлы
*\AAA.DOC (это касается  PAK,ZOO и HYP  файлов). HYPER.EXE, кроме  того,
не  имеет  опции  вывода  на  StdOut,  поэтому  в данном случае он будет
выдавать запросы  на перезапись  временного файла  и вы  будете смотреть
последний, ответ для которого был "Y". 

	Невозможно распаковать и  просмотреть также файлы,  начинающиеся
с  символа  "-",  за  исключением  случая  распаковки  всего архива (для
большинства  архиваторов это символ опции). Это не касается ARJ,ARC,ZOO,
LHA и распаковки ZIP.

	Существуют  проблемы  удаления  файлов   при  работе  под  NDOS,
связанные со swapping-ом (ARJ не  находит сектор после удаления хотя  бы
одного файла).

	Для любителей изменять цвета сообщу адрес цветовой гаммы в этой
версии:
	Offset 5422 (English,Slovak,Russian)
		     -	30 4F 1E 1F 30 1B 70 70 70 0F 07 0F 70
			--------------------		 --
				|			 |
				применяются в режиме Color

			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
			░░	  ПЛАНЫ НА БУДУЩЕЕ	   ░░
			░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

				Баран выразил общее недоумение, заяц
			выразил общее опасение... Потом встал лев и
			выразил общее мнение.

						Ф.Кривин

	Планируется ввести возможность конвертирования SFX в  нормальный
архив,  перетаскивание   части  файлов   в  другой   архив,   физическая
сортировка  архива  (пока  для  этого  требуется  слишком много памяти),
переименование файлов  (не для  всех архивов  известен принцип  подсчета
CRC   заголовка).   По   мере   появления   будут  добавляться  "свежие"
архиваторы, будет оптимизироваться скорость и размер программы.

	Вообще-то, можно придумать еще много чего полезного, но  главное
вовремя  остановиться.

	Автор будет признателен за предоставление какой-либо  информации
по архиваторам, известным ему лишь по названиям: ZOO(v2.02), DWC, ARC by
SEAGate, HPACK v0.75, HAP&PAH v2.1. Если вы пользуетесь архиватором, ко-
торый не поддерживается LGAVIEW, пришлите мне его (желательно с докумен-
тацией), и вскоре (надеюсь) вы бесплатно получите версию  LGAVIEW,  под-
держивающую данный архиватор.

ПРОГРАММА РАСПРОСТРАНЯЕТСЯ  НА ПРИНЦИПАХ  SHAREWARE, т.е.  если она  вам
понравилась  и  вы хотите   ею   пользоваться,  просьба  сообщить автору
ID number,   которое  выдает  программа  LGREG302.EXE  при  запуске  без 
параметров  и перечислить  регистрационный взнос  в  размере 400 купонов
(что поделаешь, инфляция) или 5 долларов (для иностранных пользователей)
по нижеприведенному адресу.После этого вам будет сообщен регистрационный
номер, устанавливаемый 

	LGREG302.EXE <Serial_number> [<Firm_name>...]

ПРОГРАММА  ПОСТАВЛЯЕТСЯ   "AS  IS",   т.е.  автор   не  несет    никакой
ответственности  за  утерю  информации,  прямо  либо  косвенно вызванную
применением программы.

	По всем возникшим вопросам либо замечаниям просьба обращаться  к
автору по адресу:

	2954000, Украина, Закарпатская обл.,
	г.Мукачево, ул.Краснознаменная, 2/3,
	тел.+7-(031-31)-2-44-78.
	Ляпко Юрий Георгиевич.

22.6.93

P.S.
	Не  гарантируется  правильная  обработка  более  ранних, более
поздних версий архиваторов  и  SFX-файлов,  соэданных  ELI,  CHARC  и
ZOO (если таковые существуют), поскольку автор ими не располагает.
