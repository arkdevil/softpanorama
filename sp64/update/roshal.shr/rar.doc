


    Архиватор RAR. Руководство пользователя                    Февраль 1994

    Версия 1.40 beta



       Архиватор RAR и руководство пользователя защищены
       правом копирования (с) 1993 Eugene Roshal.





    СОДЕРЖАНИЕ НАСТОЯЩЕГО РУКОВОДСТВА

 
    1. Введение

    2. Технические характеристики

    2.1. Степень сжатия
    2.2. Скорость сжатия
    2.3. Скорость распаковки
    2.4. Требуемые ресурсы
    2.5. Дополнительные возможности

    3. Установка

    3.1. Установка RAR на диск
    3.2. Установка переменной DOS RAR
    3.3. Регистрация

    4. Работа с RAR из командной строки

    4.1. Формат вызова
    4.2. Описание команд
    4.3. Описание ключей

    5. Работа с RAR в полноэкранном режиме

    5.1. Работа с файлами
    5.2. Работа с архивами
    5.3. Конфигурация

    6. Ограничения

    7. Непрерывные (solid) архивы

    8. Работа с внешними архивами

    9. Коды завершения

    10. Дополнительная информация

    10.1. Вспомогательные файлы
    10.2. Пароли и архивные тома
    10.3. Буферизация
    10.4. Просмотр файлов в RAR архиве

    11. О гарантиях







   1. Введение

   Архиватор RAR был создан как достаточно универсальное средство
   сжатия файлов, содержащих самую различную информацию, объединяющее
   достоинства и удобства программ двух классов - архиватора командной
   строки и полноэкранной оболочки для просмотра и других манипуляций
   с архивами.

   В некоторых случаях использование RAR не может быть заменено ни
   одним из существующих архиваторов, а логичный и простой интерфейс
   делает его удобным средством работы с архивами.

   По своим техническим характеристикам RAR не уступает широко
   распространенным и популярным архиваторам, а по некоторым
   показателям превосходит их.



   2. Технические характеристики

   Приведем основные характеристики RAR и отличия по сравнению с
   PKZIP 2.04e, ARJ 2.41, LHA 2.11, HA 0.98

   2.1. Степень сжатия

   На файлах типа .EXE, .COM, .LIB, .OBJ, .OVR и аналогичных им RAR
   обеспечивает максимальную по сравнению с другими архиваторами
   степень сжатия, превосходя PKZIP и ARJ примерно на 0.5 - 3% (кроме
   .EXE и .COM файлов уже сжатых программами типа LZEXE, PKLITE,
   DIET). На отдельных файлах (больших .LIB, некоторых других) выигрыш
   может достигать 5-7% от упакованного размера.
   Метод сжатия обычно существенно не влияет на результат.

   Текстовая информация сжимается примерно также как и PKZIP и ARJ
   (зависит от вида текста и метода сжатия) на файлах до 32 килобайт
   размером. На больших текстовых файлах RAR обычно превосходит другие
   архиваторы (кроме HA 0.98)

   При обработке файлов баз данных RAR несколько уступает архиватору
   PKZIP (иногда и ARJ), однако в этом случае существенно влиять на
   размер и время работы может метод сжатия (m0 - m5).

   Степень уплотнения графической информации сильно зависит от рода
   файлов.

   При упаковке большого числа маленьких файлов RAR может выиграть у
   ARJ и PKZIP также за счет более короткого заголовка файлов.

   При создании непрерывного (solid) архива, содержащего много
   небольших однотипных файлов, степень сжатия на 10 - 40 % и более
   превосходит достигаемую при упаковке в обычный архив.

   По сравнению с HA 0.98 RAR обычно обеспечивает более высокую
   степень сжатия файлов типа .EXE, но проигрывает на большинстве
   других типов файлов (особенно по сравнению с HSC архивами - при
   создании которых использовалась команда a2 архиватора HA). Однако
   по совокупности параметров RAR представляется более
   предпочтительным, так как при создании ASC архивов HA работает в
   3-4 раза медленнее RAR, а при создании HSC архивов в 10-50 раз
   медленнее.


   2.2. Скорость сжатия

   Скорость упаковки RAR примерно на 15% уступает скорости PKZIP.
   Остальные рассмотренные выше архиваторы работают медленнее.


   2.3. Скорость распаковки

   По скорости распаковки RAR уступает только архиватору PKZIP.


   2.4. Требуемые ресурсы

   Для работы RAR необходима MS DOS 3.0 или более поздние версии.

   Для упаковки необходимо 390 Kb оперативной памяти,
   для распаковки 295 Kb, для прочих операций 230 Kb,
   но увеличение этого значения может повысить скорость работы
   за счет буферизации дисковых операций.


   2.5. Дополнительные возможности

   Помимо стандартных функций RAR обеспечивает

     Полноэкранный интерфейс:

      -  выбор упаковываемых и распаковываемых файлов
      -  эмуляция структуры подкаталогов в архиве
      -  работа с "мышью"
      -  сохранение параметров в файле конфигурации
      -  просмотр упакованных и обычных файлов в текстовом или 
         16-ричном виде

     Специальные функции:

      -  разбиение архива на части (volumes) для переноса на дискеты
      -  создание и модифицирование самораспаковывающихся архивов (SFX)
      -  создание самораспаковывающихся архивных томов (SFX)
      -  создание непрерывных (solid) архивов с повышенной степенью сжатия
      -  защита информации по паролям
      -  защита архивов от модификации
      -  сохранение информации об авторе архива
      -  восстановление структуры поврежденных архивов
      -  добавление комментариев ко всему архиву и к отдельным файлам
      -  встроенная поддержка ANSI escape последовательностей
         в комментариях

     Поддержка работы с архивами ZIP, ARJ, LZH в полноэкранном режиме:

      -  выбор упаковываемых и распаковываемых файлов
      -  эмуляция структуры подкаталогов в архиве
      -  выполнение основных операций над архивами



   3. Установка

   3.1. Установка RAR на диск

   Для установки архиватора RAR вам необходим самораспаковывающийся
   (так называемый SFX) архив RAR?_??.EXE, (где вместо "?_??" в имени
   файла указан номер версии RAR).

   Выберите подкаталог, в котором будет располагаться RAR и из
   которого вы будете его запускать.

   Чтобы запускать RAR, не указывая полного пути, можно добавить этот
   подкаталог к переменной пути PATH, устанавливаемой в вашем
   AUTOEXEC.BAT.

   Скопируйте в выбранный подкаталог SFX-архив RAR?_??.EXE и запустите
   его на выполнение. Файлы, входящие в дистрибутив RAR, распакуются в
   текущем подкаталоге.

   Для работы вам потребуется только файл RAR.EXE, остальные файлы -
   это документация и дополнительная информация.

   Для установки конфигурации RAR запустите RAR.EXE без параметров,
   нажмите F9 (Options) и установите устраивающие вас параметры
   конфигурации (см. раздел 5.3 ), после чего сохраните конфигурацию,
   используя опцию меню Save configuration (Alt-S).

   С этого момента RAR установлен и готов к работе.


   3.2. Установка переменной DOS  RAR

   Если вы хотите при запуске RAR всегда использовать какой-либо ключ
   по умолчанию, то его значение можно присвоить переменной DOS 
   с именем RAR.

   При работе в полноэкранном режиме установки ключей -sfx,-v,-vs,-s,-std
   в переменной RAR не влияют на работу архиватора.

   При работе из командной строки анализируются все ключи.

   Например:

   SET RAR=-std -s

   Это заставит RAR при запуске из командной строки выводить текст
   на stdout и всегда создавать solid архивы.

   Наиболее приоритетны значения ключей, указанные непосредственно
   в командной строке, далее идут ключи в переменной RAR, 
   и наименьшим приоритетом обладают значения в файле конфигурации.


   3.3. Регистрация

   Для регистрации необходимо запустить RAR в полноэкранном режиме,
   то есть без каких-либо параметров, затем нажать F9 (Options)
   и выбрать пункт меню Registration.
   На запрос 'Enter your name' нужно ввести ваше имя в точности так,
   как оно было указано в лицензии, с соответствием заглавных
   и строчных букв, пробелов.
   На запрос 'Enter your registration code' необходимо ввести
   ваш регистрационный код.
   При неудачной регистрации будет выдано сообщение 
   'Registration failed'. Это может произойти в результате
   неправильного ввода регистрационного номера.
   


   4.Работа с RAR из командной строки

   4.1. Формат вызова:

    rar <команда> -<ключ1> -<ключN> <архив> <файлы> <@списочный файл>
                            <=файл с комментарием> <путь распаковки\>

   Команда может быть только одна, ключей - любое количество.
   Списочный файл может содержать имена обрабатываемых файлов,
   разделенные возвратом каретки или пробелом.
   Файл с комментарием может содержать комментарий, добавляемый к
   архиву при его создании, но не при модификации.
   Путь распаковки применяется вместе с командами e и x и указывает
   на подкаталог, в который будут помещены распакованные файлы.
   Если этот подкаталог отсутствует, то он будет создан.


   4.2. Описание команд

    a: добавляет указанные файлы к архиву

    m: переносит указанные файлы и подкаталоги в архив.
       При успешном завершении упаковки все указанные файлы 
       и подкаталоги удаляются с диска.
       Удаление подкаталогов будет выполнено только если
       не использовался ключ -ed, а в качестве имени добавляемых
       файлов было указано *.* или имя подкаталога.

    mf:переносит указанные файлы в архив.
       При успешном завершении упаковки все указанные файлы 
       удаляются с диска.

    d: удаляет указанные файлы из архива

    x: извлекает указанные файлы из архива с восстановлением структуры
       подкаталогов (если при архивировании был указан ключ -r).

    e: извлекает указанные файлы из архива в текущий подкаталог

    v: просмотр содержимого архива.
         Выдается полный путь доступа к файлу и его имя,
       файловый комментарий, неупакованный и упакованный размер,
       степень упаковки, дата и время последней модификации файла,
       его атрибуты, контрольная сумма, метод сжатия и минимальная
       версия RAR, необходимая для распаковки.
         Если необходимо просмотреть все архивные тома (volumes),
       то у имени архива вместо расширения ставится *.
       Например: RAR v myvolume.*

    l: просмотр содержимого архива.
       Аналогично команде v, но вместо полного пути доступа к файлу
       выдается только его имя.

    t: тестирует в архиве указанные файлы

    u: добавляет к архиву те файлы, которых в нем нет, и обновляет те,
       более поздние версии которых есть на диске

    f: обновляет в архиве файлы, более поздние версии которых есть на диске

    p: выводит указанные файлы на STDOUT

    s: преобразует указанный архив в самораспаковывающийся (SFX) типа .EXE
       Можно также преобразовать в SFX первый из последовательности
       архивных томов, но при этом его исходный размер будет изменен,
       а это может помешать выгрузке томов на дискеты, так что в этом
       случае лучше использовать команду A с ключом -vs[<size>]

       Пример:

       rar s myarchiv


    en: загружает указанный архив и входит в полноэкранный режим
       Удобно для использования в Extension file оболочки Norton Commander

       Примеры:

       rar en myarchiv.rar
       rar en myarchiv.zip

       Также можно указать имя архива без en.

       Пример:

       rar myarchiv.arj

    c: добавляет комментарии к архиву. Для окончания ввода нужно нажать F10.
       Esc отменяет ввод комментариев. Для удаления существующих комментариев
       нужно сразу же после вхождения в режим ввода нажать F10.
         Комментарии будут выводиться при любых операциях с архивом. 
       Размер комментариев не может превышать 16 килобайт.
         RAR обеспечивает встроенную поддержку основных ANSI escape 
       последовательностей в комментариях к архиву. Это позволяет управлять
       цветом и местоположением курсора вне зависимости от наличия
       драйвера ANSI.SYS.
         Escape последовательности, перепрограммирующие клавиатуру,
       не поддерживаются, но перехватываются, что защищает от
       встраивания в комментарий "бомб", назначающих какой-либо клавише
       например команду echo y | del *.*
       

       Пример:

       rar c myarchiv

       Комментарии можно ввести из файла, если перед именем файла поставить
       символ =

       Пример:
         
       rar c myarchiv =info.txt
       
    cf: добавляет комментарии к отдельным файлам в архиве.
       Для окончания ввода нужно нажать F10. Esc отменяет ввод комментариев.
       Для удаления существующих комментариев нужно сразу же после
       вхождения в режим ввода нажать F10.
         Комментарии будут выводиться при просмотре архива командой v.
       Размер комментариев не может превышать 16 килобайт.

       Пример:

       rar cf myarchiv *.txt

    cw: записывает архивный комментарий в файл

       Пример:

       rar cw myarchiv comment.txt

       Комментарий из архива myarchive будет записан в файл comment.txt

    r: восстанавливает архив с поврежденной структурой.
       RAR не в состоянии восстановить файлы с испорченной информацией.
       Поэтому данная команда не подходит для восстановления файлов
       при распаковке которых выдается сообщение CRC failed.
       Но если в результате повреждения структуры архива стал невозможен
       доступ к нормальным файлам, либо при попытках работы с архивом
       происходит "зависание" архиватора, то с помощью этой команды
       можно спасти оставшиеся данные.
         При восстановлении архива создается файл $RECOVER.RAR
       в который записывается вся сохранившаяся информация.
       При обнаружении в испорченном архиве подозрительных данных
       о которых архиватор не может вынести однозначного решения,
       выдается запрос пользователю:

                      Suspicious entry

              Name:  <имя возможного файла>
              Size:  <размер>    Packed: <размер после сжатия>

                      Add it: Yes/No/All

       При положительном ответе данные добавляются к архиву $RECOVER.RAR

       Пример:
         
       rar r myarchiv.rar


    k: Защита архива от модификации. Любые операции, связанные
       с модификацией защищенного архива, будут прерываться.
       Эта команда не поможет спасти архив от злоумышленников,
       но будет полезна для защиты от непреднамеренной порчи данных


       Пример:

       rar k myarchiv.rar


    Команды d,u,f не работают с архивными томами (volumes) и непрерывными
    (solid) архивами.
    Команда a может использоваться только для создания, но не обновления
    архивных томов и непрерывных архивов.
    Команды c и cf не работают с архивными томами, но работают с
    непрерывными архивами.
    Комментарий к архивному тому можно добавить непосредственно при
    его создании, используя файл комментария.


   4.3. Описание ключей

    -?   выводит экран помощи

    -r   может использоваться совместно с командами a,u,f,m,x,e,t,p,v,
         l,c,cf,s.
           При использовании с командами a,u,f,m приводит к добавлению
         к архиву всех указанных файлов в текущем и вложенных
         подкаталогах.
           При использовании с командами x,e,t,p,v,l,c,cf,s приводит
         к обработке всех указанных архивов в текущем и вложенных
         подкаталогах.

    -o+  при распаковке разрешает перезаписывать существующие файлы

    -o-  при распаковке не разрешает перезаписывать существующие файлы


    -x<name> все файлы, с именами, соответствующими name, будут
         исключены из обработки

         Пример:

         RAR a -x*.bak arch 


    -x@<list> задает файл, в котором содержатся имена файлов,
         исключаемых из обработки

         Пример:

         RAR a -x@exlist.txt arch *.exe


    -sfx если этот ключ указан при создании нового архива,
         то будет создан SFX архив
         ( последовательность ключей -v<size> -sfx эквивалентна
         ключу -vs<size> )

         Пример:
 
         RAR a -sfx arch *.asm

         будет создан SFX архив ARCH.EXE


    -v или -v<size> создание архивных томов (volumes)
         <size> - размер тома в тысячах байт (не килобайтах).

         Если размер не указан, то он определяется автоматически.

         Если тома создаются на диске, где расположены временные файлы
         (по умолчанию текущий, можно изменить с помощью -w),
         то смена диска невозможна. В этом случае автоматическое
         определение размера не имеет смысла и размер нужно указывать явно.

         Если же тома создаются не на диске с временными файлами,
         то после создания тома выводится вопрос:

           Create next volume: Yes/No/All/Quit

         В это время можно заменить диск.
         При ответе All дальнейшее создание томов происходит без запросов

         Первый архивный том имеет расширение .RAR, последующие
         нумеруются от .R00 до .R99.

         При распаковке и тестировании достаточно указать имя первого тома.
         Если при распаковке не обнаружен следующий том, то если тома
         находятся не на диске с временными файлами выдается запрос

           Insert disk with <имя следующего тома>

         после установки требуемого диска нужно нажать любую клавишу.

         Если при распаковке не обнаружен следующий том и тома
         находятся на диске с временными файлами, то программа
         завершается аварийно с сообщением:

           Can't find <имя тома>
           Can't change disk with temporary files


         Архивные тома не допускается модифицировать.
         Команды 'd','f','u','s' для них недопустимы, команда 'a' может
         использоваться только для создания новых томов.

         Размер файлов в архивных томах может иногда несколько
         превышать исходный, так как в этом режиме не происходит
         простого запоминания файла при неудачном сжатии.


         Примеры:

         1.Выгрузить диск C: на дискеты:

           rar a -r -v a:myvols c:\*.*
           (текущим диском при этом должен быть диск C:)


         2.Создать архивные тома размером 362000 байт каждый
            из файлов в текущем подкаталоге

           rar a -v362 myvols
             или
           rar a -v362 myvols *.*


    -vs или -vs<size>: создание самораспаковывающихся архивных
          томов (SFX volumes).

          <size> - размер тома в тысячах байт (не килобайтах).
          Если размер не указан, то он определяется автоматически.

          Первому из создаваемых архивных томов будет присвоено
          расширение .EXE.  После запуска (как обычной программы
          MS DOS) SFX volume будет сам управлять процессом распаковки,
          определяя наличие и при необходимости запрашивая следующие
          архивные тома

          Пример:

             Создать самораспаковывающиеся архивные тома размером
           362000 байт каждый из файлов в текущем подкаталоге

           rar a -vs362 myvols


    -w<path>: назначить рабочий подкаталог для вспомогательных файлов

          Если в указанном подкаталоге открыть файл невозможно,
          то RAR произведет поиск доступного для записи диска автоматически.

          Пример:

           rar a -we:\tmp archntx *.ntx

          Вспомогательные файлы будут создаваться в E:\TMP

    -p<password> или -p: назначить пароль
          Прописные и заглавные буквы в паролях различаются.

          Если пароль не указан, то будет выдан запрос

            Enter password:

          Пример:

           rar a -pfruct cactus *.cac

          Вновь добавляемым файлам будет назначен пароль fruct.

    -y:  Ответить Yes на все запросы

    -std: Вся выводимая текстовая информация направляется на STDOUT.
          Это позволяет, например, переключить весь вывод в файл:
            rar v cactus >cactus.rpt
          или отключить совсем:
            rar x games digger.com >nul

    -m<0..5>: Задание метода (степени сжатия).
          m0: запоминание без сжатия
          m5: максимальное сжатие
          По умолчанию используется метод -m3


    -col: Установить цветной режим работы

    -bw:  Установить черно-белый режим работы

    -b:   Разрешить создание резервных копий архива.
          В этом случае при любых изменениях в архиве его предыдущий
          вариант будет сохраняться с расширением .BAK, либо, если
          у исходного архива было расширение .BAK, у копии будет
          расширение .$BK

    -f:   Может использоваться при упаковке и распаковке.
          Команда a -f аналогична команде f, допускается использование
          -f вместе с командами m и mf.
          Если -f используется вместе с командами x или e, то будут
          распакованы только те файлы, более старые версии которых
          присутствуют на диске.

    -u:   Может использоваться при упаковке и распаковке.
          Команда a -u аналогична команде u, допускается использование
          -u вместе с командами m и mf.
          Если -u используется вместе с командами x или e, то будут
          распакованы только те файлы, более новых версий которых
          нет на диске.

    -ed:  Не добавлять в архив пустые подкаталоги.
          При использовании этого ключа в архив не будет заноситься
          информация ни о каких подкаталогах. Но информация о подкаталогах,
          файлы из которых добавляются к архиву, уже содержится в полных
          именах этих файлов (путь доступа + имя). Поэтому при распаковке
          или в полноэкранной оболочке такие подкаталоги будут выглядеть
          как реально существующие.
          Если же в подкаталоге не было файлов, добавляемых к архиву,
          то при использовании ключа -ed никакая информация о нем не
          будет сохранена

    -ep:  Не сохранять пути доступа к файлам. При этом возможно
          появление в архиве нескольких файлов с одинаковым именем.

    -ep1: Не сохранять ту часть пути доступа к файлам, которая была
          указана в командной строке.

          Пример:

          rar a -ep1 -r arch tempdir\*.*

          Все файлы и подкаталоги из TEMPDIR будут добавлены к архиву,
          но в пути доступа к ним будет отсутствовать каталог TEMPDIR.
          Для правильной работы этого ключа не следует применять
          сокращенный вариант записи добавления всех файлов из подкаталога
          типа: rar a -ep1 -r arch tempdir 

    -cfg- Не читать файл конфигурации и переменную DOS RAR

    -c-   Запретить вывод комментариев

    -e<s,h,a,r>: Исключить из числа добавляемых файлов файлы с атрибутами
          System, Hidden, Archive, Read only соответственно.
          Порядок следования атрибутов не имеет значения
  
          Пример:

           rar a -ehs archive *.exe

          К архиву не будут добавлены файлы с атрибутами Hidden и System

    -s:   Создавать непрерывный архив 
          (о непрерывных (solid) архивах см. раздел 6)

          Пример:

           rar a -s -vs362 archive *.*

          Будут созданы непрерывные SFX тома размером 362000 байт каждый


    -av:  Добавляет к архиву при любой его модификации информацию
          об авторе и времени модификации, имени архива.
            Если архив, созданный с ключом -av, модифицируется
          без этого ключа, то данная информация будет удалена.
          Исключение составляет команда k, которая не влияет
          на вышеприведенную информацию.
            Использование -av в сочетании с solid архивами, не допускающими
          модификации данных, может служить хорошей защитой для создания
          дистрибутивов программ. Только при этом надо помнить, что для
          создания solid архива необходимо чтобы в нем находилось
          не менее двух файлов.
            Для использования -av необходимо не менее 390 Kb 
          оперативной памяти.
            Этот ключ доступен только для зарегистрированных пользователей,
          так как в архив заносится имя, указанное при регистрации.


   5. Работа с RAR в полноэкранном режиме

   В данном разделе используется информация из предыдущего.

   Для запуска RAR в полноэкранном режиме нужно просто набрать без
   каких-либо параметров:

       rar

   либо:
 
       rar -<ключ1> -<ключN>

   либо использовать команду en , чтобы сразу войти в требуемый архив.

   В полноэкранном режиме RAR может находится в режиме работы с
   файлами или в режиме просмотра архива.


   5.1. Работа с файлами

   После запуска RAR на экране появляется список файлов в текущем
   подкаталоге. По списку можно перемещаться с помощью клавиш
   управления курсором или мыши.

   Чтобы пометить файлы используйте клавиши пробел или INS, или правую
   кнопку мыши. Можно пометить группу файлов, введя маску с помощью
   '+' или убрать метки с помощью '-'. Возможна пометка подкаталогов,
   при этом помеченными считаются все файлы во всех подкаталогах
   внутри них. Нажатие клавиши '*' изменяет пометку файлов и каталогов
   на противоположную.

   В правой части экрана выдается информация об используемой памяти,
   методе сжатия, присутствии пароля и режиме создания резервных
   копий.

   Команды:

     Alt-C  цветной/черно-белый режим
     Alt-D  выбор текущего диска
     Alt-W  установка подкаталога для временных файлов
     Alt-M  выбор метода упаковки
     Alt-P  установка пароля
     Alt-S  сохранить конфигурацию (см. ниже)

   Для перехода в режим просмотра архива необходимо установить маркер
   на архивный файл и нажать Enter.

   Функциональные клавиши соответствуют следующим функциям командной
   строки (см. разделы 4.2 и 4.3):

     F1                         помощь
     F2       a                 добавить файлы к архиву
     F3                         просмотреть файл
                                (встроенный или внешний viewer)
     F4       f                 освежить файлы в архиве
     F5       a -v[<size>]      создать архивные тома
     F6       u                 обновить файлы в архиве
     F7       m                 перенести файлы в архив
     F8       r                 восстановить структуру архива
     F9                         изменить/сохранить параметры
     F10 (ESC)                  выход
     Alt-F2   a -s              создать непрерывный архив
     Alt-F3                     просмотреть файл (viewer встроенный)
     Alt-F5   a -vs[<size>]     создать самораспаковывающиеся архивные тома
     Alt-F6   a -s -v[<size>]   создать непрерывные архивные тома
     Alt-F7   a -s -vs[<size>]  создать непрерывные SFX архивные тома

   При нажатии прочих клавиш осуществляется поиск файла по имени.
   С помощью Ctrl-Enter можно просмотреть все совпадения.


   5.2. Работа с архивами

   Для перехода в режим просмотра архива необходимо установить маркер
   на архивный файл и нажать Enter, либо использовать команду en.

   На экран выводится список файлов в архиве. По списку можно
   перемешаться с помощью клавиш управления курсором или мыши. Файлы
   можно помечать с помощью пробела или INS, или правой кнопки мыши,
   или пометить группу файлов, введя маску с помощью '+' или убрать
   метки с помощью '-'. Возможна пометка подкаталогов, при этом
   помеченными считаются все файлы во всех подкаталогах внутри него.
   Нажатие клавиши '*' изменяет пометку файлов и каталогов
   на противоположную.

   В правой части экрана выдается информация о присутствии
   комментария, файлов с паролями, количестве, размере и степени
   сжатия файлов.

   Команды:

     ALT-C: цветной/черно-белый режим
     ALT-D: выбор текущего диска
     ALT-W: установка подкаталога для временных файлов
     ALT-M: выбор метода упаковки
     ALT-P: установка пароля
     ALT-S: сохранить конфигурацию (см. ниже)

   Функциональные клавиши соответствуют следующим функциям командной
   строки (см. разделы 4.2 и 4.3):

     F1:           помощь
     F2:      t    проверить содержимое архива
     F3:           просмотреть файл
                   (встроенный или внешний viewer)
     F4:      x    извлечь файлы со всеми подкаталогами
     F5:      c    добавить комментарии к архиву
     F6:      e    извлечь файлы в текущий подкаталог
     F7:      s    преобразовать архив в SFX
     F8       d    удалить файлы
     F9:           изменить/сохранить параметры
     F10:          возврат в режим работы с файлами (также ESC)
     Alt-F3:       просмотреть файл (viewer встроенный)
     Alt-F4:       извлечь файлы на указанный диск и каталог
     Alt-F5:  cf   добавить комментарии к отдельным файлам в архиве
     Alt-F7:  k    защита архива от модификации

   При нажатии прочих клавиш осуществляется поиск файла по имени.
   С помощью Ctrl-Enter можно просмотреть все совпадения.

   У файлов, защищенных паролем, перед именем выводится символ '*'.

   При работе с архивными томами в полноэкранном режиме необходимо
   указывать шаблоны обрабатываемых файлов (запрашивается при нажатии
   INS, пробела или функциональной клавиши). Пометка файлов в томах
   обычным способом не представляется возможной, так как тома могут
   находиться на нескольких дисках.

   Возможен ввод нескольких шаблонов. После ввода последнего из них
   нужно еще раз нажать Enter (ввести пустую строку).

   При просмотре архивных томов в полноэкранном режиме у файлов,
   которые оказались разбиты между несколькими томами, размер в
   упакованном виде означает размер только части файла, вошедшей в
   этот архив. В этом случае перед размером в упакованном виде
   выводится символ '', если часть файла находится в предыдущем томе,
   или символ '', если часть файла находится в следующем томе, или
   оба этих символа, если в текущем архиве нет ни начальной, ни
   конечной части данного файла

   В полноэкранном режиме поддерживается работа с "мышью". Для
   перемещения по подкаталогам и архивам используется левая кнопка
   мыши. Функцию ввода в этом случае выполняет двойное нажатие. Для
   пометки файлов используется правая кнопка. При вводе текста (имя
   архива, пароль, ...) левая кнопка отменяет, а правая подтверждает
   ввод. Левая кнопка мыши используется для выбора команд (F1 - F10),
   пунктов меню и конфигурации.


   5.3. Конфигурация

   С помощью F9 в любом из полноэкранных режимов можно:

   1) Изменить опции:

     а) разрешить/запретить цветной режим
     б) разрешить/запретить мышь
     в) разрешить/запретить резервные копии
     г) разрешить/запретить добавление информации об авторе и
        времени модификации архива, об имени архива
        (authenticity verification)
     д) метод сжатия
     е) тип сортировки имен при выводе на экран
        - несортированный вывод
        - по имени 
        - по расширению
        - по размеру (исходному)
     ж) действия после выполнения команды
        - повторный вход в тот же архив (или подкаталог)
        - повторный вход в тот же подкаталог
        - выход в DOS
     з) добавление:
        - файлов с атрибутом System
        - файлов с атрибутом Hidden
        - файлов с атрибутом Read only
        - файлов с атрибутом Archive
        - пустых подкаталогов

   2) Задать пароль

   3) Установить подкаталог для временных файлов

   4) Установить имя файла, из которого будет браться комментарий при
      создании нового архива

   5) Изменить имя внешней программы просмотра файлов (viewer), которая
      будет вызываться при нажатии F3. В качестве параметра ей будет
      передаваться имя файла. Если внешний viewer не задан, то при
      нажатии F3 будет вызываться встроенный.

      При нажатии Alt-F3 всегда вызывается встроенный viewer.

   6) Сменить текущий диск (если установлен режим просмотра архива, то
      предварительно осуществляется переход к режиму просмотра файлов)

   7) Сохранить текущую конфигурацию

   Повторный вход в тот же архив после выполнения команды является
   наиболее естественным действием, но приводит к дополнительным
   затратам времени по сравнению с повторным входом в подкаталог
   (кроме тех случаев, когда требуется дальнейшая работа с этим же
   архивом).

   Выход в DOS после команды имеет смысл, если обычно требуется
   выполнять всего одну операцию упаковки, распаковки или модификации
   архива.

   В любом из полноэкранных режимов возможно сохранение текущей
   конфигурации. Конфигурация содержится в файле RAR.CFG, который
   создается в том же подкаталоге, откуда запущен RAR.EXE.

   Для записи текущей конфигурации необходимо нажать ALT-S и затем в
   качестве подтверждения Enter.

   При записи конфигурации сохраняются следующие параметры:

   1) Опции, установленные в первом пункте меню команды F9 (см. выше)

   2) Подкаталог для временных (вспомогательных) файлов

   3) Имя файла, из которого будет браться комментарий при создании
      нового архива

   4) Имя внешней программы просмотра файлов (viewer)

   Если при запуске, в том же подкаталоге, откуда запущен RAR.EXE,
   обнаружен файл RAR.CFG параметры из него будут прочитаны и
   установлены.

   Наиболее приоритетны значения ключей, указанные непосредственно
   в командной строке, далее идут ключи в переменной DOS  RAR 
   (см раздел 3.2),  и наименьшим приоритетом обладают значения 
   в файле конфигурации.



   6. Ограничения

   Количество файлов, добавляемых при выполнении одной операции
   архивирования, ограничено примерно 6000 - 7000.

   Количество файлов в архиве не ограничено.

   При работе в полноэкранном режиме не может выводиться более чем
   4000 файлов в одном подкаталоге.

   Если количество файлов в подкаталоге превышает 2000, сортировка
   имен при просмотре в полноэкранном режиме отключается.



   7. Непрерывные (solid) архивы

   При упаковке большого числа однотипных файлов можно получить
   существенное увеличение степени сжатия, если вместо обычного,
   создать непрерывный архив.

   Чтобы получить непрерывный архив, необходимо в командной строке RAR
   при создании архива указать ключ s:

     rar a -s solid.rar

   В непрерывном архиве при упаковке каждого файла (кроме первого)
   используется информация, содержащаяся в предыдущих файлах. По этой
   причине архивы такого типа нельзя модифицировать. Выигрыш в степени
   сжатия по сравнению с обычными архивами тем выше, чем меньше
   средний размер файла и больше их количество. Наиболее типичный
   выигрыш на больших пакетах программ от 2 до 15 %, но в отдельных
   случаях наблюдалось уменьшение размера архива (по сравнению с
   созданным обычным методом) в 1.5 - 2 раза.

   Можно также создавать непрерывные архивные тома и непрерывные
   самораспаковывающиеся архивные тома. Распаковку непрерывных
   архивных томов нужно всегда начинать с первого тома из
   последовательности.

   Основной недостаток предложенного метода в том, что для распаковки
   одного файла архиватору необходимо обработать все файлы,
   предшествующие данному (при этом выдается сообщение: Skipped <имя
   файла>). Поэтому непрерывные архивы удобнее всего использовать в
   том случае, когда предполагается распаковка сразу всего архива,
   например для поставки больших пакетов программ (в этом случае могут
   быть удобны непрерывные самораспаковывающиеся архивные тома).

   Кроме того, при повреждении одного из файлов в непрерывном архиве,
   будет испорчена информация во всех остальных файлах, следующих за
   ним.

   Если при создании непрерывного архива (также как и при создании
   архивных томов) сжатие файла не дало результата (упакованный размер
   больше исходного), то повторное запоминание файла проводиться не
   будет. Так что размер файла в таких архивах может превышать
   исходный. Но реально такое может произойти обычно только при
   упаковке уже сжатых каким-либо архиватором файлов.

   Для повышения степени сжатия при добавлении к непрерывному архиву
   файлы сортируются по расширению.



   8. Работа с внешними архивами

   В полноэкранном режиме RAR позволяет работать с архивами форматов
   широко распространенных архиваторов ZIP, ARJ, LZH.

   Для этих архивов поддерживаются следующие операции:

      - распаковка с созданием подкаталогов
      - распаковка в текущий подкаталог
      - тестирование архива
      - удаление файлов из архива
      - полноэкранный просмотр файлов в архиве
      - создание SFX архивов
      - добавление комментариев к архиву        (только для ZIP и ARJ)
      - добавление комментариев к файлам архива (только для ZIP и ARJ)
      - распаковка в указанный подкаталог

   Для таких архивов можно обычным образом задать пароль (ALT-P) и
   подкаталог для временных файлов (ALT-W).

   Для простого просмотра архивов ZIP, ARJ, LZH достаточно одного
   архиватора RAR, но для выполнения архивных операций соответствующие
   программы (PKUNZIP, PKZIP, ZIP2EXE, ARJ, LHA) должны быть 
   указаны в PATH.

   RAR позволит пользователям Norton Commander эффективно работать с
   архивами RAR, ZIP, ARJ, LZH. Для этого к Extension File (NC.EXT)
   нужно добавить:

     RAR:  rar en !.!
     ZIP:  rar en !.!
     ARJ:  rar en !.!
     LZH:  rar en !.!

   и переход к обработке соответствующих архивов осуществлять
   нажатием Enter.

   Примечания:

   1) Работа с SFX архивами, созданными другими архиваторами, не
      поддерживается

   2) При работе с LZH архивами поддерживается только стандартный
      заголовок (при создании архива не использовался ключ /h2)



   9. Коды завершения

   После завершения работы (выхода в DOS) RAR устанавливает следующие
   значения переменной DOS ERRORLEVEL, сигнализирующие о различных
   критических ситуациях:

     0   SUCCESS         успешное завершение
     1   WARNING         в процессе работы возникали нефатальные ошибки
     2   FATAL ERROR     фатальная ошибка
     3   CRC ERROR       при распаковке возникали ошибки контрольной суммы
     4   LOCKED ARCHIVE  попытка модификации архива, защищенного командой k
     5   WRITE ERROR     ошибка записи на диск
     6   OPEN ERROR      ошибка открытия файла
     7   USER ERROR      неверный синтаксис команды запуска
     8   MEMORY ERROR    мало памяти
   255   USER BREAK      выход по требованию пользователя



   10. Прочее

   10.1. Вспомогательные файлы

   При работе архиватора может быть временно создано до 2-х
   вспомогательных файлов с именами: $RAR$TMP.$??, $RAR$TMP.$??,
   $RAR$TMP.$??. Они создаются либо в явно указанном с помощью
   соответствующих команд или файла конфигурации подкаталоге (см.
   выше), либо по умолчанию в текущем подкаталоге.

   Все файлы $RAR$TMP.* не могут быть добавлены к архиву.

   При просмотре внешних архивов создается подкаталог с именем
   $RAR$TMP.$??.

   Расширения вспомогательных файлов, обозначенные выше как $??,
   реально могут принимать значения $00 .. $99. Таким образом
   каждый вспомогательный файл имеет уникальное имя, что позволяет
   при многозадачной работе нескольким копиям RAR использовать
   один рабочий подкаталог.


   10.2. Пароли и архивные тома

   Если при создании последовательности архивных томов был использован
   пароль, а при распаковке он не был указан или был указан неверно,
   то возможно архиватор не сможет проследить всю цепочку томов. В
   этом случае распаковка завершится досрочно, либо произойдет выход
   по ошибке "Can't open file".


   10.3. Буферизация

   При упаковке вся оставшаяся свободной память используется как
   дисковый буфер. Поэтому сообщение о переполнении диска может
   появиться позже чем следовало ожидать.


   10.4. Просмотр файлов в RAR архиве

   Если при просмотре файлов в RAR архиве используется встроенный
   viewer, то распаковка файла осуществляется динамически по мере
   надобности. При использовании внешней утилиты просмотра
   предварительно распаковывается весь файл.


   11. О гарантиях

   Никаких гарантий к данному программному обеспечению не прилагается.

   Автор не несет никакой ответственности за любой вред или упущенную
   выгоду при использовании или неиспользовании данного программного
   обеспечения.

