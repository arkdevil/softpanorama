Overview





EDOS is a powerful device driver program that adds many amazing
features to your DOS sessions under Microsoft Windows. It makes
your DOS session "Windows-aware," whenever you run DOS in
Windows' 386 enhanced mode. EDOS uses none of your conventional
memory. It loads entirely in extended memory above 1 megabyte.
Once you become accustomed to EDOS, you never want to be without
it.





EDOS Features



EDOS adds several "internal" commands to DOS. These are commands
that do not require separate files on your hard disk, but act
like a part of DOS itself. These commands allow you to change
your DOS session's PIF settings on the fly, set alarms which
show a message box in Windows, add memory, start performance
timers, disable "dangerous" DOS commands, view and print the
Windows Clipboard, and much more.



The five DOS Session icons correspond to five PIF files for  DOS
sessions of 736K, 704K,  640K, 128K, and 50K of memory. You can
improve performance in Windows, and open more applications in
Windows, by using the smallest DOS session you actually need.
All DOS sessions started while EDOS is running -- not just those
started with these PIF file icons -- benefit from all features
of EDOS.



A Windowed DOS session has a menu bar with file, edit, help,
view selections and  two status indicators, {b} and  [X]. These
show the state of the Background  and Exclusive flags. They are
grayed out when the state is off, black if on. They are updated
in real-time.  The menu bar can be disabled or enabled at any
time.



There is a SUSPEND menu item, on the system menu. Turns
background off and minimizes the session all in one.



EDOS also makes it possible for you to exit any DOS session by
pressing Alt+F4 , just like a Windows application, instead of
typing EXIT and pressing Enter.



EDOS has a full, on-line Windows Hypertext Help system. You can
run this by clicking on EDOS Help in any DOS session's System
menu.  For more information, see "What You Can Do With EDOS" in
this document.



Quick Installation



First. Read the README.TXT file on the installation disk before
proceeding. It contains hints and information on last minute
changes to EDOS you should be aware of.



To install EDOS, Windows 3.1 or higher must be running. Place
the EDOS diskette in floppy drive A: or B:. Click the File menu
in Program Manager (or any Windows "shell" program), then click
Run. Type the following command line and press Enter:



A:\SETUP     or      B:\SETUP



For further information on the Setup process, see the section
"How Setup Works" in this document, or the text file README.TXT
on the EDOS diskette.



After the installation process you can verify  the installation
worked properly by clicking on the "Verify" icon in the EDOS DOS
session group.



What To Do If Windows Won't Run



If incompatibilities prevent Windows from running after you
install EDOS, you can easily disable EDOS from loading so that
you can work out the problem. To do so:



Comment out the  device=edos.386 line in the [386Enh] section of
SYSTEM.INI.

Comment out the EDOS=EDOSLIB.DLL line in the [drivers] section
of SYSTEM.INI.

NOTE:	A semi-colon at the beginning of the line comments the
line.







If all else fails call EDOS tech support







Quick EDOS Disable



To disable EDOS loading, use the disable ICON or see the    "How
to Remove EDOS"  for permanent removal. The disable ICON toggles
from disabled to enabled.







EDOS Operating Environment



A DOS Session consists of one windowed or full screen DOS window
and virtual machine.  It acts like a single-user computer
operating in the MS-DOS environment.  Theoretically, anything
that is designed to run under DOS, will run in a DOS Session. 
Unfortunately, many complications can keep this from happening. 
Although Windows 3.1 performs much better than previous versions
running DOS Sessions, it still leaves much to be desired.  EDOS
adds reliability, functionality , and  convenience to operating
DOS programs under Windows.  Indeed, a DOS application run in a
windowed DOS Session with EDOS  in control provides features and
functionality unavailable under DOS alone.  EDOS was developed
for the many users who, for whatever reason, need to run in the
Windows environment but frequently need to use DOS applications. 





What You Can Do With EDOS



EDOS adds several new commands to DOS sessions. These commands
can be typed at a DOS command line or used in batch files, like
any other DOS commands. Some examples of ways you can use these
features are:



Using the EDOS command DOSMEM, you can give a DOS session more
memory than it started with!  Up to 736 KB.

EDOS provides "Smart Exiting." EDOS automatically closes idle
DOS sessions when you exit Windows.

You can write a batch file to display or change most PIF
settings "on-the-fly.". This means you can use a single
DEFAULT.PIF file for all DOS applications, but change its
settings as required. 

You can set alarms in DOS sessions, which display dialog message
boxes in Windows.

You can create batch files to run in background and use the
ALARM and EDOSEXIT commands to return to Windows a failed or
successful complete message.

You can test the performance of various PIF settings on your DOS
sessions, using the commands SYSTIME and BOXTIME. By running
BOXTIME before and after a certain task, for example, you can
see what percentage of CPU time that DOS application is getting
from Windows.

You can display or print any text in the Windows Clipboard from
the DOS command line. Windows' own Clipboard Viewer can't print
by itself.

Using the BOXSWITCH command, you can disable the possibility of
switching away from a DOS session and back to Windows, during
critical tasks that must not be interrupted.

You can test in a batch file whether or not Windows is running,
using the ISWIN command.

Additionally, EDOS modifies and disables some DOS commands that
are dangerous if run in a DOS session under Windows. This
includes CHKDSK/F, FORMAT, FASTOPEN, APPEND, SUBST, and others.
And,  EDOS allows you to specify DOS commands that you wish to
disable. See the section "Disabling Other DOS Commands" in this
document.

Finally, EDOS features a new system menu for windowed EDOS
sessions with; Hypertext Help, an "About EDOS" selection and
under Windows 3.1 you can start the PIF editor which
automatically starts with the PIF for the current session.

For detailed information on each command, see the "Command
Reference" section. For a quick summary, see below







User Tips



Alt+Space  windows a DOS session and pops up the system menu.



Alt+Enter toggles from Windowed to Full Screen.



Alt+Tab  will cycle from one task to the next.



NOTE: 	Most people are unaware that WINSTART.BAT can be used to
load TSR's that are used only by Windows apps and that ONLY take
up conventional memory in the Windows System Virtual Machine.
That's right ONLY in Windows.  See the ADVANCED.TXT file on the
installation disk for more information.









Control Menu



The control menu is invoked by clicking on the upper left corner
of any Windows window frame -- at the left end of the  Title Bar
-- in the box containing the horizontal bar.  It is relatively
standard throughout Windows, but has  minor changes in DOS
Sessions.  The EDOS version is even more capable.   See the
details below:



Std. Moving & Sizing - This includes the usual Restore, Move,
Size, Minimize, Maximize group. In addition EDOS adds  Full
Screen.  This function is also available in the View selection
on the  EDOS Menu Bar, and sends a windowed DOS Session into
Full Screen Mode. 



Close - This selection closes the DOS Session and its window,
like File Exit in the EDOS Menu Bar.  It likewise will  be
grayed out if the Session has a running application.

Switch To... - This selection is a standard Windows entry which
takes you to the Task Manager.



Settings...  - This selection is a standard Windows entry which
takes you to a Dialog box showing some of the  session setting
-- display, priority, and tasking options, with a kill task
button also.  Changes may be made to the  values/conditions
here, which take effect immediately, but do NOT change the
current PIF file permanently.  This same Dialog box can be
accessed from the EDOS Menu Bar under
Settings|Current|Priorities.  See Menu Bar below for details.



Menu Bar - This is, of course, an EDOS addition.  It is a
switch; if checked, the EDOS Menu Bar is present.  



Suspend - Suspends the DOS session and replaces the session
window with its icon. The Background Flag is turned off.  If you
click on the icon the control menu will pop up. You can in turn
click on the check marked suspend  item which will toggle the
background Flag on and reactivate the session.



EDOS Menu Bar



EDOS now provides a Menu Bar, just below the Title Bar in
windowed DOS sessions!  In its present implementation, it offers
DOS activities valuable performance and convenience improvements
unavailable with other products. 



New...  - This selection brings up a File Selection box,
allowing selection of drive, directory, and filename, similar to
many other places in the Windows environment.  Only executable
files are appropriate  for this function, which is to launch a
NEW DOS or Windows Session from the current DOS Session!  



Pick... - This selection brings up an identical File Selection
box, BUT only pastes the FULL Path name of the selected file at
the cursor location in the Current Session.  The cursor needs to
be located where keyboard entry of a filename is expected, of
course.  This could be at the DOS System prompt, or in a running
application for which you need a filename response at that
point.  



Exit  - This selection closes the DOS Session and window -- IF
you are at the DOS System prompt.  It  will be grayed out, if
you are in a running application.  The way to close the Session
in that case depends on the PIF parameter settings -- usually by
closing the application in its usual way.



Mark, Copy, Append, Paste - This essentially is the same
capability provided in the Control Menu of a  regular windows 
3.1 DOS window, BUT it is much more accessible and convenient
located at the top of the screen and only ONE level down, rather
than two.  From an operational and utilitarian view, this makes
the copy/paste procedure much more valuable and useable.



Finally, all the important scraps of text that one would like to
move from one application to another can be done -- and done
easily.  You will develop a real enthusiasm for the variety of
small tasks that can now conveniently be done without retyping
or confusion.  And note that both the source and the target
Sessions can be DOS or Windows in any combination.



Make the source Current, Mark the selected block on the screen
with your mouse -- point to the upper left corner of the text
block desired, press the left mouse button and drag to the lower
right corner (everything highlighted will be transferred, so
mark carefully) -- choose Copy, and that text will be in the
Windows Clipboard. When the text is selected (highlighted) it
may be copied by clicking on the right mouse button. Make the
target Current, if it is DOS, and place the cursor where you
want the text to go;  choose Paste and the text will transfer to
that location as if it were entered from the keyboard.  A
Windows session as target will accept the contents of the
Clipboard in the usual way, and as a source can Cut as well as
Copy to the Clipboard for use by any target Session. 



The Windows Clipboard, for all we would like it to do, really
isn't very capable.  You can't tell what's in it at a given
time, or how much and there's no way to get a printed record, in
Windows or in DOS. EDOS adds some valuable functionality in this
area.



View Clip... -  This selection brings up the Clipboard Viewer on
top of the Current DOS  Session.  Anything the Viewer can do can
be accomplished at this point.  For example, you can transfer
the clipboard contents to a .CLP file.  Making and using
multiple clipboards in DOS apps is not only possible, but easy. 
Using CLP files gives the Clipboard a memory.  This is an EDOS
added function.

         

When using Clip to bring up the Viewer, any .CLP file can be
loaded for use in the Current Session. You can paste whatever
text is in the Clipboard at the cursor, regardless from where or
when it came.  The Clipboard Viewer and the .CLP file facility
are not EDOS features  of course, but  EDOS allows DOS Sessions
ACCESS to them.



Clip Status... - This selection provides an Information box with
a character count of the contents of the Clipboard.  This gives
a forewarning of how much text will be pouring into your 
application at the cursor, as well as providing a simple means
of determining if ANYTHING is in the Clipboard at the moment.  



Print Clip...  - This selection provides a printout of the
contents of the Clipboard on the default printer.  For best
results, you should install in Windows the generic text printer
driver in addition to those needed for specific printers.  EDOS
expects this Driver to be available for this function.  Results
may be unexpected if it is not.  



Scroll - This is the same function available in the Control
Menu, but at a more convenient location. You may well wonder
what this on/off toggle is for.  It is not obvious, because it
has no purpose in a Maximized Windowed DOS session.  However, if
your window shows less than the full DOS screen -- there will be
an "elevator" scroll bar at the side, the bottom, or both --
then while in Scroll Mode the cursor (arrow keys) will scroll to
view hidden portions of the screen.  This provides for window
view control without a mouse.  You'll find that there are some
times that the arrow keys are more appropriate or convenient,
even if you normally do use a mouse.

 

Full Screen! - This is the same function available in the
Control Menu, but again in a more convenient location.  



Screen Saver! - This selection enables the Windows Screen Saver.
When you return in the normal way from the Screen Saver screen,
the same session is on top, ready for continuing.  BUT NOTE: It
is NOT selected.  Simply click anywhere in that window as usual
to reactivate the Session as the Current one.  In the process of
invoking the screen-save process, it becomes current. The
preceding DOS Session can not automatically be made Current. 
Remember to reactivate your DOS Session when you return from
Screen-Save!  



25/50 Lines! - Toggles the DOS session display from 25 to 50
line mode and back.



Fonts.. - This is the standard Windows entry in the Control
Menu, which has been moved here for greater convenience -- it
just seems to make more sense here!  The functionality is the
same, however.



Several DOS session environment settings can be changed from the
menu bar. They are:



Background! - A yes/no toggle item.  When check marked,
background is on.  This should show the same as the indicator at
the right end of the Menu Bar.  Like Priority the change is only
temporary.  See below. 



Advanced - These are items less often needed and provide more
detailed info/control. 



Priority... - This provides the same Dialog box as the Settings
item on the Control Menu and provides the same capability for
temporarily changing PIF values.  



Exclusive - Like Background, above, this is a yes/no toggle,
check marked when on, but is much less likely to be used, so it
is at this lower level.  Again, changes made here are temporary.



The next three items are yes/no toggles, check marked when on. 
The toggle is provided in case a particular feature seems to
interfere with a DOS application. Otherwise they serve mostly as
status indicators, as do most items in this Advanced Menu. 



Drag/Drop! - You can drag a file name from the the file manager
and drop tit at the command line in your DOS session.



Fast Paste! -  Toggles on and off the fast paste PIF setting.



Run Win Apps!  - Toggles on or off the ability to start Windows
applications from the DOS command line.

Screen Saver!  - Starts the Windows screen saver.



Kill Task - This provides the same function as on the Control
Menu, that of terminating  a DOS Session completely and
unequivocally, when all else fails.  HANDLE WITH CARE!  This is
the LAST RESORT Panic Button.  Even so, ONLY the Current Session
is terminated, the rest of the Windows System is not affected.



Startup... - This selection invokes the PIF Editor with the
Current Session PIF already selected.  Any adjustments can be
made to the PIF, just as in the PIF Editor normally invoked. 
PLEASE NOTE, however, that any changes made, if saved upon exit,
will NOT take effect until this Session is  closed, then
restarted.  The PIF information is only read during loadtime.



EDOS Help - EDOS uses the full facilities of WINHELP, with which
you may already be familiar in Windows applications, but has
never previously been available in a DOS environment.  Hypertext
and pop-up definitions of terms are used extensively.   Although
there may be no end to the possibilities bearing from the
implementation of this facility, presently there are seven major
selections in the EDOS Help menu.  They are self-explanatory,
and please note that, as with any Windows Help selection, any
entry can be printed on a selected printer, if permanent 
reference is needed. How?  You can use the File entry in the
Help System Menu Bar.  There is a Print entry  located there. 
If you never noticed, try it.  It prints the current topic in
graphic mode, and on a color printer,  prints the sub-topics and
hypertext buttons in green, etc.



There are two indicators at the extreme right on the Menu Bar:
{b} - when highlighted, indicates that the Session is marked for
Background operation; if dimmed, the Session  will not operate
in the Background when the Session window is inactive. [X] -
when highlighted, indicates that the Session is marked for
Exclusive operation; if dimmed, the Session is not operating
Exclusively, which is  normal. 



Useful examples of Inter-session Communications  Using EDOS



The Mark/Copy/Append/Paste capability now in DOS Sessions 
provides far more communication among DOS and Windows activities
than ever before. The new EDOS Menu Bar makes them convenient
enough to actually use in a production setting.  Of course,
these functions works only for  text, and only that which can be
on the screen at one time, but there are a lot of scraps of text
that would be desirable to transfer to another location without
having to retype -- and get it wrong!



A simple example to which all can relate is the name and
address.  If you provide a format  screen in your database, for
instance, that is exactly like the form you want it for a
letter, open two Sessions..  Open the database in convenient
search/find mode using the formatted screen above.  Find the
proper name & address for  your letter, mark and copy it.  Then
<Alt-TAB> to you word processing Session, place the cursor where
you want the text to start, choose Paste, and continue with your
letter.  Remember if you haven't put anything else in the
Clipboard  in  the meantime, the name and address  is still
available for the envelope!  For low-volume letter writing, this
provides a slick, easy , way to access your database, regardless
what program it's  in. 



Here's another.  Say you have a program you want to write to the
author/publisher about.  For example, complimentary remarks
about EDOS! Instead  of scanning through the program in Dump
Mode of your favorite Viewer and writing down the Owner name
copyright date, version, and if you're lucky address, for later
reference, simply mark the block of  garbage in which that info
is contained, copy, then place it in a text editor to clean it
up ( WIN Notepad works fine),  copy it back to the Clipboard and
paste it into your letter -- or a note program for later
reference.  



Many programs have a on-line help capability at the command
line.  Either ? or /? or something similar after the program
command will often display such help.  Have you ever wanted to
get a printout of this -- AFTER editing it into a more easily
readable or appropriate form for your purpose?  For instance,
the help screen from  PKZIP/PKUNZIP.  But, you say, the help
takes  more that one screen, especially PKUNZIP.  So it does. 
Put as much as will fit on the screen and Pause, copy that much 
to the Clipboard.  Since the present Clipboard has an append
feature, we do not have to do this in multi-steps.
Edit/Mark/Copy the first part then Edit/Mark/Append the second
part.



There are more than one way to do most things, but using these
tools and procedures for small operations is  quick and easy --
much easier than describing them.



View, Status & Print - Since view brings up the Clipboard View
right on top of what you're doing, you can, while there, save
multiple clipboards in effect, by saving .CLP files, recalling
them as needed with a load.  Several  text scraps could be
copied in sequence from the same Session, saving each in a .CLP
file in turn.  Then going to  the destination application and
retrieving them one at a time through the Clipboard, appending
all together.



Picking Filenames - How often have you been in an application
that has no direct connection with a directory listing at  a
point where it was asking for a filename?  I Know, you can't
count the times!  This is a real lifesaver in such cases.   We
are using WIN facilities -- the File Selection Dialog box -- to
peek at the directory system aside from the Current 
application.  Unlike NEW, which has its own unique features,
this simply pastes the selected filename at the cursor, 
wherever it may be.  This is the COMPLETE path name, so there is
NO ambiguity in the reference.



Using TSR's with Applications - First word:  BEWARE!  That being
said, many TSR's do work fine when invoked in a Session before
the main application, using a batch file.  Use of others may
prove disastrous.  Try them out carefully.  The  advantage of 
loading them locally is, they are part of that sessions memory
allocation, and they are automatically removed from memory when
the session is closed.



A few TSR's function in DOS sessions with their usual hotkeys
when loaded globally, that is, before Windows.  However, Windows
most often disables TSR Hotkeys while running. After leaving
Windows the hotkeys may work as usual. BUT there may be
incompatibilities between the TSR and Windows and an attempt to
start the TSR will do strange, incomprehensible things to
Windows that may not be immediately apparent.  Also, it has been
demonstrated painfully, any TSR that pastes data at the cursor
of the underlying application through the keyboard buffer will
likely interfere with the Clipboard paste into a DOS session or
the use of pick.  The Session -- or the computer -- may lock. If
this happens to you, try turning off Fast Paste.Command Summary

New DOS Internal Commands (EDOS Commands)



/?	Added to the end of an EDOS command, displays Help.

Alt+F4	Closes a DOS session.

ALTF4	Disables or enables the Alt+F4 key combination.

ALARM	Sounds an alarm after a specified interval.

BACKGROUND	Sets Background mode of DOS session.

BOXSWITCH	Changes ability to switch away from a session.

BOXTIME	Measures CPU time available to a session.

CLIPBOARD*	Displays or prints the Windows Clipboard

DOSMEM	Adds memory to the current DOS session.

EDOSEXIT*	Returns exit code from EDOS commands.

EMS	Displays expanded memory settings.

EXCLUSIVE	Sets Exclusive mode of DOS session.

ISWIN*	Sets the DOS Errorlevel if Windows is running.

PIF	Displays the PIF settings for a DOS session.

PRIB	Changes the Background Priority of a session.

PRIF	Changes the Foreground Priority of a session.

SLICE	Sets the Minimum Time Slice allocated by Windows.

STATUS  or EDOS	Displays status information.

SYSTIME	Measures elapsed time system-wide.

XMS	Displays extended memory settings.



                  *   External (.COM) commands.

DOS Commands Modified



CHKDSK	CHKDSK/F is disabled under Windows.

DATE	Should be changed only through Control Panel.

MEM	Additional information is displayed.

Print Screen	Prints to LPT1, instead of copying to Clipboard.

TIME	Should be changed only through Control Panel.

WIN	Disallows attempt to load a new copy of Windows 

	and switches back to  the current Windows session.

DOS Commands Disabled While in Windows



APPEND	Confuses Windows as to true path names.

ASSIGN	Confuses Windows as to true drive letters.

CHKDSK /F	Scrambles open files under Windows 3.0.

FASTOPEN	Confuses Windows by buffering directory reads.

FDISK	Erases and re-partitions hard disks.

FORMAT	Should be run from Windows File Manager.

JOIN	Confuses Windows as to true path names.

RECOVER	Breaks files into small sectors and renames them.

SUBST	Confuses Windows as to true path names.

DOSX	Hangs  PC, damages disk.





Commands You Should Disable



Review your utilities for commands that mess about with the
structure of your disk. For example, disk organizers and the
like. These should not normally be run from windows. In
addition, some versions of DOS have special commands reserved
for system installation.  For example, The SELECT command is
used by some versions of DOS to format a hard disk and install
the DOS "hidden files," in preparation for the full installation
of DOS itself.



If you are running Windows on a Network you will probably want
to disable network commands like: login, Logout and Attach.

Command Reference





This section describes each EDOS command in detail. The commands
may be typed at the DOS command line, or used in batch files
like any other DOS command.



Adding a greater-than symbol (>) and a printer port or filename
to the end of most EDOS commands will print output to a printer
or a text file.



/?



Adding a slash and a question mark (/?) after any command
displays Help text about that command. The command itself does
not run.



Alt+Enter



Alt+Enter toggles between full screen and windowed mode in a
EDOS session.



Alt+F4



When EDOS is running, pressing the key combination Alt+F4 in a
DOS session closes that session, just as it closes any Windows
application. The effect in a DOS session is the same as typing
EXIT<Enter>.  



This key combination can be enabled or disabled from the command
line by using the command ALTF4 ON or ALTF4 OFF (see below).

ALTF4 ON - ALTF4 OFF



Typing ALTF4 OFF disables the EDOS feature of closing a DOS
session when the key combination Alt+F4 is pressed.  ALTF4 ON
turns this feature back on. The ability to close a DOS session
with Alt+F4 can be permanently disabled by adding the line:

EDOSAltF4=FALSE   in the [edos] section of the SYSTEM.INI file. 



EDOSAltF4=TRUE   enables the EDOS' Alt+F4 feature. (Uppercase
and lowercase are not important in these lines.)





ALARM {{seconds} {"message string"}}



The ALARM command causes a message box to become visible after
the delay in seconds indicated by the first parameter. An
optional message string may be used, which must be enclosed in
double quotes. If no message string is used then, the message
box will contain the string "Alarm Rings". The message box title
is the title and ID number of the DOS session that created the
alarm. Several alarms, one per DOS session, may be initiated.



BACKGROU[ND] {ON or OFF}



Typing BACKGROUND by itself displays whether the current PIF
setting allows the DOS session to run in the background (that
is, whether the DOS session runs when it is not the current
window).



Typing BACKGROUND ON changes the PIF setting so the DOS session
is allowed to run in the background.



BACKGROUND OFF prevents the DOS session from running in the
background. The background status is always displayed when this
command is used.



BOXSWITC[H] {ON or OFF}



The BOXSWITCH command enables or disables the ability to switch
away from the current DOS session back to Windows (with Alt+Tab
or Alt+Esc, for example).



Typing BOXSWITCH OFF disables the ability to switch away. You
might want to use this command in a batch file before starting
some task that should not be interrupted, such as a
communications program or IBM 3270 terminal emulation program.



BOXSWITCH ON reverses the effect of BOXSWITCH OFF, and enables
normal switching from the DOS session to Windows.  Using these
commands, or typing BOXSWITCH by itself, displays the status of
the current DOS session.



BOXTIME



The BOXTIME command begins and ends a timer that tells you how
much clock time has elapsed, and what percentage of that time
your DOS session had control of your processor's central
processing unit (CPU).



Typing BOXTIME the first time sets a system-wide timer and a DOS
session (box) timer to zero.



Typing BOXTIME a second time displays the elapsed time
system-wide (the time you would see on a wall clock), the
elapsed time that the DOS session was given by Windows, and the
percentage that represents. The elapsed times are displayed in
milliseconds. One millisecond is 1/1000 of a second. To convert
milliseconds to seconds, if desired, place a decimal point three
places from the right end of the number. (Note: The DOS timer
cannot measure times smaller than 55 milliseconds.)



The BOXTIME command is useful to find out how much time a DOS
application is getting under various PIF settings. For example,
you might create a PIF file that gives a DOS session 100 units
of time when it is in the foreground and 50 units of time in the
background (these are the Windows default settings). These
settings might or might not give your DOS application enough
time to get its work done when minimized or put in the
background. Programs that communicate with remote computers,
sort databases, or recalculate spreadsheets can benefit from
"tuning" PIF settings.



Example: To find out what percentage of CPU time the DOS version
of Lotus 1-2-3 gets under certain PIF settings, you might start
a DOS session and type the following commands:



	BOXTIME

	123 MYSHEET.WK1



Once 1-2-3 is loaded, start a macro that recalculates the
spreadsheet over and over. Then press Alt+Tab to return to
Windows. After a few moments, press Alt+Tab until Lotus 1-2-3
appears. Stop the macro and exit Windows.



At the DOS command line, type BOXTIME. This command will display
the percentage of CPU time that Lotus 1-2-3 received from
Windows in this situation. If you want the DOS application to
get more or less time, change the background setting in the PIF
until you get the desired results. The percentage of time that a
DOS session gets in the background depends on the PIF settings
and on what other DOS applications are running under Windows.



The most important PIF settings are: Foreground Priority,
Background Priority, Background Execution, and Exclusive
Execution. The following Windows settings, which are set in the
Control Panel's 386 Enhanced dialog box, are also important:
Foreground Priority, Background Priority, and Minimum Time
Slice. You can change all of these PIF settings, and the Minimum
Time Slice setting, using the following EDOS commands: PRIF,
PRIB, BACKGROUND, EXCLUSIVE, and SLICE. See the explanation of
these commands elsewhere in this document. You can also track
the system-wide time using the EDOS command SYSTIME, which is
explained in its own section.



CLIPBOAR[D]    

CLIPBOAR[D]  /VIEW

CLIPBOAR[D]  /V > LPT1

CLIPBOAR[D]  /V > filename



The CLIPBOARD command reports whether there is any text
currently stored in the Windows Clipboard and, if so, how many
characters are in memory.



The CLIPBOARD /VIEW command (which can be abbreviated as
CLIPBOARD/V) displays any text that is in the Clipboard.



This text can be sent to any text printer attached to your PC,
or any file, by adding a greater-than (>) symbol -- which
redirects the output -- and a port name or filename. This is
useful because the Windows Clipboard Viewer has no way to send
text to a printer or save plain-text files. For example:
CLIPBOARD /V > LPT1 sends text from the Clipboard to the current
printer on your LPT1 port (Line Printer 1).



Most PCs have one to three parallel printer ports -- LPT1, LPT2,
LPT3 -- and one to four serial communications ports -- COM1,
COM2, COM3, COM4. You can redirect printing to any of these
ports that currently has a working text printer. By specifying a
valid DOS filename after the greater-than (>) symbol, you can
save text in the Clipboard into a text file.



For example: CLIPBOARD /V > C:\DATA\MYFILE.TXT saves the text
contents of the Clipboard into a file called MYFILE.TXT in the
DATA directory of your C: drive. If you do not specify a drive
and directory name, DOS saves the file in whatever is the
current directory. The output of most EDOS commands can be
redirected to a printer or file in the same way.



DOSMEM {kilobytes}

DOSMEM /P

DOSMEM /X





Typing DOSMEM by itself displays the amount of memory in the
current DOS session. For example:





Memory size= 640 K bytes, Free=609K bytes. 0K bytes can be
added, From= 2340K





DOSMEM followed by a number in kilobytes (K) adds memory, if
possible, to the current DOS session. For example: DOSMEM 200
adds 200K to the DOS session. It is a good idea to leave at
least 50K unused in the global memory pool. For example, if 172K
is left, use no more than 120K. This prevents possible
situations where Windows might not be able to switch graphics
modes for that DOS session. This information can be useful when
setting PIF files for different DOS sessions and applications.



The  /P switch lets you add memory past the 640KB barrier, up to
704KB.  Similarly the /X switch lets you add memory up to 736KB.
These extra large EDOS sessions cannot be used to run programs
that need graphics support. If you attempt to run such a
program, a warning message will display and you will have to
kill the session.,



The /P and /X options can be disabled by using the 
EDOS640KPlus=0   line in the [edos] section of SYSTEM.INI



The /X option can be disabled by using the  EDOS704KPlus=0  
line in the [edos] section of SYSTEM.INI



DOSMEM /V prints a detailed information about the DOS session.
It is  intended for trouble shooting.



If DOSMEM /X or the 736kb icon will not create an oversized DOS
session, try installing the EDOSReserveB0=0 setting in
SYSTEM.INI. See notes about this switch. In some cases this will
let the 736kb sessions work.



NOTE:	The DOSMEM command can only be used to add memory to a DOS
session one time. Further, /P and /X can only be used in a 640kb
session. The   !DOSMEM!.COM file can be run from a PIF to start
an oversized session. It is the recommended method. There is a
ADVANCED.TXT file on the installation disk.  It contains info
about the oversize DOS sessions. 



For example:	!DOSMEM!.COM  /p  

	!DOSMEM!.COM  /x

EDOSEXIT



The EDOSEXIT command will return the error code (1 = failure, 0
= success) from the previously executed internal EDOS command.
For example, if you use the DOSMEM command to get more memory,
and the attempt fails, EDOSEXIT will return a 1 as an error
code. If the attempt succeeds EDOSEXIT will return a 0, if EDOS
is not installed, EDOSEXIT will return 10. For example,



	DOSMEM  /P

	EDOSEXIT

	IF ERRORLEVEL 1 GOTO DOSMEM_FAILED





NOTE: 	See the EXITCODE.BAT in the EDOS subdirectory for a
examples of  using EDOSEXIT.



 EMS



The EMS command displays the Expanded Memory Settings in the PIF
for the current DOS session. An example of the display of the
EMS command is as follows:

EMS Required=   0K, Limit=   1024K, Locked=N

EMS Free=    0K, EMS Total=    0K, Page Frame Address= E000 hex



Expanded memory settings cannot be changed once the session has
started.  See the related command, XMS, which displays eXtended
Memory Settings.



NOTE: 	See the ADVANCED.TXT file for more information about
Windows and EMS.

EXCLUSIV[E] {ON or OFF}



The EXCLUSIVE command allows you to display or change the
ability of the current DOS session to claim 100% of the PC's
central processing unit (CPU) time, when the DOS session is
running full-screen.



Typing EXCLUSIVE by itself displays only the message "Exclusive
ON" or "Exclusive OFF," whichever setting is in effect.



EXCLUSIVE ON immediately suspends any programs that may be in
the background, including Windows itself. Windows maintains a
small segment of memory to look for signs that you are closing
or switching away from the current DOS session (with Alt+Tab or
Alt+Esc, for example). This can cause communications programs in
the background to lose data or their connection with another
computer system. Don't use EXCLUSIVE ON if you want such
communications programs to continue to run in the background.



EXCLUSIVE OFF returns the DOS session to the Foreground and
Background settings that are already set in the PIF file for
that DOS session. Applications in the background, including
Windows, begin receiving time again.



NOTE: When a full-screen DOS session is windowed -- as with the
key combination Alt+Enter -- it does not run in Exclusive mode,
regardless of the Exclusive setting. A windowed DOS session,
which is possible only in Windows 386 enhanced mode, gets only
as much time as Windows allows it and all other applications.



ISWIN



The ISWIN command sets the DOS Errorlevel, depending on whether
Windows is running or not. If you are in a DOS session under
Windows, ISWIN sets the Errorlevel to a value of 3 to indicate
that Windows 3.x is running. If Windows is not running, ISWIN
sets the Errorlevel to a value of zero (0).



Certain DOS commands -- such as CHKDSK/F, ASSIGN and FASTOPEN --
should not be used if Windows is running. (See the sections on
DOS Commands Modified and Disabled later in this document.) You
can use ISWIN to test for this in a batch file, and avoid using
dangerous DOS commands if Windows is running. For example, the
following short batch file, ASSIGNAB.BAT, avoids assigning
floppy drive A: to the letter B: (as you would do to install
software in drive B: that recognizes only drive A:) if Windows
is running:



	ECHO OFF

	ISWIN

	IF NOT ERRORLEVEL 3 ASSIGN A=B



This batch file keeps the command ASSIGN A=B from running under
Windows, because the condition "If the Errorlevel is not 3 or
higher" is FALSE when Windows is running. But it would be better
to inform the user as to why the command did not work.
Therefore, the following batch file would be another, better way
to handle this:



	ECHO OFF

	ISWIN

	IF ERRORLEVEL 3 GOTO UNDERWIN

	ASSIGN A=B

	GOTO END

	:UNDERWIN

	ALARM 1 "You must exit Windows before running Assign"

	:END



You can, of course, substitute for "ASSIGN A=B" any DOS command
or application that you don't want to run under Windows.







PIF





The PIF command displays the Program Information File settings
for the current DOS session.



Following is an example of the PIF command display:



DOS Session ID #   2

Exec Cmd. = C:\WINDOWS\EDOS\BIGDOS.PIF

Program = C:\COMMAND.COM

Command Tail =  /E:512

Work Directory = C:

DOS Required= 128K, Limit= 640K, Locked=?

EMS Required=   0K, Limit=   0K, Locked=N

XMS Required=   0K, Limit=   0K, Locked=N

Text Emulate

No Trap Text

No Trap Low Res Graphics

No Trap High Res Graphics

Video Text Mode=16k

Retain Allocation

VDD Bits = 009F  , VM Status        00006000

Video Type = VIDEOVGA

=====================================







This information is primarily intended for programmers and
advanced users who need control over a variety of PIF settings.
An explanation of each PIF setting is available in the Windows
manual. Or you can run the Windows PIF Editor, place the cursor
in an option box and press F1 to display Help on that option.





PRIB {priority}



The PRIB (Priority Background) command allows you to display or
change the Background Execution priority of the current DOS
session.



Typing PRIB by itself displays the current Background Priority.



Typing PRIB followed by a number, such as PRIB 200, sets the
Background Priority for the current DOS session to that number,
regardless of the PIF setting for that session. The Background
Priority of a DOS session can be any number from 1 to 10000. 
(10000 is a special, high priority flag)



If you increase a DOS session's Background Priority to 10000, it
theoretically gets all CPU time from Windows until the DOS
application becomes "idle." Then, Windows starts giving some
time to other applications in the background. The amount of time
Windows actually gives a DOS session set to 10000 varies
depending upon the application.



A DOS session's Background Priority can be reduced to zero
(totally suspended when in the background) by using the EDOS
command BACKGROUND OFF. You can also set  Background Execution
off in the DOS session's PIF file, or by using the System menu
while the DOS session is windowed. When you turn the Background
Execution box off, using any of the methods, Windows ignores the
DOS session's current setting for Background Priority.



PRIF {priority}



The PRIF (Priority Foreground) command allows you to display or
change the Foreground Execution priority of the current DOS
session.



Typing PRIF by itself displays the current Foreground Priority.



Typing PRIF followed by a number, such as PRIF 2000, sets the
Foreground Priority for the current DOS session to that number,
regardless of the PIF setting for that session. The Foreground
Priority of a DOS session can be any number from 1 to 10000. If
you increase a DOS session's Foreground Priority to 10000, it
theoretically gets all CPU time from Windows until the DOS
application becomes "idle." Then, Windows starts giving some
time to other applications in the background. The amount of time
Windows actually gives a DOS session set to 10000 varies
depending upon the application.



A DOS session's foreground priority can be increased so no other
applications will run at all in the background by using the EDOS
command EXCLUSIVE. You can also set the Exclusive Execution box
on in a DOS session's PIF file, or using the System menu while
the DOS session is windowed. When you turn the Exclusive
Execution box on, using any of the methods, Windows ignores the
DOS session's current setting for Foreground Priority, and gives
the DOS session all CPU time while it is running full-screen.





SLICE {millseconds]



The SLICE command allows you to display or change the Minimum
Time Slice that Windows uses when allocating time to DOS
sessions and the Windows System session.



Typing SLICE by itself displays the current setting for Minimum
Time Slice. (Windows currently defaults to 20 milliseconds --
0.020 seconds or 1/50th of a  second -- unless you change it.)



Typing SLICE followed by a number, such as SLICE 10, changes the
Minimum Time Slice to that number, in milliseconds. You can
seriously slow down the performance of Windows and DOS sessions
if you set the Minimum Time Slice too high or too low.



Windows uses the Minimum Time Slice to make sure that each
session gets enough time to do meaningful work before Windows
switches the CPU to some other application. A Minimum Time Slice
of 20 means that each application gets at least 1/50th of a
second before Windows switches away from it.



On a 386-based PC or higher, applications may not need this long
to get useful work done. This is particularly true if only one
application is doing any meaningful work at a time (no
applications are, say, printing in the background).



You may get better overall performance by changing Minimum Time
Slice to 15, 10, or 5. You can test the effect of your change by
using the BOXTIME command to see how much CPU time your DOS
sessions are getting from Windows.



The Minimum Time Slice setting can also be changed through the
Control Panel's 386 Enhanced dialog box. The icon for this
dialog box only appears in the Control Panel if Windows is
running in 386 enhanced mode.





STATUS

STATUS /L

STATUS /V

STATUS/X



The STATUS or (EDOS) commands displays the status of all Windows
and DOS sessions, in various levels of detail.



Typing STATUS by itself displays brief information on the
current DOS session, as well as the session in which Windows
itself is running. The information shown includes the current
PIF settings for Foreground and Background Priority, Background
and Exclusive Execution, Memory in Use (Mapped) and Memory
Available (Not Mapped).



STATUS/L lists this information for all the sessions currently
running. This includes any other DOS sessions that are running,
in addition to the one in which the command was typed.



NOTE:	EDOS itself starts a tiny, invisible DOS session, which is
necessary to enable EDOS features. For this reason, you will
always see at least one DOS session other than the one you are
currently using. The invisible EDOS session is identified as ID
#1, while the Windows session is always ID #0. Therefore, your
current DOS session will be numbered ID #2 or higher.



STATUS/V is a verbose listing, which displays all status
information. This display is intended only for programmers or
advanced users, and looks similar to the following:

Enhanced DOS for Windows Version 3.50E

Free Memory: No Lock or Fix=   17676K, Lockable=    5988K

Swap File Size=   8192 K, Type= DOS/BIOS

Total Paging Mem= 27632K, Free =  17676K  In Use Total=  9956
Kc, Contig=Y

Windows Physical Memory Total=  7668K, Free=  1676K

Physical UnLocked(in use)=   4340Kc, Unlocked=    6016K

Real Physical Memory Base=   640K, Extended=  7552K, Total = 
8192K

EMS Free=    0K, EMS Total=    0K, Page Frame Address= E000 hex

PageOutCount=   1 

Xlate Buffer Segment= D900hex, Size    8192 bytes. First DOS
Segment=2200h

Global Min. Time Slice=   5 ms.



Current DOS Session

Background=N,   Exclusive=N

Foreground Priority=1000, Background Priority=  100, CPU Time=
100%





Perhaps the most important information in this verbose listing
is the Windows Physical Memory Total and Free. Physical Memory,
which in this example is 7668K, is the total amount of RAM
(conventional and extended) that Windows has to run programs in.
Free memory is the amount of this physical memory that is left
for Windows to open more programs or data. When free memory
falls to zero, Windows is forced to use hard disk space (virtual
memory) to satisfy all requests to open more programs or data.
This seriously slows performance.



STATUS /X indicates whether EDOSLIB is installed, loaded and
working.





SYSTIME



The SYSTIME command begins and ends a timer that tells you how
much clock time has elapsed.



Typing SYSTIME the first time sets a system-wide timer to zero.
Typing SYSTIME a second time displays the elapsed time
system-wide. (This is the same time you would see on a wall
clock.) The elapsed times are displayed in milliseconds. One
millisecond is 1/1000 of a second. To convert milliseconds to
seconds, if desired, place a decimal point three places from the
right end of the number.



A related, and more powerful command, is BOXTIME. BOXTIME
measures elapsed system time, plus measures the time that the
current DOS session received from Windows -- in milliseconds and
as a percentage of total system time. See the description of
BOXTIME earlier in this document.



XMS



The XMS command displays the eXtended Memory Settings in the PIF
for the current DOS session. An example of the display of the
XMS command is as follows:

XMS Required=   0K, Limit=   1024K, Locked=N





Extended memory settings cannot be changed once the session has
started. See the related command , EMS, which displays Expanded
Memory Settings.

DOS Commands Modified Under Windows





EDOS modifies the behavior of a few DOS commands for best use
under Windows. EDOS also totally disables some DOS commands,
which are described later in this document in the section "DOS
Commands Disabled Under Windows." The modification, and the
reason for each, is described below.





CHKDSK



The command CHKDSK /F is not allowed to run. Other uses of
CHKDSK are not modified.



CHKDSK /F scrambles open files under Windows.





DATE



The system date is displayed, but cannot be changed from the
command line.



The system date should always be changed using the Windows
Control Panel's Date/Time dialog box (when Windows is running).
This prevents Windows applications from becoming confused.





MEM



When EDOS is running, the MEM command provides additional
information that is not displayed by the MEM command in DOS 4.x
and 5.x. The most useful information in this display is Windows
Physical Memory Total and Free. When Free falls to zero, Windows
performance slows significantly, as requests to open more
programs or data are forced to use disk space (virtual memory)
instead of RAM. For more information, see the explanation of the
STATUS command earlier in this document. 



The information displayed by the EDOS MEM command is similar to
the following:





Windows Memory Information

Total Paging Mem= 27632K, Free =  17548K  In Use Total= 10084
Kc, Contig=Y

Windows Physical Memory Total=  7668K, Free=  1608K

Physical UnLocked(in use)=   4404Kc, Unlocked=    6012K

Real Physical Memory Base=   640K, Extended=  7552K, Total = 
8192K

DOS Memory Information



    655360 bytes total conventional memory

    655360 bytes available to MS-DOS

    512720 largest executable program size



         0 bytes total EMS memory

         0 bytes free EMS memory



   7733248 bytes total contiguous extended memory

         0 bytes available contiguous extended memory

         0 bytes available XMS memory

           High Memory Area in use





Print Screen



Under EDOS, pressing the Print Screen (PrtScr) key in a DOS
session always prints the DOS screen to the printer on LPT1.
Under Windows, pressing Print Screen in a DOS session only
copies the screen into the Windows Clipboard, and does not print
anything.



If you wish to copy the screen of a DOS session into the
Clipboard, press Alt+PrintScreen, which copies all text of a
full-screen DOS session into the Clipboard. If the DOS session
is windowed, Alt+PrintScreen copies the DOS session screen into
the Clipboard. It can then be pasted into other Windows
applications.



NOTE: 	The behavior of Print Screen can be changed. See the
EDOSPrtScr switch.

TIME



The system time is displayed, but cannot be changed from the
command line.  The system time should always be changed using
the Windows Control Panel's Date/Time dialog box (when Windows
is running). This prevents Windows applications from becoming
confused.

WIN



The WIN command takes you back to Windows desktop.DOS Commands Disabled Under Windows







EDOS disables the following DOS commands while Windows is
running. These commands have negative effects if used in a DOS
session under Windows. In some cases, these commands work fine
as long as they are used before Windows is started, but not in a
DOS session. It is still possible for a user to run some
commands that have been disabled in this way. For example, if
you include a complete path in front of the command (as in
C:\DOS\CHKDSK /F) it usually will run.



If you wish to prevent this absolutely (instead of guarding
against casual errors, as EDOS is designed to do), contact the
publishers of EDOS for a copy of WINSAFE. This utility traps the
actions of commands such as CHKDSK /F, instead of watching the
command line for disabled commands.



APPEND



AP PEND makes the contents of one directory appear to actually
exist in whatever is the current directory. This is useful for
programs that do not recognize multiple directories.



Unfortunately, APPEND works only for disk reads. Programs that
write data may write it into the incorrect directory. APPEND
confuses Windows as to the actual location of directories. This
command should not be used while Windows is running.





ASSIGN



ASSIGN changes one drive letter so it appears to be another
drive letter. The command ASSIGN A=B, for example, makes
commands to drive A: actually occur to drive B:. This is useful
when installing software in drive B: that does not recognize
floppy drives other than A:.



This command confuses Windows about the true drive letters in
use on a PC. This command should not be used while Windows is
running.







CHKDSK /F



CHKDSK /F is used to "fix" files that are corrupted. But under
Windows, it actually corrupts files that are currently open, as
several files may be when Windows is running.



CHKDSK /F  is disabled, but other uses of CHKDSK are not
modified.





DOSX



DOSX.EXE is very dangerous to run from inside Windows. It can
cause corruption of your disk and GREAT DAMAGE. Be very careful
that you don't accidently run it from Norton Desktop or similar
shell, such that you have it selected and then bump the enter
key. Suggest that if you do not run Windows in Standard mode
that you delete DOSX.EXE from your disk. DOSX has been added to
the list of commands disabled by EDOS.





FASTOPEN



FASTOPEN provides small buffers for directory reads. These
buffers confuse Windows. This command should not be used while
Windows is running.





FDISK



FDISK partitions a hard drive, erasing all data on it. This
command obviously should not be used while Windows is running.







FORMAT



The FORMAT command erases both hard disks and floppy diskettes.



Formatting diskettes should be done using the Windows File
Manager, which does not allow accidental formatting of hard
disks. Formatting hard disks should not be done while Windows is
running.



JOIN



The JOIN command makes a directory on one drive appear to
actually be a directory on another drive. This is useful for
programs that can change directories but not drives.



JOIN confuses Windows as to the actual location of directories.
This command should not be executed after Windows is started.



RECOVER



RECOVER is intended to be used only on disks that are severely
corrupted. It cuts files into small sectors and renames them
FILE0001.REC, FILE0002.REC, and so on. This is useful if a disk
is so corrupted that data can be recovered only be examining
every sector manually and recombining the files.



This command should not be used while Windows is running, and
has almost no legitimate use by PC users.



SUBST



The SUBST command makes the contents of one directory appear to
actually be in the root directory of another drive letter
(usually a nonexistent hard drive letter). This is useful for
programs that cannot change directories but can change drives.



SUBST confuses Windows as to the true location of directories.
It should not be executed  after Windows is started..

Disabling Other DOS Commands



It is possible to use EDOS to disable up to 20 DOS commands 
under Windows, in addition to the ones described above. This is
accomplished by adding a line to the [edos] section of the
SYSTEM.INI file, as described in the section "[edos] Settings in
SYSTEM.INI" elsewhere in this document.



For example, The SELECT command is used by some versions of DOS
to format a hard disk and install the DOS "hidden files," in
preparation for the full installation of DOS itself. Other
versions, notably 4DOS, do not use SELECT in this way.
Therefore, it has not been crippled by EDOS. You, however, might
choose to do so.







[edos] Settings In SYSTEM.INI





Several settings may be customized in the [edos] section of the
SYSTEM.INI file. Ordinarily you will not need to set any
switches. The information is provided only in the interests of
completeness.  Unless otherwise noted, you can use True or 1 to
turn a feature on and False or 0 to turn a feature off.



There are also several SYSTEM.INI switches intended for tracking
down bugs in Windows. These switches are not documented in the
manual, but are available if you need technical support.When
EDOS is installed, switches are set as follows:



[edos]

EDOSAltF4=TRUE

EDOSPrtScr=TRUE

EDOSInbrdPC=FALSE

EDOSCommand=





These statements are not case-sensitive. Changes can be made to
these settings with any text editor (such as Notepad or DOS5 
EDIT), but not with word processors that save files in special
non-text formats.





DOSPromptExitInstruc=



DOSPromptExitInstruc=False	 will disable the exit to windows
message that displays in every 			DOS session in Windows 3.1.





EDOS640KPlus=



EDOS640KPlus=True	Enables 704k and 736k DOS sessions.



EDOS704KPlus=



EDOS704KPlus=True	Enables 736k DOS sessions.



NOTE: 	DOS sessions over 640k cannot run applications in
graphics mode, since they are stealing memory needed for graphic
display.



EDOSAltF4=



The EDOSAltF4= statement controls whether EDOS closes the
current DOS session when Alt+F4 is pressed, as Windows does with
Windows applications. To disable this behavior, and force DOS
sessions to be closed by typing EXIT, change TRUE to FALSE.





EDOSCommand=



The EDOSCommand= statement is used to disable DOS command lines
from executing while Windows is running. For example, to disable
the command "SK" (in order to disable Sidekick from running
under Windows), add a line as follows:

[edos]

EDOSCommand=SK



Similarly to disable both Sidekick and the Norton Utilities the
following EDOS Commands would be used.



EDOSCommand=SK

EDOSCommand=NU



It is still possible for a user to run some commands that have
been disabled in this way. For example, if you include a
complete path in front of the command (as in C:\DOS\CHKDSK /F)
it usually will run. If you wish to prevent this absolutely
(instead of guarding against casual errors, as EDOS is designed
to do), contact the publishers of EDOS for a copy of WINSAFE.
This utility traps the actions of commands such as CHKDSK /F,
instead of watching the command line for disabled commands.



NOTE:	Up to 20 commands can be disabled.

EDOSCtrlP=



EDOSCtrlP=False	Disables CTRL+P which allows for copying screen
output to the 			printer.

EDOSDisable=



EDOSDisable=0	disables/enables EDOS loading.  True and False
cannot be used for 			this  command. Use 0 or 1.

EDOSExecWinApp=



EDOSExecWinApp=True	Enables executing Windows applications from
the DOS command 			line.  

EDOSFaultFlag=



EDOSFaultFlag=True	Enables ring zero fault messages

EDOSHookFatalOK=



EDOSHookFatalOK=True	Enables default fatal error message.



EDOSNumMsg=



EDOSNumMsg=n	Number of alarms allowed. The default is 1. Do not
increase.

EDOSPrtScr=



The EDOSPrtScr= statement controls whether EDOS sends the
current DOS screen to the printer on the LPT1 port when the user
presses the PrintScreen key.



To disable this behavior, change TRUE to FALSE. This sends the
current DOS screen into the Windows Clipboard, without printing
it, when the user presses the PrintScreen key. This is the same
behavior Windows exhibits when EDOS is not running at all.



Ctrl+P in full screen or windowed mode is not effected by this
option. Ctrl+P toggles on and off printing of text displayed or
typed on the screen.



EDOSReserveB0=



EDOSReserveB0=True	Enables/disables global reserving of
B000-B7FF 



NOTE: 	Try setting to False if over 704k won't work.

EDOSWarnShare



 EDOSWarnShare=True	Enables Share Warning Message at startup

How Setup Works





Windows 3.1 and DOS 3.30 or higher must be running  when you
install EDOS.



To install EDOS, place the EDOS diskette in floppy drive A: or
B:. Click the File menu in Program Manager (or any Windows
"shell" program), then click Run. Type the following command
line and press Enter:



A:\SETUP     or      B:\SETUP



EDOS is run by placing the command EDOS in the DRIVERS= line of
the [boot] section of SYSTEM.INI, and the line EDOS=EDOSLIB.DLL
in the [drivers] section of SYSTEM.INI as follows:



[boot]

drivers=EDOS {other drivers here}



[drivers]

EDOS=EDOSLIB.DLL



These steps are performed automatically by the EDOS Setup
program. It is not necessary for you to change these lines. This
description is provided solely for your information.



NOTE:	EDOS Setup automatically creates a DOS Session group
window in the Windows Program Manager. If the Program Manager is
not running when you install EDOS, this group may not be created
and EDOS' five DOS Session icons will not be inserted into that
window.



Setup Log



The setup program keeps a log of system changes that it makes in
a file called "INSTALL.LOG." You can review this log to
de-install EDOS or general trouble shooting. All files from the
install are put in the \WINDOWS\EDOS subdirectory.



QEMM



Setup will warn if you have QEMM installed. It and other similar
memory managers should exclude the space from B000-B7FF from
their use. Don't use the NX switch, if you want DOS sessions
greater than 640k.

SHARE



The "Share is not loaded message" should be ignored in a network
environment. If you receive sharing violations when you have
share installed, run SHARE /?, to see the options. Suggest that
you make /F:4000 or more and /L:200.  If share is loaded, you
will not be able to run a Windows app from the command line, if
it is already running.



SCSI Drives



Some SCSI drives from DPT, Future Domain and Western Digital use
some address space near 639k. Such use will prevent your
creating oversize DOS sessions(over 640k). Two of these
manufacturers have a device driver that will move this to an
Upper Memory Block(UMB). Contact your driver manufacturer for
details.  



Stack Space



The stack space in a DOS session is only about 4900 bytes. If
you get message boxes that refer to WINOLDAP failing, this may
be stack overflow. In some cases stack overflow can occur and
and damage the data segment without actually hitting the end of
the segment. This could result in an error condition that is NOT
an OBVIOUS stack problem. There is a utility on the disk
"stacksiz.exe" that will change the DOS session stack to about
8100 bytes. If you use it, it will prompt you with instructions
for it's proper and safe use. EDOS also has code that checks
whenever a DOS session terminates to see if the session EVER
came within 300 bytes of using ALL the stack space. If this
occurs you will receive a message box to that effect. Contact
EDOS tech support for instructions OR use the stacksiz utility
yourself.





Print Drivers



You should install the "Generic / Text Only" printer driver,
that the "print clip" menu item will use, if available. This
menu item also requires that the print spooler be enabled, if it
is to work.



50/25 Line Display



The 50 and 25 line menu items do not change lines correctly with
all VGA display adapters. In addition, there are dumb screen
switchers similar to "MODE CON: lines=50". Because of this,
changing screen lines does not always result in a screen "that
will make you burst with pride".



The Files That EDOS Installs



EDOS installs most of its files into a sub directory under the
main Windows directory (the directory that contains WIN.COM,
WIN.INI, etc.). In this location, it is easy to locate the files
on the DOS Path, but they do not interfere with future updates
to Windows itself.



Additionally, the files EDOSEXIT.COM, ISWIN.COM and CLIPBOAR.COM
are installed in the main Windows directory, but can be
relocated as long as they are in a directory on the DOS Path.







The following is a list of all files EDOS installs to your hard
disk:





Installed in Windows directory



ISWIN.COM	External command to detect Windows.

CLIPBOAR.COM	External command to view Clipboard text.

EDOSEXIT.COM	Returns exit codes from internal EDOS commands.











Installed in EDOS directory



!DOSMEM!.COM	Used by oversized DOS session PIFs.

BIGDOS.PIF	PIF file that establishes a 640K DOS session.

DOS128.PIF	PIF file that establishes a 128K DOS session.

DOSSMAL.PIF	PIF file for the smallest possible, 64K DOS session.

EDOS.386**	Enhanced DOS for Windows virtual device driver.

EDOS.INI	Copy to Windows directory to change EDOS defaults.

EDOS704K.PIF	704kb  DOS session.

EDOS736K.PIF	736kb DOS session.

EDOSLIB.DLL**	Dynamic Link Library (DLL) device driver.

EDOSDIS.EXE	Disable/Enable loading EDOS.

EDOSLIB.HLP	Help file for EDOS library. Uses WINHELP.EXE.

EDOS.HLP	Installation and general information Help file.

TESTEDOS.BAT	Batch file to demonstrate and test EDOS.

VERIFY.EXE	Verifies correct installation of EDOS.

STACKSIZ.EXE	Stack size changer.

E704KBAT.*	704kb PIF and batch files

SYSTEM.EDB	Backup of SYSTEM.INI.







Batch Files Used to Test EDOS Functions



TESTEDOS.BAT

TSTISWIN.BAT

TESTALL.BAT



Batch FIles to De-Install EDOS



KILL.BAT	Removes old, unused EDOS files from previous versions.

REMOVE.BAT	Deletes EDOS files and directory



** NOTE:	If your hard disk is nearing capacity and you want to
delete files, be careful. You cannot delete EDOSLIB.DLL or
EDOS.386 without totally disabling EDOS functions. You cannot
delete the .BAT, .COM, and .PIF files without losing their
functionality. You can, however, delete the .HLP files and .WRI
files after printing them. This will eliminate on-line
documentation, of course.

The following files are not installed, but are available on
diskette if needed:



B:\



EDOS.EXE	Starts a small Windowed DOS session.

EDOS.TXT	Basic how-to-install and troubleshooting information.

SETUP.EXE	Installation and setup program for EDOS.

METER.DLL	Windows 3.x library used by SETUP.EXE

SETUP.INF	Information needed by SETUP.EXE.

DRWATSON.EXE	Windows diagnostic tool.

MEM.COM	Use with DOS 3.3, to prevent bad command message.





B:\SHARE - Documentation on Share

DOS4XX.TXT

SHARE.MSG

SHARE1.TXT

README.TXT



B:\SYSTEM



COMMDLG.DLL	User installable replacement dialogs



This file contains templates and code that generate the common:
OPEN, SAVE, SAVEAS, etc. dialog boxes. We have enclosed a
special version for you. In the January 18,1993 issue of
InfoWorld, Brian Livingston's column discusses improvements to
COMMDLG.DLL. The file that we have provided you incorporates
improvements suggested in his  article. Note: that EDOS uses
almost the same identical dialog boxes for PICK/NEW. These
improvements are IMPRESSSIVE. Enjoy!



To install COMMDLG.DLL, copy the file from the diskette, in the
system subdirectory, to your Windows\system subdirectory. You
might want to make a backup copy of COMMDLG.DLL (ie.
COMMDLG.OLD). Before you copy in the new version. To test the
new dialog box. Run Windows Write.EXE and choose FILE/OPEN.
Notice the improvement. Hooray for Brian Livingston! What a
suggestion.



After this is done, ALL dialog boxes that use COMMDLG.DLL, will
have the NEW LOOK. After you have tried this, you may want to
soup your car up too, using 100 octane aviation fuel. DON'T! 











B:\V86_API - Programmers Test Programs and Source Code





TESTV86.COM	Demonstrates DOS programmer's API. message box.

TESTV86.ASM	Programmer's API source code.

TSTWINEX.COM	Demo running a Window's Application.

TSTWINEX.ASM

README.TXT




E704KBAT.PIF



E704KBAT.PIF, is a sample pif for a an oversize DOS session that
runs a batch file. E704KBAT.BAT just prompts you to enter a key,
but it could be any other kind of batch file. It ends by
starting up %COMSPEC%, so that you end up in command.com.



EDOS.INI



EDOS.INI contains the following line:



libhelp=\edos\edoslib.hlp



When EDOS finds an EDOS.INI file, these lines indicate that
EDOSLIB and EDOS Help reside in subdirectories under the main
Windows directory. You can hard-code these lines so these files
can reside in other directories -- perhaps on a network.



Reinstalling EDOS Over a Beta Version



If you have an old or shareware version of EDOS (prior to EDOS
Version 3.0), do the following:



1. Remove the EDOS Control icon from your DOS Session group
window.



2. Examine WIN.INI with a text editor for mentions of EDOS.EXE
or EDOSLIB.EXE and remove them.



3. Remove EDOSCTL.EXE from the LOAD= or RUN= lines of WIN.INI,
and delete this file from your hard disk. EDOSCTL.EXE and
EDOSLIB.EXE should never run at the same time.



EDOS Setup should take care of the above steps for you
automatically. But taking these steps prior to installing EDOS
will eliminate several dialog boxes and prevent potential errors.



How To Remove EDOS



If you need to remove or un-install EDOS for any reason, you can
easily do so by following these steps:



1. To immediately disable EDOS from affecting Windows or your
DOS sessions:  



Comment out the device=edos.386 line in the [386enh] section of
SYSTEM.INI. Remove the word "EDOS" from the DRIVERS= line in the
[boot] section of SYSTEM.INI, and remove the line
EDOS=EDOSLIB.EXE from the [drivers] section of SYSTEM.INI. (You
can comment out lines in WIN.INI and SYSTEM.INI by placing a
semicolon at the beginning of the line, if you prefer.)



2. To completely delete EDOS files from your system:



Minimize the DOS Session group window in Program Manage, then
select it by clicking it with a mouse until it's title is
highlighted. Then click File Delete on the Program Manager menu.



Delete the EDOS directory, which is usually in a sub directory
under your Windows directory, then delete the files listed
earlier in this document in the section "The Files EDOS
Installs."

