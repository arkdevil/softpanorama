 %ИМЯ: PU_1700F.COM
 %АВТОP: Юрий Панков, тел (095)400-71 (д).
 %АННОТАЦИЯ: {Драйвер ФОНОВОГО форматирования дискет. Резидент < 8 kb.
  В UMB работает, но грузитсья туда самостоятельно пока не умеет}
 %ВЕРСИЯ: 2.29
 %СТАТУС: Freeware
 %ВЫПУСК: E
 %КАТАЛОГ: UPDATE
 %КЛУБ: ASM
 %ДАТА_СОЗДАНИЯ: 93-94
 %АНАЛОГИ:{ConFormat - в целом, неплохой драйвер, но мой круче и FREEWARE !}
 %ОС: {MS-DOS > 5.0}
 %ОГРАНИЧЕНИЯ: {работает только с контроллером i8272}
 %ИСТОРИЯ: {одна из ранних версий была опубликована в SP}
 %ЯЗЫК_ПРОГРАММИРОВАНИЯ: {MASM}
 %СОММЕNTS: {Работайте на здоровье, возможно скоро появится такой}
  же фоновый копировщик дискет}




               Уважаемые читатели Софтпанорамы !
                 Вашему вниманию представлены:


- PU_1700F.COM - новая версия драйвера  ФОНОВОГО форматирования
                 дискет стандартных и "нестандартных" форматов.
                                     Версия 2.29 от 19.04.94 г.

                           и к нему:

- PU_1700F.BIN - оригинал BOOT-сектора дискеты.  "Медики" могут
                 заменить его на любой другой.
- PU_1700F.DOC - необходимая документация



                      Уважаемая редакция!

     Прошу обратить Ваше внимание на то,  что я предоставляю Ва-
шему вниманию в третий раз драйвер ФОНОВОГО форматирования  дис-
кет, а не "форматтер дискет ...", создание которого не интересно
и не составляет особого труда!
     Вообще-то подобые  комментарии  к  моим программам бывали и
прежде. В конце 80 ых годов я работал в одной крупной, наполови-
ну совковой фирме. В то время я уже успел написать драйверы обс-
луживания клавиатуры и дисплея,  потратив на это уйму сил и вре-
мени.  Так  вот  один  из дебилов этой организации так в ту пору
рекламировал мои изделия:  "У нас Юрий Иванович написал програм-
му,  которая  меняет буквы на экране дисплея - сейчас он Вам это
покажет ...".  Уже в 90-ые годы: "... сейчас на машине Юрия Ива-
новича  происходит информатизация дискеты ...".  Ну что по этому
поводу можно сказать - дебил и есть дебил. А вот как это соизво-
лите понять:
     94 год, Софтпанорама 62 - "форматтер дискет..."



                Уважаемые читатели Софтпанорамы!

     "Крутым коммерсантам", пытающимся продать свои самые первые
в жизни "изделия" (первый блин он всегда первый!),  я всегда со-
чуствую,  и только поэтому они могут без ущерба для своего  здо-
ровья пропустить чтение данной статьи до ее самого конца!
     Для остальных  же:
     Этот драйвер распостраняется свободно,  бесплатно, без вся-
ких ограничений, но только не в коммерческих целях.
     Хаккерам:
     В этом драйвере реализован оригинальный  алгоритм  создания
программ. "За бугром" его часто называют методом таблиц решений.
Я чаще всего называю его методом контекстных таблиц решений. Во-
обще-то  "ноги" его растут из лексического анализа.  В несколько
ином (улучшенном мною и очень красивом) виде я использую его уже
лет 15. Метод позволяет достаточно быстро реализовать надежные и
полные алгоритмы.  Суть его состоит в том, что основной алгоритм
работы программы, а точнее его полная диаграмма состояний (почти
Мура) и описание работ-переходов  "зашивается"  в  некие  (очень
компактные) контекстные  таблицы  - константы и составляется на-
дежная программа обработки последних.  ...  Попробуйте  расковы-
рять, не пожалеете.  Это будет только самое начало,  т.к. к сему
я, например, почти полгода писал макрокоманды для генерации син-
таксических и этих самых компактных таблиц (вот эта генерация по
существу и есть суть моего метода).  ....  Тоже самое можно сля-
пать на СИ или Паскале, но такой красоты уже не будет!

     А теперь по делу:
     В этой,  все  еще  далекой от совершенства версии драйвера,
учтены только некоторые Ваши замечания и предложения. Я по преж-
нему  хочу  обсудить  дальнеейшее развитие PU_1700F на страницах
Софтпанорамы. Поэтому от всех, кому понравится этот драйвер, жду
КОНСТРУКТИВНЫХ предложений на ее страницах,  по поводу того, ка-
ким бы им хотелось его видеть. Каким бы они хотели видеть диалог
с пользователем,  если видеомонитор работает в графическом режи-
ме?  Нужна ли фоновая индикация текущего состояния фонового про-
цесса и в каком виде.  И т.д. и т.п.. И все Ваши мною обобщенные
предложения я постараюсь реализовать в последующих версиях драй-
вера.
     Например, в версии 2.07 я ввел параметр /C7205=2 по  прось-
бам пользователей ЕС1840. Говорят, что "1840" не работает с фор-
матами дискет типа 720 килобайт,  у которых кластер  состоит  из
одного сектора - так мне об этом сообщили из ближнего зарубежья.
Сам я этого не видел и проверить это мне  негде.  Но  все  равно
ввел  возможность установки размера кластера в 2 сектора.  Рабо-
тайте на здоровье!  Возможно,  что подобный параметр нужен  и  в
PU_1700 ? А может вообще ввести глобальный параметр /C= ?
     Также, по замечаниям первых пользователей драйвера, введено
распознавание  смены формата носителя в дисководе после фонового
изготовления дискет. Помечены синим цветом т.н. стандартные фор-
маты носителей. Заметно уменьшена резидентная часть драйвера (до
7.5 kb).  Последние версиии драйвера имеют необольшую  подсказку
при запуске.  Я очень много времени затратил на звуковую индика-
цию,  особенно  на  ее переделку,  но по многочисленным просьбам
пользователей драйвера ввел параметр /Ns !
     Можете оценить  первую  реализацию  предложения  Миши  Лав-
реньтьева  о  непрерывном процессе форматирования дискет (/m=ML,
/Tr=nnn /wML=E и /b=Y ) и выхода из него по "ключевому  нажатию"
или по параметру /wML=E.  ML режим работает даже, если Ваш мони-
тор работает в графическом режиме.  Последнее означает, что про-
цесс  форматирования  дискет уже можно проводить на фоне практи-
чески с любого прикладного пакета и даже любимой Вами игры!
     Можете оценить также первую реализацию  предложения  БНН  о
запуске  непрерывного процесса фонового форматирования дискет из
командной строки минуя всякие меню  (/F=Drv:N[:C]),  с  заданием
основных  параметров формата непосредственно из той же командной
строки.

     И последнее.  При  работе с меню выбора формата имеются до-
полнительные, нигде не описанные возможности:
     - нажатие на клавишу "A" во всех меню эквивалентно  "выбору
       драйвера A";
     - нажатие на клавишу "B" во всех меню эквивалентно  "выбору
       драйвера B";
     - нажатие N формата во всех меню,  эквивалентно выбору дан-
       ного N формата.



           С уважением к Вам             Панков Юрий Иванович
           г. Сергиев Посад                    20.04.94 г.
              (Загорск)                    телефон домашний:
                                              (254)-400-71


