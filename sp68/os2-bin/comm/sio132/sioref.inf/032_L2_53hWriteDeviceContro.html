<HTML>
<HEAD>
<TITLE>53h - Write Device Control Block (DCB)</TITLE>
</HEAD>
<BODY>
<!-- entering slot 32 -->
<P>
            53h - Write Device Control Block (DCB)
<P>
This is where the action is!  See also function 73h (Read DCB).
<P>
Parameter Packet
<PRE>     ┌──────────────────────────────────────┐
     │         Item                Type     │
     ├───────────────────────────┬──────────┤
     │ Write Timeout             │ WORD     │
     ├───────────────────────────┼──────────┤
     │ Read Timeout              │ WORD     │
     ├───────────────────────────┼──────────┤
     │ Flags1                    │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Flags2                    │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Flags3                    │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Error Replacement Byte    │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Break Replacement Byte    │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Xon Character             │ BYTE     │
     ├───────────────────────────┼──────────┤
     │ Xoff Character            │ BYTE     │
     └───────────────────────────┴──────────┘
</PRE>

<P>
"Write Timeout"  The write timeout is given in hundredths of a second, relative
to zero.  That is, 0 specifies 0.01 seconds and 1 specifies 0.02 seconds.

<P>
"Read Timeout" The read timeout is given in hundredths of a second, relative
to zero.  That is, 0 specifies 0.01 seconds and 1 specifies 0.02 seconds.

<P>
"Flags1" is a bit flag.  The bits in the flag specify the following:    Bits
1 and 0     DTR Control Mode.
<BR>
        00 - Disable changing DTR during Open and Close.
<BR>
        01 - Enable Changing DTR during Open and Close.
<BR>
        10 - DTR used for input handshaking (not supported
<BR>
          by SIO).
<BR>
        11 - Invalid
<BR>

<BR>
   Bit 2,   Must be zero
<BR>
   Bit 3,   Off to ignore CTS.  Forced on if RTS is handshake.
<BR>
   Bit 4,   DSR is handshake.  Not supported by SIO.
<BR>
   Bit 5,   DCD required to transmit.  Not supported by SIO.
<BR>
   Bit 6,   DSR required to receive.
<BR>
   Bit 7,   Must be zero.
<BR>

<BR>
─────────────────────────────────────
<BR>

<P>
"Flags2" is a bit flag.  The bits in the flag specify the following:    Bit
0,   SIO is to honor Xon/XOff received from remote.
<BR>
   Bit 1,   SIO may send Xon/Xoff to the remote.
<BR>
   Bit 2,   Enable error replacement character.  Not supported
<BR>
        by SIO.
<BR>

<BR>
   Bit 3,   Enable null stripping.  Not supported by SIO.
<BR>
   Bit 4,   Enable break replacement character.  Not supported
<BR>
        by SIO.
<BR>

<BR>
   Bit 5,   Enable Full duplex.  Half duplex is not supported
<BR>
        by SIO.
<BR>

<BR>
   Bits 7 and 6     RTS Control Mode
<BR>
        00 - Disable changing RTS during Open and Close.
<BR>
        01 - Enable Changing RTS during Open and Close.
<BR>
        10 - RTS used for input handshaking.
<BR>
        11 - Toggle on transmit (half duplex).  Not
<BR>
          supported by SIO.
<BR>

<P>
"Flags3" is a bit flag.  The bits in the flag specify the following:    Bit
0,   Enable infinite write timeout processing.  When
<BR>
        set, a write timeout will not occur.
<BR>

<BR>
   Bits 2 and 1     Read timeout processing
<BR>
        00 - Invalid.
<BR>
        01 - Normal read time out.
<BR>
        10 - Wait for something.  Reads will return before
<BR>
          a timeout occurs if something received.
<BR>
        11 - No Wait.  Reads will return immediately with
<BR>
          any available data.
<BR>

<BR>
   Bits 4 and 3     FIFO Control
<BR>
        00 - No change in FIFO state.
<BR>
        01 - Disable FIFO buffers.
<BR>
        10 - Enable FIFO buffers.
<BR>
        11 - Dynamic enabling and disabling of FIFOS.
<BR>

<BR>
     **Note, SIO forces bits 4 and 3 to "10".
<BR>

<BR>
   Bits 6 and 5     Set receive trigger level
<BR>
        00 - 1 character.
<BR>
        01 - 4 characters.
<BR>
        10 - 8 characters.
<BR>
        11 - 14 characters.
<BR>

<BR>
     **Note, SIO forces bits 6 and 5 to "10".
<BR>

<BR>
   Bit 7        Transmit load count
<BR>
        0 -  Load 1 character.
<BR>
        1 -  Load 16 characters.
<BR>

<BR>
     **Note, SIO forces bit 7 to "1".
<BR>

<P>
"Error Replacement Byte" Not supported by SIO.
<P>
"Break Replacement Byte" Not supported by SIO
<P>
"Xon Character" Any value, default is 11h.
<P>
"Xoff Character" Any value, default is 13h.
<P>
Data Packet - None 
</BODY>
</HTML>
