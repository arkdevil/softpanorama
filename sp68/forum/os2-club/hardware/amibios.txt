AMI BIOS Considerations
Revised July 17, 1992

[Note that Washburn and Associates sells new AMI keyboard BIOS chips
for $15 plus $4 shipping.]

There's been a lot of misinformation on the network AND from IBM
reqarding AMI BIOS compatibility with OS2.

The misinformation from the net comes in the form of well-intentioned
OS2 users that have OS2-compatible AMI BIOS, informing the world that
all is OK with AMI.  The fact is, most user's who have AMI bios will
not experience problems - but there are a few well-defined cases
where older vesions of AMI BIOS are known to cause incompatibilities.

The misinformation from IBM comes in the form of inferences in their
TIPs & TECHNIQUES help file that all AMI BIOS earlier than a certain
date or revision are suspect.  That simply isn't the case - as many
successful OS2/AMI user's will testify.  In addition, IBM technical
support people do not seem to have the following information (at 
least in this writer's experience) - which would go a long way in
acknowledging that there is a problem in certain cases.

Both of the aforementioned cases are unfortunate in that they have
been frustrating user's with real AMI BIOS problems, stalling or
preventing proper corrective action - and ultimately leaving a very
nasty taste for OS/2 and compounding OS/2 reputation problems.  It
is the hope of this writer that this information will allow those
last bastion's of frustrated OS2/AMI user's to get on-board and
start enjoying the power of their newly acquired operating system.

The following information is a copy of a fax provided by Clyde
Washburn of Washburn & Co.  Washburn & Co. has been working with IBM/
Microsoft on AMI BIOS compatibility issues since version 1.1 of OS2.
The fax directly addresses AMI BIOS compatibility guidelines.

According to Mr. Washburn, this information is known by IBM (Boca
Raton), and also resides on CompuServe.

Here is the fax in its entirety:

                              Washburn & Co.
             Distributors of AMI Motherboard and BIOS Products
                  3800 Monroe Avenue, Pittsford, NY 14534
                       716-248-3627  FAX 716-381-7549
					
           CONSIDERATIONS IN THE USE OF THE AMI BIOS WITH OS/2:

                            <Updated 7/8/92>

AMI BIOS's of modern vintage provide a Screen ID code, visible at the
lower left of the screen during the initial RAM count, and which can
be made to return by resetting with Ctrl-Alt-Del, or frozen on-screen
by holding down the <Ins> key at boot to create a Keyboard Error, which
will stop the screen for the error message:

AMI BIOS and AMI BIOS Plus:   aaaa-bbbb-mmddyy-Kc

AMI Hi-Flex BIOS:             ee-ffff-bbbbbb-gggggggg-mmddyy-hhhhhhhh-c

If the screen ID code is in a form other than this the BIOS is either
extremely old, or was produced by a company with a source code license.
In the former case, contact us for update information, but in the latter
case ONLY the motherboard manufacturer will be able to provide further
information or updates.  ALL Everex 386 BIOS's are in this latter 
category.

GENERAL RULES:

1.  If an IDE type hard drive is installed, the date ("mmddyy") should 
    be 040990 or later for use with ANY operating system, DOS included,
    due to the special timing requirements of IDE drives which were 
    accommodated on the date noted.

2.  With any other drive type, such as MFM, RLL, ESDI, or SCSI, OS/2
    may be expected to install and operate correctly if "mmddyy" is
    092588 or later, provided that the Keyboard Controller Revision
    Level is suitable for the version os OS/2 being used.  Note also
    that in the case of SCSI hard drives, a driver compatible with
    the version of OS/2 being installed may be provided by the con-
    troller manufacturer, and if so, a special installation procedure
    may apply.

3.  The Keyboard Controller Revision Levels ("c" in the Screen ID Code
    Examples above) expected to produce proper installation and opera-
    tion are as follows:

       OS/2 1.0 or 1.1:  8, B, D, or F
       OS/2 1.2x:        D or F
       OS/2 1.3x or 2.0: F

4.  If the Keyboard Controller Revision Level shows as 0 or M then the
    Keyboard Controller chip is NOT an AMI chip, even if an AMI License
    sticker was applied to it by the motherboard OEM.  This means that
    its performance under OS/2 is unknown - it may or may not work cor-
    rectly.  In some cases (usually "M") an AMI chip can successfully
    replace a non-AMI chip, but this is NOT a general rule - sometimes
    the non-standard Keyboard Controller (usually "0") was used to com-
    bine motherboard functions not normally part of the Controller, 
    and substituting a standard chip will cause the board to not func-
    tion at all.  In this case there is no solution other than replace-
    ment of the board.  A Revision Level of 9 accompanied by a non-
    standard ID Code also indicates a non-standard controller (and BIOS),
    and the motherboard manufacturer should be contacted for further
    information.


BIOS UPDATES:

If a BIOS prior to the dates noted above requires replacement, note the
following:

1.  AMI BIOS and BIOS Plus series BIOS (16 character ID Code) for CACHED
    motherboards are customized for individual motherboard designs, and
    can ONLY be obtained from the motherboard OEM, with only THREE 
    common exceptions:

    a)  BIOS's with "aaaa" = E307 can often be replaced with a standard type.

    b)  BIOS's for Northgate or Motherboard Factory motherboards EXCEPT 
        the Northgate Slimline can be replaced by a standard type.  Slimline
        BIOS's have the VGA BIOS in the same chips, and can be updated to
        the 040990 release provided that they are identified as being
        Slimline, and the speed is specified (20, 25, or 33 MHz), since
        different VGA code is required for the various speeds.

    c)  BIOS's with "aaaa" = DAMI, DAMX, or EDAMI are usually for cached
        boards designed and/or built by AMI, and if so can be updated.
        Mylex or Leading Technology boards with these prefixes can ONLY
        be updated by the board manufacturer.

2.  The complete Screen ID Code is required to properly address whether
    a BIOS update for other motherboards can be provided, and in the 
    case of the Hi-Flex BIOS the complete SECOND and THIRD lines of 
    the ID Code are also necessary.  If not immediately visible on
    the screen they may be viewed by pressing the <Ins> key during
    boot-up.

                            END OF FAX


P.S:  Well there it is folks.  I hope this file will assist in alleviating
      any nagging questions as to whether it's the BIOS or a system
      setup problem confounding you OS2/AMI users.

      By the way, the fax doesn't mention the symptoms of a bad BIOS
      version - which I suspect are different depending the the
      specific motherboard design (chip set) and the particular BIOS
      version.  But for the benefit of those who have the same con-
      figuration as my machine, perhaps this will save some diagnostic
      time:

           Motherboard:   Aramus 386 33/25 Mhz - Intel discreet logic.
           Keyboard:      Enhanced (101).  Dip switches set to 101
                          mode.  (NOTE:  OS2 or DOS does not work with
                          any other setting.)

           AMI ROM BIOS:  SINT-1185-040990-KD
           AMI Keyboard BIOS revision -KD  (should be -KF for OS2 2.0)
           OS2 2.0 Problems: (not an exhaustive list)

           1.  CAPLOCK and NUMLOCK cause loss of keyboard control. 

           2.  Entering a WINOS2 Session causes loss of keyboard control.
               Setting KBD_RATE_LOCK to ON prevents this problem.

           3.  Selecting Special Needs under the keyboard setup icon
               intermittantly stalls the system.

      I'd suggest that if other users find that a replacement BIOS solves
      a particular problem under OS2, that the net be made aware of the
      version replaced and the symptoms/problems the new BIOS solved so
      that such diagnostic info. can be added to the OS2 FAQ.

      Would the keeper of the OS2 FAQ please take note and
      update the FAQ accordingly.  I don't want to have to
      continually re-post this.

      Wayne Long
-- 
Wayne Long, (512) 891-4649 Fax (512) 891-3818 
6501 William Cannon Dr. W, Austin, TX 78735-8598
cs.utexas.edu!oakhill!wcl -or- uucp!wcl@oakhill.sps.mot.com
