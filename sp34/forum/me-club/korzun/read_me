    16.01.91-17:48                             Корзун  Евгений Георгиевич
                                           МОСКВА  р. 231-07-72  д. 924-52-73

        Мое "выступление" в этом  номере клуба "любителей" Multi-Edit  разбито
  на три части, каждая из которых предназначена для своей "весовой" категории.
        Первая (1-USER) адресована  тем , кто работает с Multi-Edit , не очень
  разбираясь в его внутреннем устройстве. Макросы , приведенные здесь ,  можно
  использовать "as is" , лишь назначив для вызова клавиши в INSTALL- KEYMAP.
        Вторая (2-CONSTR)  может быть  полезна тому,  кто выбрал  Multi-Edit в
  качестве интегрированной среды , или  хотел бы что-то "построить" в  нем для
  себя лично. При этом имеется в виду, что читатель знает ME-SRC язык.
        В третьей (3-DEVELOP) содержится текст, который будет интересен только
  тем , кто занимается деталями внутреннего устройства Multi-Edit .

        ===================================================================
        ------------------------  USER   ----------------------------------
        ===================================================================
        Здесь приведены макросы, которые можно непосредственно использовать  в
  работе.
        Не стану повторять слов о  том, как "запихнуть" назначения макросов  в
  "KEY"-клавишу , поскольку  они повторяются каждым  автором от выпуска  к вы-
  пуску ME_CLUB-а. При описании в <>  скобках указаны те <KEY>, которые я  сам
  использую для работы с  данным макросом (но выбор  - за Вами ).  Через косую
  черту - "/" записаны параметры.

  K_LINE_CENTR  - поместить текущую строку в центр окна   <ShftCNTR>

  K_PG_DN       - переход на последнюю строку следующей/предыдущей страницы,
                полезен при работе с многостраничными текстами :
   ..  переход к следующей странице                        <ShftPgDn>
   ..  переход к предыдущй странице                        <ShftPgUp>   /UP

  K_DSPKEY      - показать код и макрос клавиши            <AltK>

  K_SEARCH_REPL - "захват" контекста из текста в качестве образа поиска/замены
                и вызов поиска/замены .
   ..  поиск слова под/перед курсором                      <CtrlS>
   ..  поиск+замена    --""--                              <CtrlQ>      /R
   ..  поиск блока                                         <CtrlB>      /B
   ..  поиск+замена    --""--                              <CtrlN>      /BR

        ===================================================================
        ------------------------ CONSTR  ----------------------------------
        ===================================================================
        Здесь излагаются некоторые идеи, которые возникли у автора при решении
  об"ективной , на мой взгляд , проблемы повышения комфортности работы.

  1. Использование COMPILE .
     ---------------------
   1.1. Полезной в Multi-Edit может оказаться возможность запуска  компилятора
  (например MEMAC ) , не уточняя режим BIGCOMPILE , т.е. если памяти не хватит
  , то пусть Multi-Edit сам установит BIGCOMPILE и т.д.

        Идея внутренней реализации: если BIGCOMPILE не установлен, то при нех-
  ватке памяти  не рассказывать  об этом  пользователю ,  а временно  зарядить
  BIGCOMPILE и транслировать дальше.

   1.2. Очень полезной в Multi-Edit является возможность выбора компилятора из
  меню , однако это "стоит"  лишнего нажатия ENTER при запуске  COMPILE. Лично
  меня при интенсивной работе это  бесило настолько, что я сначала  просто по-
  вычеркивал все "лишние" типы  , и за это  был вынужден (при потребности  за-
  пуска удаленного типа) лезть в  INSTAL-меню и снова мучиться, вспоминая  па-
  раметры, которые нужны. Выходом  из положения , на мой  взгляд, является
  запоминание "выбора" типа компилятора  и , впоследствии , запуск  запомнен-
  ного типа. Естественно, что должна быть возможность смены выбора, т.е. выход
  на меню.
        Внешняя  реализация   :  стандартная   клавиша  вызывает   COMPILE   с
  автоматическим выбором типа (параметр /SPEC), а в KEYMAP забирается еще одна
  "экзотическая" клавиша для вызова COMPILE с возможностью смены типа.
        Внутренняя реализация :  Значение номера "условно-постоянного"  выбора
  записывается  в  Global_Str('.<EXT>')  отдельным  полем  (/K_#= ) , для изв-
  лечения затем при запуске с автоматическим выбором типа. При вызове  COMPILE
  с параметром  /SPEC производится  попытка восстановить  "прошлый" выбор типа
  компилятора , а без параметра - выход на меню и фиксация выбора.
         Необходимыме дополнения к COMPILE приведены в K_LANG.SRC. Должен при-
  нести свои извинения за то , что не даю его целиком, но я залез в него , что
  называется ,  "по локоть"  , и  там есть  много такого , что Вам  может и не
  понравиться (а главное - связано с изменениями в других системных макросах).
  Так что добавить три  фрагмента в "родной" текст  бует дешевле, чем найти  и
  "выкусить" в моем все лишнее.

   1.3. Запуск из Multi_Edit  программы без выхода  в DOS.
  Конечно, решение этой проблемы возможно в рамках выбора спецрежима COMPILE ,
  но излагаемый подход дает возможность выделить под запуск отдельную клавишу.
        Внешняя реализация: в KEYMAP забирается клавиша для запуска программы.
        Внутрення реализация: Вызывается МАКРО K_BAT , запускающее BAT-файл  с
  именем,  зависящим  от  EXT  файла,  в  окне  которого макрос был запущен. В
  качестве имени выбрано K_ME_<EXT>.BAT ( например для SRC - K_ME_SRC.BAT).
  Запускаемому BAT-файлу в качестве параметров передается :
     параметр 1 - полное имя           файла в окне, где запустили МАКРО
              2 - Drive и путь              -- "" --
              3 - имя без EXT и пути        -- "" --
              4 - EXT                       -- "" --
  Текст , готовый к "употреблению" - в K_BAT.SRC .

  2. Работа с использованием конструирования собственных меню.
     ---------------------
        Лично мне не "хватило" тех  макросов, которые приведены в USERIN.  Для
  тех , кому это покажется полезным , предназначается K_TXMNU.SRC .

        ===================================================================
        ------------------------ DEVELOP ----------------------------------
        ===================================================================

        Здесь приведен  текст системного  макроса MEDEBUG.SRC  , который фирма
  почему-то не  включила в  стандартную поставку  Multi-Edit 4.00Pb  , и , для
  того  чтобы  посмотреть  что  у  него  "внутри" , пришлось его декодировать.
  Вероятно и кроме меня существуют люди с повышенным чувством любопытства.

        -------------------------------------------------------------------

   P.S.
                                28.03.91-11.48

       Описанные выше результаты были  получены для версии ME  4.00PB.
  Часть из них  вполне применима для  версии 5.0 ,  другие нуждаются в
  пересмотре. Приводится макроос K_DSPKEY.SR5, измененный для версии 5.0.

                                                 К.Е.Г.
