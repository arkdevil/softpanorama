		      Пакет программ Russian Pak.
		  -----------------------------------
		      Монитор клавиатуры KEYBMON.
			     Version 2.01H.

0. Основные параметры.

   Количество резидентных раскладок клавиатуры: ................ четыре.
   Количество hot keys: ........................................ восемь.
   Настройка всех hot keys и раскладок: .......................... есть.
   Требуемая оперативная память без учета TCB/LDT: ................ 36K.
   Требуемая версия OS/2: ............................. 2.01 или старше.
   Язык программирования: ................................... MASM 6.01.
   Тип EXE: .................... New Executable mixed 16/32-Bit 386 req.

   Распределение памяти: Код: .................................... 4 KB.
   (округлено на 4K).	 Данные: ................................. 4 KB.
			 Буферы мониторов: ....................... 6 KB.
			 Основной стек: .......................... 4 KB.
			 Стеки цепочек: ......................... 16 KB.
			 -----------------------------------------------
			 Всего : ................................ 36 KB.

1. Монитор  клавиатуры	KEYBMON  предназначен  для  поддержки нескольких
   "нестандартных"  раскладок  клавиатуры  в  Full-Screen  и PM сессиях.
   Основное применение монитора - русификация клавиатуры. (KEYBMON можно
   использовать и для достижения других целей.

2. Монитор   клавиатуры  KEYBMON,   входящий   в   пакет  Russian   Pak,
   поддерживает  четыре  раскладки  клавиатуры	(LAYOUTS)  плюс  базовую
   раскладку OS/2.  Любая раскладка  может быть  активизирована нажатием
   какой-либо "горячей" клавиши. Всего имеется восемь "горячих"  клавиш,
   определяемых пользователем.	В текущей  версии нельзя  переопределить
   некоторые системные комбинации клавиш OS/2, типа Ctrl-Alt-Del,  Print
   Screen или Ctrl-Alt-NumLock дважды,	а также комбинации из  более чем
   одной нешифтовой клавиши.

      Каждая  раскладка  клавиатуры  базируется  на  четырех   таблицах,
   определяющих перекодировку клавиатурных  скан-кодов в символы  ASCII.
   Состояние  клавиш  Caps  Lock  и  Shift  определяет, какая из четырех
   таблиц  будет  активной.  Наличие  четырех таблиц позволяет управлять
   чувствительностью клавиш к CapsLock и определять произвольные правила
   UpperCase преобразования.

3. Раскладки клавиатуры и "горячие" клавиши описываются в файлах особого
   формата,  которые  могут   быть  оттранслированы  в	 бинарный  файл,
   пригодный для инициализации клавиатурного монитора. См. пункты 5 и  6
   с описанием исходных  файлов и пункт  7, в котором  описан транслятор
   этих файлов.

4. Запуск KEYBMON.

   0). _Очень_ важное замечание:

	  Для  обеспечения  работы   KEYBMON  в  PM-сессиях   необходимо
       запускать его оператором RUN из CONFIG.SYS. Только в этом  случае
       он перехватывает управление PM-сессиями.

   1). Загрузка KEYBMON:

       Из CONFIG.SYS:

	  RUN=d:\path\KEYBMON.EXE /I[F] [<file.BIN>]

       Из командной строки или .CMD-файла:

	  DETACH d:\path\KEYBMON.EXE /I[F] [<file.BIN>]

	  Или: START /N d:\path\KEYBMON.EXE /I[F] [<file.BIN>]

	  Или: d:\path\KEYBMON.EXE /D[F] [<file.BIN>]

	  При этом: <file.BIN> - имя файла, полученного путем трансляции
       соответствующего .KEY-файла программой KEYCODER.

	  Если	запуск	производится  командой	START или из CONFIG.SYS,
       необходимо указать _полный_ путь к  файлу, так как в этом  случае
       текущим каталогом является корневой каталог загрузочного диска.

	  Если	задан  параметр  "/IF"  или  "/DF" то монитор KEYBMON не
       будет контролировать сессию в которой идет он сам. Этот	параметр
       полезен при запуске из CONFIG.SYS, так как в этом случае  KEYBMON
       идет в сессии 0h, в которой обычно ничего нет кроме CACHE.EXE.

	  Если в имени	файла есть пробелы,  или слеши, или  запятые, то
       его необходимо заключить в двойные кавычки. Например:

	  DETACH KEYBMON.EXE /I "Tricky file name"

	  Если	при  запуске  указан  параметр	/D  то	KEYBMON вызывает
       DosExecPgm c DETACH на самого себя.

   2). Выгрузка KEYBMON из памяти:

       d:\path\KEYBMON.EXE /U

   3). Краткий HELP по опциям:

       d:\path\KEYBMON.EXE /H или /? или запуск без параметров.

5. Синтаксис KEY-файлов, определяющих работу монитора клавиатуры.

      Эти  файлы   определяют  работу	клавиатурного  монитора.   Перед
   использованием KEY-файл (и соответствующие ему TBL-файлы, указанные в
   операторах TABLE) должны  быть оттранслированы программой  KEYCODER в
   BIN-файл.   KEYCODER   автоматически   транслирует	TBL-файл,  когда
   встречает в KEY-файле оператор TABLE.

      KEYCODER	осуществляет  практически  полный  контроль   синтаксиса
   исходных описаний.  При этом  большие и  малые буквы  не различаются.
   Лишние пробелы игнорируются.

      Целые  числа   воспринимаются  как   шестнадцатиричные  если   они
   кончаются символом "H", как  в ассемблере. Наличие "0"  перед "A"-"F"
   не	обязательно    но   желательно,    для	 устранения    возможной
   неоднозначности.

	    ---------- Синтаксис исходного файла: ----------

   [REM <comment>]
   [{DEFAULT/INITIAL} <id>]
   [DEFINE] KEY <id>		  [; <comment>]
       [REQUIRE[D]] <key>	  ....
       [ENABLE[D]] <key>
       [DISABLE[D]] <key>
       [{PRIMARY/SECONDARY/ANY}]
       [{DETECT/ACCEPT} BY {PRESS/RELEASE}]
       [{LAYOUT/XLAT} <id>]
       [SWITCH {SMART/TRICKY/SET/NORMAL} [<out_id>]]
       [BYPASS [KEY]]
       [IN [SOUND] {OFF/<freq> [[,] <length>]}]
       [OUT [SOUND] {OFF/<freq> [[,] <length>]}]
       [QUIET [KEY]]
   [DEFINE] TABLE [{ADD/<id>}] <file>[.TBL]
   [IMPORT [FROM] SKEY [{ADD/<id>}] <file.ext>]
   [SESSION <id> [TO <id2>] [[,] <id> [TO <id2>]]... {ON/OFF}]

   Где:

   ; <comment>
   REM <comment>

	 Ничего не делает.

   KEY <id>
   DEFINE KEY <id>

	 Оператор KEY начинает определение очередной "горячей"  клавиши.
      <id> может  быть или  названием кнопки,  или числом,  определяющим
      скан-код клавиши. (Его  можно найти почти  в любом Help-е).  Числа
      0-9 должны записываться как 0H-9H, так как 0-9 это имена	цифровых
      клавиш на основной клавиатуре.

	 Определение   клавиш	по   именам   имеет   одно  существенное
      преимущество,  а	именно:  при  этом осуществляется автоматическая
      настройка параметров ENABLE, DISABLE и ANY/SECONDARY/PRIMARY.  Так
      например,  KEY  1DH  и  KEY  RIGHT  CTRL	определяют  одну и ту же
      клавишу.	Однако	при   определении  KEY	1DH   придется	написать
      SECONDARY для  того, чтобы  выбрать именно  правый CTRL  и ENABLED
      RIGHT CTRL чтобы разрешить его.

	 Например:

      KEY 1DH			; Ctrl
      KEY 29			; Ctrl
      KEY RIGHT ALT		; Right Alt
      KEY OPEN ROUND BRACKET	; "("
      KEY GRAVE ACCENT		; "`"
      KEY 1			; "1"
      KEY 01			; ESC
      KEY 1H			; ESC
      KEY [1]			; Numeric "1"

	 Всего	KEYBMON  понимает  приблизительно  170	имен  кнопок, не
      считая  "A"-"Z"  и  "0"-"9".  Подробную информацию можно получить,
      просмотрев файл KEYS.APP.

   REQUIRE <key>
   REQUIRED <key>

	 Оператор  REQUIRED  определяет  дополнительную  клавишу,   если
      "горячая" клавиша представляет собой комбинацию клавиш.

	 При этом key принимает  одно из следующих значений:  ALT, CTRL,
      SHIFT, CAPS LOCK, NUM LOCK, SCROLL LOCK, LEFT ALT, RIGHT ALT, LEFT
      CTRL, RIGTH CTRL, LEFT SHIFT, RIGHT SHIFT, SCROLL LOCK DOWN,  CAPS
      LOCK DOWN, NUM LOCK DOWN, SYSREQ.

	 CAPS LOCK, SCROLL [LOCK] и  NUM LOCK это имена состояний,  а не
      клавиш.

	 За одним  оператором KEY  может следовать  несколько операторов
      REQUIRED. Например Ctrl + Left Alt + Ins записывается так:

	 KEY INSERT
	     REQUIRED LEFT ALT
	     REQUIRED CTRL

	 По умолчанию REQUIRED-клавиш не определено, CapsLock, NumLock и
      Scroll Lock  не влияют  на детектирование  "горячей" клавиши. (Это
      ENABLED клавиши, см. ниже). Все остальные клавиши, не указанные  в
      REQUIRED	или   ENABLED,	недопустимы.   (DISABLED).  То	 есть  в
      приведенном  выше  примере  нажатие  Ctrl+Left  Alt+Shift+Ins   не
      активизирует  новую  раскладку,  а  отсылается  драйверу	OS/2 для
      стандартной обработки.

   ENABLE <key>
   ENABLED <key>

	 Оператор ENABLED определяет клавишу, нажатие которой не  влияет
      на  обнаружение  "горячей"  клавиши.  Поле  key  - как в операторе
      REQUIRED. Допустимо несколько операторов ENABLED. Если в	качестве
      key указано ALL, то разрешаются все кнопки и состояния.

	 Обычно оператор ENABLED необходим для разрешения клавиш  Shift,
      Alt  или	Ctrl  в  случае,  если	их  код  указан в операторе KEY.
      Например,  KEY  2AH,  определяющий  Left	Shift  автоматически  не
      разрешает Shift. Это нужно сделать написав ENABLED LEFT SHIFT.

	 Пример: Закодировать Ctrl-Ins так, чтобы нажатие Alt не  влияло
      на определение этой комбинации, т.е. Ctrl-Alt-Ins = Ctrl-Ins:

	 KEY INSERT
	     REQUIRED CTRL
	     ENABLED ALT

   DISABLE <key>
   DISABLE[D] <key>

	 Оператор   DISABLED   определяет   клавишу,   нажатие	 которой
      недопустимо,  или  имя  состояния  в  котором "горячая" клавиша не
      действует.  Поле	key  -	как  в	операторе  REQUIRED.   Допустимо
      несколько операторов DISABLED. Если в качестве key указано ALL  то
      запрещаются все  кнопки, но  не состояния  CAPS LOCK,  NUM LOCK  и
      SCROLL LOCK.

	 Пример: Закодировать  Alt-Ins так,  чтобы он  не срабатывал под
      Caps Lock:

	 KEY INSERT
	     REQUIRED ALT
	     DISABLED CAPS LOCK

   ANY	     (по умолчанию).
   SECONDARY
   PRIMARY

	 Эти  операторы  определяют,  должен  ли  предшествовать  данной
      клавише  Secondary  Key  Prefix.	Например,  PRIMARY после KEY 1DH
      (Ctrl) определяет левый Ctrl, а  SECONDARY после KEY 1DH -  правый
      Ctrl. Для клавиш расширенной клавиатуры SECONDARY необходим,  если
      они определены по коду,  а не по имени.  ANY указывает на то,  что
      Seconday Key Prefix не имеет значения. Например:

      Любой Ctrl:  KEY 1DH
		   ANY

      Левый Ctrl:  KEY 1DH
		   PRIMARY

      Правый Ctrl: KEY 1DH
		   SECONDARY

   DETECT BY PRESS    (по умолчанию).
   DETECT BY RELEASE
   ACCEPT BY PRESS
   ACCEPT BY RELEASE

	 Оператор  DETECT  определяет  метод  отлова  "горячей" клавиши.
      PRESS предписывает реагировать на нажатие клавиши, в то время  как
      RELEASE определяет срабатывание при отпускании клавиши. При  этом,
      если между нажатием и отпусканием нажимались другие не  Shift-овые
      клавиши, срабатывание не происходит.

   LAYOUT <id>
   XLAT <id>

	 id  -	это  номер  раскладки  клавиатуры,  LAT или DEFAULT. LAT
      означает стандартную раскладку  OS/2, DEFAULT означает  раскладку,
      указанную в предыдущем операторе DEFAULT/INITIAL.

	 Оператор   LAYOUT   определяет   порядковый   номер   раскладки
      клавиатуры,  которую  активизирует  текущая  клавиша.  id  - номер
      раскладки от 1 до 4 или одно из двух ключевых слов: LAT и DEFAULT.
      Номер раскладки это порядковый  номер оператора TABLE, который  ее
      определяет.  Если  id  равен  LAT  то  происходит  переключение на
      стандартную клавиатуру OS/2. Если id равен DEFAULT, то  происходит
      переключение на раскладку из предыдущего оператора DEFAULT.

      Пример: (Работа по типу RUSHOOK)

	 REM Alt-Left Shift  = LAT
	 REM Alt-Right Shift = RUSSIAN
	 KEY LEFT SHIFT
	     LAYOUT DEFAULT
	     REQUIRED ALT
	 KEY RIGHT SHIFT
	     LAYOUT 1
	     REQUIRED ALT
	     SWITCH SET
	 TABLE RUSSIAN.TBL

   SWITCH <out_id>
   SWITCH NORMAL [<out_id>]
   SWITCH TRICKY [<out_id>]
   SWITCH SMART  [<out_id>]
   SWITCH SET

	 По умолчанию: SWITCH NORMAL LAT

	 out_id - это номер раскладки клавиатуры (см. оператор	LAYOUT),
      LAT или DEFAULT. LAT (по умолчанию) означает стандартную раскладку
      OS/2, DEFAULT означает раскладку, указанную в предыдущем операторе
      DEFAULT/INITIAL.

	 Оператор  SWITCH  определяет  метод  смены таблицы. Если задано
      SWITCH  или  SWITCH   NORMAL,  то  нажатие   клавиши  активизирует
      указанную в операторе LAYOUT раскладку клавиатуры во всех  случаях
      кроме  одного:  раскладка  уже  активна.	В этом случае происходит
      переключение на раскладку out_id.

	 Если  задано  SMART  или  TRICKY,  то	переключение   раскладки
      происходит так:  если текущая  раскладка равна  out_id то  KEYBMON
      установит  новую	раскладку,  указанную  в  операторе  LAYOUT.   В
      остальных  случаях  KEYBMON   установит  раскладку  out_id.   (или
      стандартную (LAT) раскладку, если out_id не задан.)

	 Если  задано  SET,  то  клавиша  всегда  устанавливает заданную
      раскладку, вне зависимости от текущей раскладки. При этом оператор
      OUT SOUND теряет смысл.

      Пример:

	   KEY F12		; F12 выходит из всех режимов в LAT.
	       LAYOUT 1 	; Если текущий режим LAT - F12 включит
	       SWITCH TRICKY	; русские буквы.

	   KEY F12		; F12 входит в режим GRAPH. Если GRAPH
	       REQUIRED ALT	; уже установлен то происходит переход
	       LAYOUT 2 	; в режим LAT.
	       SWITCH NORMAL

   BYPASS
   BYPASS KEY

	 Оператор  BYPASS  предписывает  KEYBMON  после   детектирования
      "горячей"  клавиши  передать  соответствующий  ей  пакет дальше, к
      драйверу	устройства.  Если  этот  оператор  отсутствует,  KEYBMON
      "поглощает" пакет.  BYPASS имеет  смысл только  с PRESS-клавишами.
      Пакеты RELEASE клавиш всегда пропускаются дальше.

   IN <freq> [<length>]
   SOUND <freq> [<length>]
   IN SOUND <freq> [<length>]
   IN OFF
   IN SOUND OFF

	 Оператор   IN	 SOUND	 задает   частоту   и	длительность  (в
      миллисекундах) звука при включении  раскладки. Если задано OFF  то
      звук отключается. По умолчанию длительность равна 32 ms а  частота
      420 Герц.

   OUT <freq> [<length>]
   OUT SOUND <freq> [<length>]
   OUT OFF
   OUT SOUND OFF

	 Оператор   OUT   SOUND   задает   частоту   и	длительность  (в
      миллисекундах) звука при отключении раскладки. Если задано OFF  то
      звук отключается. По умолчанию длительность равна 32 ms а  частота
      768 Герц.

   QUIET
   QUIET KEY

	 Оператор QUIET отключает звук при смене раскладки. Эквивалентно
      IN SOUND OFF и OUT SOUND OFF.

   [DEFINE] TABLE <file>[.TBL]
   [DEFINE] TABLE ADD <file>[.TBL]
   [DEFINE] TABLE <id> <file>[.TBL]

	 Оператор TABLE  создает новую	раскладку клавиатуры.  Для этого
      вызывается встроенный транслятор .TBL-файлов, который  транслирует
      файл  file.  Операторы  LAYOUT  в  определении клавиш ссылаются на
      раскладки,  созданные  операторами  TABLE.  Обычно операторы TABLE
      находятся в конце (или начале) .KEY-файла.

	 Если  перед  именем  файла  находится	ключевое  слово  ADD  то
      происходит  добавление  (и  возможно  замена) определений кнопок к
      предыдущей таблице. Если таблиц не определено то ADD игнорируется.

	 Если присутствует поле id то происходит добавление  определений
      кнопок к таблице с порядковым номером равным значению в этом поле.
      Попытка использовать id  большее чем номер  последней определенной
      на данный момент таблицы рассматривается как ошибка.

      Примеры:

	 1). TABLE RUSSIAN.TBL	 ; Создает раскладку на основе русских
				 ; букв. Если это первый оператор TABLE
				 ; то номером раскладки будет 1.

	 2). TABLE RUSSIAN.TBL	 ; Создает раскладку на основе русских
	     TABLE ADD UP.TBL	 ; букв и добавляет к ней раскладку
				 ; для верхнего ряда клавиш. ("1"-"0").

	 3). TABLE RUSSIAN.TBL	 ; Создает раскладку на основе русских
	     TABLE 1 UP.TBL	 ; букв и добавляет к ней две раскладки:
	     TABLE 1 LINES.TBL	 ; для верхнего ряда клавиш и для
				 ; рисования линий.

   DEFAULT <id>
   INITIAL <id>

	 Оператор DEFAULT определяет раскладку клавиатуры по  умолчанию.
      Именно эта раскладка будет  активной сразу после запуска	KEYBMON.
      По поводу id смотри описание операторов LAYOUT и SWITCH.	Оператор
      DEFAULT  действует  на  интерпретацию  ключевого	слова  DEFAULT в
      последующих операторах LAYOUT и SWITCH.

   SESSION <id> [TO <id2>] [[,] <id> [TO <id2>]]... ON
   SESSION <id> [TO <id2>] [[,] <id> [TO <id2>]]... OFF

	 Оператор SESSION определяет  номера сессий которые  должны (ON)
      или не должны (OFF) обрабатываться клавиатурным монитором.  Номера
      сессий не должны выходить за рамки диапазона 0-15.

      Примеры: SESSION 0 TO 15 ON	; По умолчанию.
	       SESSION 0 OFF		; Не трассировать сессию 0.
	       SESSION 1 OFF		; Не трассировать PM.

   IMPORT SKEY <file.ext>
   IMPORT FROM SKEY <file.ext>
   IMPORT [FROM] SKEY ADD <file.ext>
   IMPORT [FROM] SKEY <id> <file.ext>

	 Оператор IMPORT  создает новую  раскладку клавиатуры  на основе
      внешнего	файла.	Он  действует  подобно	оператору  TABLE, однако
      транслирует не TBL-файл с описанием раскладки клавиатуры, а  файл,
      совместимый с русификатором SKEY версии V0.02. (Возможно и  других
      версий).

	 Если  перед  именем  файла  находится	ключевое  слово  ADD  то
      происходит  добавление  (и  возможно  замена) определений кнопок к
      предыдущей таблице. Если таблиц не определено то ADD игнорируется.

	 Если присутствует поле id то происходит добавление  определений
      кнопок к таблице с порядковым номером равным значению в этом поле.
      Попытка использовать id  большее чем номер  последней определенной
      на данный момент таблицы рассматривается как ошибка.

      Пример:

	 KEY RIGHT SHIFT
	     DETECT BY RELEASE
	     LAYOUT 1
	 IMPORT FROM SKEY CYR.KBD   ; Создает таблицу перекодировки
				    ; с номером 1 на основе взятой
				    ; из комплекта SKEY V0.02.

6. Синтаксис строк в TBL-файле определяющих правила перекодировки.

			  ---- Синтаксис: ----

   1). C x : C y z  Кнопка x должна генерировать символ y.
   3). C x ; Xnn z  Кнопка x должна генерировать символ с кодом nn.
   2). Xmm : C y z  Кнопка mm должна генерировать символ y.
   4). Xmm : Xnn z  Кнопка mm должна генерировать символ с кодом nn.
   5). K f : C y z  Кнопка f на keypad генерирует символ y.
   6). K f : Xnn z  Кнопка f на keypad генерирует символ с кодом nn.
   7). Spp : C y z  Кнопка с кодом pp генерирует символ y.
   7). Spp : Xnn z  Кнопка с кодом pp генерирует символ с кодом nn.

   Вместо Xnn и Xmm можно использовать Hnn и Hmm.

   Где: x  - Символ на клавише нормальной IBM-овской English клавиатуры
	     для которой необходима перекодировка.
	y  - Символ который должна вырабатывать клавиша.
	f  - Символ на клавише цифровой клавиатуры подлежащей
	     перекодировке. ("0"-"9", "/", "*", "-", "+" или ".").
	mm - Шестнадцатиричный код символа определяющий клавишу,
	     подлежащую перекодировке.
	nn - Код символа который должна генерировать клавиша.
	pp - Шестнадцатиричный скан-код требуемой кнопки.
	z  - Условия перекодировки:
	     пробел - Перекодировка по стандартным правилам.
	     A	    - Клавиша генерирует заданный код при любом
		      сочетании Shift-ов с Caps Lock-ом. (Типа Space).
	     L	    - Клавиша генерирует заданный символ только на
		      нижнем регистре. (Типа "a" или "z")
	     U	    - Клавиша генерирует заданный символ только на
		      верхнем регистре. (Типа "A" или "Z")
	     s	    - Клавиша генерирует код только без Shift-а.
		      (Типа "/" или "8")
	     S	    - Клавиша генерирует код только под Shift-ом.
		      (Типа "?" или "*")
	     C	    - Клавиша генерирует код только при Caps Lock on.
	     c	    - Клавиша генерирует код только при Caps Lock off.
	     sc     - --//-- при Caps Lock off и без Shift-а.
	     Sc     - --//-- при Caps Lock off с Shift-ом.
	     sC     - --//-- при Caps Lock on и без Shift-а.
	     SC     - --//-- при Caps Lock on с Shift-ом.

      Примечание:  _пробел_,  символы  с  кодами  1-31, 127 и 255 должны
   записываться только в  форме X<код>, а  не C <символ>.  Например: X20
   это символ "пробел".

      Замена  символа  на  0h,	например  оператором  вида:  "C A : H00"
   приводит к  отмене существующей  на данный  момент перекодировки  для
   этого  символа.  Это   можно  использовать  для   отмены  определений
   некоторых клавиш в сочетании с оператором TABLE ADD в KEY-файле.

   Примеры:

      C D : C Б        D   ---> Б.
      C D : C Б A      D   ---> Б, d ---> Б.
      X22 : C Ю        "   ---> Ю.
      C " : C Ю        "   ---> Ю.
      C " : C Ю U      "   ---> Ю с правильной (для русских букв)
				  обработкой Caps Lock.
      K + : X20 sC     K + ---> " " под Caps Lock без Shift-а.
      C D : C Ш L      d   ---> Ш.
      C D : C ш U      D   ---> ш.

   Пример составления таблицы перекодировки:

       Обычные буквы:

	  C Q : C Й
	  C q : C й
	  .........
	  C M : C Ь
	  C m : C ь

       Буквы на символах:

	  С " : C Э U
	  C ' : C э L
	  ...........
	  C { : C Х U
	  C [ : C х L

	  Опции U и L делают обработку клавиш Shift чувствительной к
       состоянию клавиши Caps Lock.

       Символы верхнего ряда:

	  C * : C ;
	  .........
	  C & : C .

7. Трансляция .KEY-файлов и сопутствующих .TBL файлов:

      KEYCODER.EXE <Имя файла>[.KEY] [<Имя файла>[.BIN]]

      При  этом  образуется  файл  с  расширением  .BIN,  который  можно
   использовать для инициализации клавиатурного монитора.

      В текущей версии	KEYCODER.EXE - DOS-овская  программа, написанная
   на  Quick  Basic  4.5,  по  причине	отсутствия  у  меня  IBM   Basic
   Compiler/2.

   Например:

      Транслируем файл в DOS (VDM):

	 KEYCODER.EXE USER.KEY USER.BIN

      Переходим в OS/2 и запускаем KEYBMON:

	 DETACH KEYBMON /I USER.BIN

8. Основные  достоинства  в  сравнении	с  имеющимися  у меня  (возможно
   устаревшими) версиями русификаторов:

   1). Возможность тонкой настройки параметров при обработке hot keys.

   2). Правильная обработка цифровой  клавиатуры. В режиме русских  букв
       цифровая клавиатура под	NumLock работает также,  как и в  режиме
       LAT.  В	тоже  время  в	режиме	GRAPH  цифровую клавиатуру можно
       использовать для  рисования линий.  Большинство русификаторов,  в
       том  числе  SKEY  версии  0.02,	неправильно  работают с цифровой
       клавиатурой в режиме русских  букв и не позволяют  перекодировать
       клавиши на ней.

   3).	Правильная  обработка  Alt  с  набором	кода  символа. Некоторые
       русификаторы, например RusMon2, не позволяют вводить символы  A-Z
       с помощью комбинации клавиш Alt-число. Многие другие русификаторы
       неправильно обрабатывают Ctrl+"a"-"z".

   4). Расширенные возможности	переопределения клавиш. Монитор  KeybMon
       переопределяет  клавиши	на  основе  Scan-кодов а не ASCII-кодов.
       Это, в  частности, позволяет  устанавливать перекодировку  клавиш
       цифровой клавиатуры не затрагивая "0"-"9" или наоборот, при  этом
       клавиша	"/"  на  основной  и  расширенной клавиатурах кодируются
       раздельно.

   5). Поддержка четырех раскладок  клавиатуры и восьми hot  keys. (Если
       кому-либо необходимо больше, могу быстро сделать до 16  раскладок
       и до 64 "горячих" клавиш).

7. Прилагаемые раскладки и описания кнопок:

   1). Раскладки клавиатуры:

       RUSSIAN.TBL   Русские буквы.
       UP.TBL	     Описание стандартной раскладки для верхнего
		     ряда клавиш в русском режиме.
       LINES.TBL     Рисование одинарных и двойных линий
		     а также их пересечений.

   2). KEY-файлы определяющие работу KEYBMON. (Их нужно  оттранслировать
       KEYCODER-ом).

       DEFAULT.KEY   Стандартная раскладка.
       RSHIFT.KEY    Русские буквы по отпусканию Right Shift.
       ALTSHIFT.KEY  Русские буквы по Alt-Right Shift и возврат
		     к нормальной клавиатуре по Alt-Left Shift.
       RCTRL.KEY     Русские буквы по нажатию Right Ctrl.
       TWOSHIFT.KEY  Русские буквы по нажатию Right Shift при
		     нажатом Left Shift.
       SKEY.KEY      Иллюстрирует трансляцию раскладок от SKEY,
		     русские буквы по отпусканию Right Shift.
       MIXED.KEY     Пример смешивания нескольких таблиц.

8. Комплект поставки:

   KEYBMON.EXE	  Клавиатурный монитор.
   KEYBMON.DOC	  Документация.
   KEYS.APP	  Список имен кнопок.
   KEYCODER.EXE   Транслятор KEY-файлов.
   SCAN.DAT	  Очень важный для KEYCODER файл.
   KEYS.DAT	  Еще более важный файл.
   RUSSIAN.TBL	  Описание русской раскладки клавиатуры.
   UP.TBL	  Описание раскладки для верхнего ряда клавиш.
   LINES.TBL	  Описание графической раскладки клавиатуры.
   CYR.KBD	  Файл для примера перехода от SKEY к KEYBMON.
   RSHIFT.KEY	  Файлы описаний работы KEYBMON.
   ALTSHIFT.KEY   --//--
   RCTRL.KEY	  --//--
   TWOSHIFT.KEY   --//--
   SKEY.KEY	  --//--
   MIXED.KEY	  --//--
   DEFAULT.KEY	  Описание Default-установок монитора.

------------------------------------------------------------------------

9. Если  KEYBMON или  KEYCODER работает  неправильно, или  Вы обнаружили
   махровый ERROR, или Вам что-то непонятно, звоните по телефону. Если у
   Вас	есть   дополнительные  пожелания   или	соображения   по  совер-
   шенствованию KEYBMON,  звоните по  тем же  телефонам. (номер телефона
   см. ниже). (Кстати, нет ли у кого-нибудь редактора KEDIT/XEDIT  фирмы
   Quercus Systems для OS/2 ?).

A. EOF.

------------------------------------------------------------------------

		      Горявский Юлий Анатольевич.
			    фирма "ОДИССЕЯ"

------------------------------------------------------------------------

		 Telephone: Home:     178-00-26 call from 10:00 to 12:00.
						 and from 23:00 to 23:30.
			    Business: 310-22-21 call from 15:00 to 21:00.

       Hackers association: Black Hackers Corp.

------------------------------------------------------------------------

			     Приложение I.

   Если при запуске  клавиатурного монитора не	указан оттранслированный
инициализационный файл, монитор использует "стандартную" раскладку:

   F12	   - Переход в режим русских букв, а так же выход из любого
	     режима в LAT. При этом верхний ряд кнопок имеет вид:

	    ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐
	    │~	│!  │"  │#  │$  │:  │,  │.  │;  │(  │)  │_  │+  │
	    │`	│1  │2	│3  │4	│5  │6	│7  │8	│9  │0	│-  │=	│
	    └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘

  Alt-F12  - Переход в режим рисования линий и выход из него.
	     (Выход возможен и по F12).

	     Caps Lock off     Caps Lock off
	       Shift off	 Shift on
	    ┌────┬────┬────┐ ┌────┬────┬────┐
	    │7 ┌ │8 ┬ │9 ┐ │ │7 ╔ │8 ╦ │9 ╗ │
	    ├────┼────┼────┤ ├────┼────┼────┤
	    │4 ├ │5 ┼ │6 ┤ │ │4 ╠ │5 ╬ │6 ╣ │
	    ├────┼────┼────┤ ├────┼────┼────┤
	    │1 └ │2 ┴ │3 ┘ │ │1 ╚ │2 ╩ │3 ╝ │
	    ├────┴────┼────┤ ├────┴────┼────┤
	    │0 ──     │. │ │ │0 ══     │. ║ │
	    └─────────┴────┘ └─────────┴────┘

	      Caps Lock on     Caps Lock on
		Shift off	 Shift on
	    ┌────┬────┬────┐ ┌────┬────┬────┐
	    │7 ╒ │8 ╤ │9 ╕ │ │7 ╓ │8 ╥ │9 ╖ │
	    ├────┼────┼────┤ ├────┼────┼────┤
	    │4 ╞ │5 ╪ │6 ╡ │ │4 ╟ │5 ╫ │6 ╢ │
	    ├────┼────┼────┤ ├────┼────┼────┤
	    │1 ╘ │2 ╧ │3 ╛ │ │1 ╙ │2 ╨ │3 ╜ │
	    ├────┴────┼────┤ ├────┴────┼────┤
	    │0 ══     │. │ │ │0 ──     │. ║ │
	    └─────────┴────┘ └─────────┴────┘

------------------------------[True EOF.]-------------------------------
