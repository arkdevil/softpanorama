******************************************************************************
************************** ШПИОН ( ЯБЕДА ) ***********************************
******************************************************************************
                  ЗАГЛЯНИТЕ В КОНЕЦ ЭТОГО ФАЙЛА!!!

      Эта коротенькая программа была написана автором для изучения хорошего
 языка- Турбо  Си  и  была  предназначена  скорее  для  закрепления навыков
 в программировании, чем для практических  целей. Но  потом  оказалось, что
 программа   понравилась   тем,   кто   ревнует  свой  компьютер  ко  всему
 человечеству, а также их начальникам, которые  хотят знать все и обо всем.
 Включите её в AUTOEXEC.BAT и вы  узнаете,  когда  ваш  компьютер  включали
 последний  раз.  Ябеда  к  тому  же  молчалива,  так  что  ваша  жертва не
 догадается, что что- то произошло.
     Программа, которая на первый взгляд стучит только на окружающих, может
 с успехом настучать и на себя. Для этого запустите её с  опцией '/?' и вам
 будет предоставлена информация о задачах программы и название  Кондуита, в
 который попадает дата и время каждого запуска этой программки.
     Для еще более неопытных программистов привожу ниже текст программы.

< SPY.C >

#include <string.h>
#include <stdio.h>
#include <time.h>
#include <dos.h>
/*
   -----------------------------------------------------
   объявление переменных,работающих со служебной строкой
   -----------------------------------------------------
*/
main(int argc,char *argv[])
 {
  FILE      *fp;    /* поток файла */
  time_t      t;    /* переменная даты и времени */
  time     (&t);    /* присвоние значений переменной */
/*
    ----------------------------------------------------------------
    если количество арг. в командной строке = 2 то спросить, не знак
    вопроса ли стоит вторым
    ----------------------------------------------------------------
*/
    if ( ( argc == 2 ) && (strcmp(argv[1],"?")))
/*
   -------------------------------------------------
   в случае удовлетворения условия настучать на себя
   -------------------------------------------------
*/

  {
     printf("\n\r                      SPY.EXE\n");
     printf(" Copyright (c) by Fedusenko Yuriy ,Poltava, 25 jul 1991\n\r");
     printf("\nProgramme write date & time last start your system.\n\r");
     printf("For reading this information enter SPY.EXE /?\n\r");
     printf("Look file 'SPY.DAT'\n");
  }
/*
   ------------------------
   иначе на своего ближнего
   ------------------------
*/
   else
  {
    fp = fopen("spy.dat", "a"); /* открыть файл и всунуть в конец кляузу*/
    fprintf( fp ,"Run system: %s",ctime(&t));
    fclose( fp );   /* закрыть файл */
  }
 return 0;
}

