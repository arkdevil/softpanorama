
                         Оболочка ДОС SHORT 1.20
                         -----------------------

   В этом файле содержится некоторая важная для пользователей оболочки
SHORT 1.20 информация.


                               Содержание
                               ----------

I.   Установка SHORT 1.20 на диск.
II.  Основные отличия SHORT 1.20 от Norton Commander 3.0.
     1. Запуск программ.
     2. Подстановка аргументов в командную строку.
     3. Меню пользователя.
     4. Обработка расширения файла.
     5. Выбор диска.
     6. Быстрый поиск (Speed Search).
III. Некоторые новые возможности оболочки SHORT 1.20.
     1. Копирование, перемещение, сравнение и удаление подкаталогов.
     2. Атрибуты подкаталогов.
IV.  Особенности оболочки SHORT 1.20.
     1. Невозможность сжатия файла PCS.EXE. (!)
     2. Два разных варианта файла PCS.EXE.
     3. Графический режим.
     4. Встроенная поддержка русского знакогенератора и русской клавиатуры.
     5. Граница экрана на EGA-мониторах.


                    I. Установка SHORT 1.20 на диск.
                    --------------------------------

   Для установки оболочки  SHORT 1.20  на диск следует вставить  в дисковод
(напр., A)  дистрибутивную дискету и ввести с клавиатуры следующие команды:

   a:  <Return>
   install  d:  path  <Return>

   Здесь  d: - номер диска, path  - полный путь. Пробел между номером диска
и путем обязателен.

   Пример:

   a:  <Return>
   install  c:  \short <Return>


          II.  Основные отличия SHORT 1.20 от Norton Commander 3.0.
          ---------------------------------------------------------

   1. Запуск программ.
   Запуск  программ на выполнение довольно сильно отличается  от того,  как
это делается в оболочке Norton Commander.  Самый простой  запуск программ -
выбрать  нужный исполняемый файл  (.EXE, .COM  или .BAT)  и  нажать клавишу
Enter или быстро дважды нажать на левую кнопку мыши - такой же,  как в Nor-
ton Commander. На этом сходство кончается.
   В оболочке SHORT 1.20 нет прямого, как в Norton Commander, доступа к ко-
мандной строке. Ниже в таблице приведены варианты доступа к командной стро-
ке.

  ------------------------------------------------------------------
   Клавиша           Командная       Обработка      Состояние флага
                     строка          расширения     "Prompt"
  ------------------------------------------------------------------
   "M"               пустая          отсутствует    не важно
   Shift-Insert      имя входа       отсутствует    не важно
   Ctrl-Enter        (имя входа)     ext:           не важно
   Enter             (имя входа)     ext:           включен
   Shift-Ctrl-Enter  (имя входа)     ext>           не важно
   Shift-Enter       (имя входа)     ext>           включен

   Как вы могли заметить, в таблице приведены два варианта обработки расши-
рения - ext: и ext>. Второй вариант отличается от первого тем, что одновре-
менно еще должна быть нажата клавиша Shift (см. II.4).
   Если командная строка активна, то с помощью комбинации клавиш  Shift-In-
sert вы можете добавлять в конец командной строки имя, на которое указывает
файловый курсор.  Перемещать файловый курсор в этом состоянии можно при од-
новременном нажатии клавиши Shift и клавиш управления курсором:

   Shift-стрелки     курсор влево, вправо, вверх, вниз
   Shift-PgUp        курсор на 8 позиций вверх
   Shift-PgDn        курсор на 8 позиций вниз
   Shift-Home        курсор в начало каталога
   Shift-End         курсор в конец каталога
   Shift-Enter       переход в подкаталог, на который указывает курсор
   Shift-Backspace   переход в каталог верхнего уровня
   Shift-Tab, Tab    переход в другую панель

   На выполнение командная строка запускается  двумя способами -  с помощью
клавиши  Enter либо комбинацией клавиш Ctrl-Enter.  Во втором случае, после 
выполнения команды, будет отображаться страница ДОС-экрана до нажатия любой
клавиши или кнопки мыши.

   2. Подстановка аргументов в командную строку.
   Набор подстановок аргументов в командную строку расширен, причем поддер-
жана совместимость с Norton Commander 3.0.   Ниже приводится  полный список
подстановок, используемых в SHORT 1.20. В качестве примера взято полное имя
файла - c:\short\dir\filename.ext.

   Подстановки, совместимые с Norton Commander 3.0.:

   Подстановка   Что означает                                 Пример
   -----------   ------------------------------------------   -------------
       !         имя файла без расширения                     filename
       !.!       имя файла с расширением                      filename.ext
       !:        номер текущего диска                         c:
       !\        текущий путь                                 \short\dir
       !!        символ "!"                                   !

   Подстановки, добавленные в SHORT 1.20:

   Подстановка   Что означает                                 Пример
   -----------   ------------------------------------------   -------------
       !&        полный текущий путь                          c:\short\dir\
*      !%        последний элемент текущего пути              dir
       !n        имя помеченного файла с номером n без рас-
                 ширения
       !n.!      имя помеченного файла с номером n с расши-
                 рением
       !@        полное имя файла-списка помеченных файлов/
                 каталогов
       {ТЕКСТ}   текстовая строка, введенная с клавиатуры;
                 при запросе строки на экран выводится со-
                 общение ТЕКСТ
       {{        символ "{"

*  Примечание.  Последний элемент текущего пути для корневого каталога име-
                ет вид (ROOT-n), где n - номер диска. Например, для диска С
                в этом случае последний элемент пути будет равен (ROOT-C).

   Кроме того,  подстановки,  в которых используется символ "$" вместо "!",
относятся к неактивной панели.

   Используя приведенные выше подстановки, вы можете создать, например, та-
кую запись в меню:

      F5:    Упаковать все содержимое текущей панели
             c:\zip\pkzip -ex -P $&!% *.*

   Допустим, текущий путь активной панели равен c:\dir\mydir, а неактивной -
a:\archive1. Тогда, при нажатии на клавишу F5, все содержимое текущей пане-
ли будет упаковано в файле  a:\archive1\mydir.zip.  Здесь,  как можно заме-
тить, используется подстановка $&!%.
   В приведенном примере имя  zip-файла равно имени текущего каталога  (ис-
пользуется подстановка !%).  Если применить подстановку  {}  вместо  !%, то
имя zip-файла можно вводить с клавиатуры:

      F5:    Упаковать все содержимое текущей панели
             c:\zip\pkzip -ex -P $&{Введите имя архива:} *.*

   Подстановка !@ позволит вам упаковать только помеченные файлы:

      F6:    Упаковать помеченные файлы текущей панели
             c:\zip\pkzip -ex $&{Введите имя архива:} @!@


   3. Меню пользователя.
   В оболочке SHORT 1.20 число пунктов меню ограничено только максимальным
размером файла меню (не более 64Кбайт).  Кроме того, можно создавать любые
связи между различными меню.
   Для более эффективной работы меню введены следующие команды.

      Swap On                 включить свопинг
      Swap Off                выключить свопинг
      DosMode On              при запуске команды использовать интерпре-
                              татор команд, загруженный ранее
      DosMode Off             при запуске команды использовать внешний
                              интерпретатор команд
      SavePath                сохранить текущий путь
      RestorePath             восстановить путь, сохраненный ранее
      MenuChain = <ИМЯ>       вызвать меню с именем <ИМЯ>
      .title <ТЕКСТ>          задать заголовок меню

   4. Обработка расширения файла.
   Как и в системе меню пользователя, в системе обработки расширений имеют-
ся главный и локальный файлы расширений (т.е. файлы, в которых задается со-
ответствие между расширением и выполняемой командной строкой).

   Файл расширений имеет имя  PCS.EXT.  Главный файл  расширений (если путь
для него специально не установлен с помощью операции Options)  обычно нахо-
дится в том же каталоге,  что и исполняемый файл PCS.EXE.  Файлы PCS.EXT  в
других  каталогах являются локальными,  т.е. их область действия ограничена
каталогами, в которых они расположены.  Если в активной панели, отсутствует
файл PCS.EXT, то для обработки расширений будет использоваться главный файл
расширений.  Если отсутствует и этот файл,  то нажатием клавиши Enter можно
запустить на выполнение только файлы с расширениями COM, EXE и BAT.

   Файл PCS.EXT является текстовым файлом размером не более 64 Кбайт. Число
записей (соответствий) в нем неограничено.  Синтаксис файла расширений сов-
местим с  Norton Commander 3.0.  Но имеется возможность нажатием комбинации
клавиш  Shift-Enter  запускать альтернативную команду.  Расширение при этом
должно завершаться символом ">", а не ":", как обычно.  В качестве расшире-
ния могут использоваться шаблоны с использованием символов "?" и "*".

Синтаксис                                       Способ запуска
---------------------------------------------   --------------
ext:	<команда> [аргументы]                   Enter
ext>	<команда> [аргументы]                   Shift-Enter
ext1, ext2, ..., extN:  <команда> [аргументы]   Enter
ext1, ext2, ..., extN>  <команда> [аргументы]   Shift-Enter
;Комментарий
'Комментарий

   В команде и аргументах могут использоваться подстановки (см. II.2).

   Пример файла расширений:

;Исполняемые файлы
com,exe,bat:   !&!
;Распаковка ZIP-файла в неактивную панель - по клавише Enter
zip:        c:\zip\pkunzip ! $:$\
;Просмотр содержимого ZIP-файла - комбинация клавиш Shift-Enter
zip>        c:\zip\pkunzip v !
;Текстовые файлы - редактор Multi-Edit
doc,txt:    c:\me\me !.!


   5. Выбор диска.
   Как и в Norton Commander,  выбор текущего диска производится комбинацией
клавиш  Alt-F1 для левой (первой) панели и Alt-F2  для правой (второй). Для
более  быстрого выбора  диска  в текущей панели вы можете нажать комбинацию
клавиш  Alt-буква. Например, при Alt-E будет выбран диск E.

   6. Быстрый поиск (Speed Search).
   В оболочке  SHORT 1.20  быстрый поиск имен файлов  и каталогов  является
скорее состоянием, чем операцией. Переход в это состояние (а также выход из
него)  производится нажатием комбинации клавиш Ctrl-F7.  Выйти из состояния
быстрого поиска  можно также нажатием клавиши Escape.
   Поиск производится в пределах текущего каталога сразу после набора любо-
го символа,  который допустим в имени.  Искать имя можно также  по шаблону,
пользуясь символами "?" и "*". Действие клавиш Backspace, Ctrl-PgUp и Ctrl-
PgDn различается в зависимости от того, включен быстрый поиск или нет:

  ------------------------------------------------------------------------
   Клавиша          Быстрый поиск включен          Быстрый поиск выключен
  ------------------------------------------------------------------------
   Backspace        удалить символ слева от        переход в каталог
                    курсора в строке поиска        верхнего уровня

   Ctrl-Backspace   удалить все символы в          не действует
                    строке поиска                  

   Ctrl-PgUp        переход к предыдущему со-      переход к предыдущему
                    ответствию строке поиска       помеченному входу

   Ctrl-PgDn        переход к следующему со-       переход к следующему
                    ответствию строке поиска       помеченному входу

   Следует отметить, что строка поиска сохраняется при любых операциях. Это
позволяет,  например, не набирать с клавиатуры ту же самую строку при пере-
ходе в другой каталог или в другую панель.


          III. Некоторые новые возможности оболочки SHORT 1.20.
          -----------------------------------------------------

   1. Копирование, перемещение, сравнение и удаление подкаталогов.
   В оболочке  SHORT 1.20 имеется возможность производить действия над под-
каталогами  аналогичные  действиям над файлами:  копирование,  перемещение,
сравнение, удаление, изменение атрибутов, номерная пометка.
   Чтобы скопировать подкаталог, достаточно выбрать его с помощью файлового
курсора и выполнить операцию копирования (клавиша F5).  При этом будет ско-
пировано все содержимое выбранного подкаталога, включая все вложенные в не-
го подкаталоги.  Аналогично выполняются операции  перемещения, сравнения  и
удаления.  Операция изменения атрибутов  не влияет  на атрибуты содержимого
подкаталога, а изменяет только атрибуты входа в него.

   2. Атрибуты подкаталогов.
   Как и файлы,  подкаталоги могут иметь четыре атрибута: Hidden (скрытый),
System (системный),  Read-Only (только для чтения)   и  Archive (архивный).
Подкаталоги с атрибутами Hidden и System могут не отображаться  в той пане-
ли,  для которой флаги  "show system" и "show hidden"  не установлены с по-
мощью операции Options.
   Атрибут  Read-Only служит для защиты подкаталогов от стирания,  но он не
препятствует записи в подкаталог.  Поскольку  в оболочке SHORT 1.20 имеется
возможность стирания непустого подкаталога, то желательно устанавливать ат-
рибут Read-Only для всех подкаталогов, с которыми вы работаете.  Это обезо-
пасит ваши файлы от непреднамеренного стирания (например, вы можете случай-
но пометить вместе с удаляемыми файлами или подкаталогами какой-нибудь важ-
ный для вас подкаталог). Если атрибут Read-Only установлен, то удалить файл
или подкаталог можно только предварительно сняв этот атрибут.

                   IV. Особенности оболочки SHORT 1.20.
                   ------------------------------------

!  1. Невозможность сжатия файла PCS.EXE.
   Исполняемый файл PCS.EXE нельзя сжимать никакими сжимающими программами.
Запуск сжатого (например, с помощью PKLITE, DIET и подобных)  файла PCS.EXE
может привести к непредсказуемым последствиям. Кроме того, не рекомендуется
изменять содержимое файла PCS.EXE,  например,  для исправления обнаруженной
ошибки. В последнем случае лучше всего обратиться в Rambling Software.

   2. Два разных варианта файла PCS.EXE.
   На дистрибутивной дискете имеются два разных файла PCS.EXE.  Первый файл
находится  в  корневом каталоге диска  и является наиболее полным вариантом
исполнения оболочки SHORT 1.20. Второй находится с подкаталоге 1840 и пред-
назначен,  в основном,  для работы на компьютерах  ЕС1840/41,  ИСКРА-1030 и
совместимых с ними (для краткости - SHORT/1840). В SHORT/1840 имеются неко-
торые отличия от SHORT. Например, действие комбинации клавиш Alt-F9: в обо-
лочке  SHORT при этом переключается число строк, а в SHORT/1840 включается/
выключается механизм устранения "снега" на экране. Кроме того, в SHORT/1840
отсутствует страница "Graphics and National Support" в Options.

   3. Графический режим. 
      (Только для адаптеров EGA, VGA)
   Переход из графического режима экрана в текстовый  и обратно производит-
ся нажатием комбинации клавиш Ctrl-H.  Аналогично, для курсора мыши исполь-
зуется комбинация клавиш Ctrl-J. Из-за того, что на самом деле это вовсе не
графический, а текстовый режим, в котором используются таблицы знакогенера-
тора для построения некоторых "картинок" и курсора мыши, в окнах встроенно-
го редактора может появляться "мусор" на тех символах в тексте, которые за-
няты под графические элементы. Для простоты этот режим все же назван графи-
ческим (Graphics и Graph Mouse в Options).
   Если вы сейчас читаете этот текст с помощью встроенного редактора SHORT,
то попробуйте понажимать комбинации клавиш  Ctrl-H  и  Ctrl-J и посмотрите, 
что получится:
                              ╔═╤═╤═══╤═╤═╗
                              ╟─┴─┼───┼─┴─╢
                              ╠═══╪═══╪═══╣
                              ╚═══╧═══╧═══╝
   Чтобы графический режим экрана  и режим графического курсора мыши не ме-
шали подобным картинкам,  просто отключите эти режимы  с помощью комбинаций
клавиш  Ctrl-H и Ctrl-J.  Необходимо отметить, однако,  что Ctrl-J в режиме
WordStar встроенного редактора SHORT используется для других целей. Для пе-
реключения режимов экрана  и  курсора мыши  вы можете воспользоваться также
операцией Options.
   Поскольку  для графического режима используются таблицы знакогенератора,
то существует вероятность изменения этих таблиц некоторыми внешними  драйве-
рами (например,  драйвер клавиатуры и экрана KEYRUS Д.А.Гуртяка), что может
привести к искажению графических частей экрана оболочки SHORT.  Чтобы этого
не происходило, установите флаг Refresh Graphics в последней странице Opti-
ons.  В  этом случае знакогенератор  будет обновляться каждую секунду,  что
обеспечит стабильность графического режима.
   Для некоторых старых адаптеров EGA включение графического режима нежела-
тельно,  так как в этих адаптерах обращение к таблицам знакогенератора при-
водит к появлению на экране  "снега"  в виде темных просечек.  Особенно это
заметно при перемещении курсора мыши.

   4. Встроенная поддержка русского знакогенератора и русской клавиатуры.
      (Только для адаптеров EGA, VGA)
   В некоммерческой версии оболочки SHORT 1.20  встроенные русский знакоге-
нератор и русская клавиатура поддерживаются только внутри самой оболочки.
   Переключение знакогенератора производится нажатием клавиш Ctrl-N.
   Для  переключения  режима  клавиатура  нужно одновременно нажать левую и
правую клавиши Shift.  При этом флаг National Keyboard Lock в соответствую-
щей странице Options должен быть установлен.

    5. Граница экрана на EGA-мониторах.
    На некоторых EGA-мониторах граница экрана (при установленном флаге Bor-
der в последней странице Options)  может иметь искаженную форму,  вплоть до
появления на экране цветной засветки.  Это связано с тем, что в таких мони-
торах очень мал запас по времени обратного хода строчной развертки  и необ-
ходима довольно точная настройка монитора.  Чтобы избежать этой неприятнос-
ти, либо настройте монитор (при этом очень желательно пригласить специалис-
та), либо выключите границу экрана (сбросьте флаг Border в Options).
