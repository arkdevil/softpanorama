		    Viewer & browser DBF-файлов BDBF.exe
		    ------------------------------------


	1.Почему BDBF ?
	---------------

     И в самом деле - аналогов куча,только в SP было 2 вида DBView с возмож-
  ностью Browse   и замечательный VDBF Родионова.Можно также пользоваться
  и фирменным DBU от Nantucket и проч.В конце концов можно просто зайти в
  Fox .Тем не менее,у BDBF есть своя ниша.

	DBU - это оружие тяжелого калибра - он умеет делать с базами все.
   Но интерфейс его, мягко говоря,устарел,да и как всякая универсальная
   система ,он слегка тяжеловесен.

	Dbview Трофименко и Царенко малы,быстры,многое умеют,но все же набор
   функций у них ограничен,и они не работатют с индексами,что очень
   важно для  Clipper-иста.

	Наиболее близкий аналог - VDBF Родионова,этой программой поль-
 зуются очень многие - на него и будем ориентироваться при сравнении.

	Причиной написания BDBF было то,что в VDBF все же отсутствуют
 многие DBase функции,необходимые для повседневной работы с базами ,осо-
 бенно при сопровождении.Кроме того,к сожалению,в него вкрались досадные
 ошибки (н-р,при ZAP;иногда вылетает с ошибкой в процедуре Scatter,портятся
 цвета - это для Родионова).

	Короче говоря, при написании BDBF девизом было :
	  "Cделаем с выбранной базой,все что захотим !"

	Итак,по сравнению с VDBF BDBF умеет:

	  - печатать выбранную  базу,в т.ч. и в файл ,причем всю или по
	    условию
	  - искать по условию LOCATE / CONTINUE
	  - печатать структуру на принтер
	  - копировать записи
	  - копировать содержимое отдельных полей слева,справа,снизу и сверху
	  - делать новый индекс
	  - производить "мягкий" поиск
	  - Replace по условию
	  - Sum,Count по условию
	  - Delete/Recall по условию
	  - Copy to File / Append from , в т.ч. по условию и в SDF формате
	  - устанавливать нужный порядок и количество полей,их заголовки.
	    Возможны вычисляемые поля ! При этом выбранный разрез может
	    быть распечатан !
	  - задавать переменные
	  - вычислять любое Clipper-выражение
	  - задавать макросы
	  - менять диск и директорию
	  - вызывать второй командный процессор
	  - очищать сразу всю запись
	  - делать Upper и Lower в текстовых полях,в т.ч. с русскими буквами
	  - менять режимы ввода

	  - работать с мышью  !
	  - просматривать файлы FPT FoxPRO (VDBF файлы DBF FoxPro с Мемо
	    вообще за свои не признавал).

	За все эти прелести по-сравнению с Vdbf в упклаченном виде вы
 заплатите ~8.5 kбайт.

	Большинство функций понятно любому Dbase-систу .Некоторые пояснения
  ниже.Назначение всех клавиш см. в HELP.


	  2.Редактирование записей.
	  -------------------------

		В отличие от VDBF ,если Вы уже вошли в режим редакции
	(по Enter), то вы из него не выйдете без нажатия Escape.При этом
	можно передвигаться по базе практически также как в Browse FoxPro,
	т.е.доступны клавиши вверх,вниз,PgUp,PgDn,Tab,Shift-Tab.
		В VDBF после завершения ввода поля для редактирования
	следующего надо было передвинуться и вновь нажать Enter.На мой
	взгляд, это неудобно.

		Существуют три режима ввода - в обычном("Usual") нажатие
	Enter в последнем поле записи просто останавливает ввод ;в режиме
	"Enter/skip" в этом случае происходит переход на первое поле следу-
	ющей записи;в режиме "Lock Enter" нажатие Enter в любом поле приво-
	дит к спуску на запись ниже в том же поле.


	  3.Режимы Replace.
	  -----------------

	BDBF поддерживает три режима Replace (все-в текущем поле):
		- константным выражением (AltF4)
		- переменным выражением  (CtrlF4)
		- в текущей записи       (AltR)

	Разницу между AltF4 и CtrlF4 поясним на примере :

		Пусть мы стоим в поле NUM на 15 записи.Теперь задаем
	выражение замены Recno()+2 и условие - все записи.

		Теперь по AltF4 во всех записях будет внесено значение 17,
	а по CtrlF4 - соответственно 3,5,7..

	  Могут спросить : а зачем нужен Repl в текущей записи,можно ведь
	просто зайти и исправить? Но представьте,что у Вас в поле стоит
	3242756 и его надо умножить на 234. По AltR все просто - Field*234.


	  4. Append/Copy.
	  ---------------

		Присоединение новых записей в VDBF было сделано так:
	если в конце файла нажималась стрелка вниз,то образовывалась
	фиктивная запись ,куда все и заносилось.Такой же подход принят и в
	стандартном Browse из ExampleP.Prg. Но дело в том,что оператор не
	всегда внимателен к надписи EOF (да и трудно это от всех требовать),
	что  нередко приводит к ошибкам.Поэтому в BDBF присоединение
	вынесено на отдельные клавиши. F3  просто добавляет пустую запись,
	AltF3 - предагает скопировать содержимое текущей или последней
	записи.

		Можно также сделать Append из файла(CtrlF9),причем если в
	имени файла указано расширение .TXT то будет Append SDF То же
	относится и к Copy File (CtrlF3)


	  5. SUM.
	  -------

		Суммирование всегда происходит по текущему полю,в т.ч.
	  можно выбрать и вычисляемое поле (см.ниже)


	   6. Поиск по индексу.
	   ___________________


		При поиске в полях типа DATE не обязательно писать CTOD
		Так,одинаково правильно
		  12/03/93   CTOD('12/03/93')  DATE()

		По умолчанию поиск ведется в режиме SoftSeek OFF ,но при
		установке переменной _Soft=.t. мягкий поиск включается.
		
		
	   7. Выражения условий.
	   ---------------------
	   
	   	При выборе многих функций BDBF ,у Вас будет запрошено 
	   условие отбора или поиска.Варьировать выражения в таких условиях
	   можно достаточно широко.Однако надо помнить,что нельзя  использо-
	   вать вложенные функции.
	   
	   	Так,правильно
	   	
	   	{F7} Substr(char,1,2)=='Se'	{F7} char=Alias()
	   	
	   	и неправильно
	   	
	   	{F7} Left(char,2)=='Se'		{F7} char=Dbf(),
	   	
	   ввиду того,что LEFT() определено через Substr,а Dbf()-через Alias() 	
	   
	   	Clipper-87 возвращает для таких выражений при макроподстановке
	   тип U ,а не тип L, как, вроде бы, нужно.
			   	
	   Впрочем,это-единственное ограничение на использование вложенных
	   функций,в остальных случаях их можно применять свободно.
	   	


	   8. Set Fields.
	   --------------

		По CtrlF2 Вы можете задать содержание,названия и порядок
	полей. Содержанием поля может быть любое допустимое выражение.
	В названии допустимы символы нац.алфавитов,причем эти названия будут
	выводиться и при печати .
	При задания номера поля = 0 (используйте клавишу DEL),оно не будет
	выводиться и редактироваться

	Пример:
	  Cодержание поля : If(Deleted(),[Да ],[Hет])
	  Hазвание : Помечено ?
	  Hомер = 1

        Завершить изменения можно клавишей ESC.Наблюдайте результат.
	Если затем вновь нажать CtrlF2 будет восстановлено исходное
	состояние базы.

		При задании порядка полей нет необходимости заботиться
	о строгом следовании без пропусков.Лишь бы соблюдался порядок.

		Пример:
			Было      Поле   Номер
				  F1      1
				  F2      2
				  F3      3
				  F4      4
				  F5      5

			Cтало     F1      1
				  F2      0
				  F3      7
				  F4      9
				  F5      2

		Порядок вывода при редакции и печати будет F1,F5,F3,F4

	Вычисляемые поля  редакции не подлежат (при переходе на такое поле
	курсор не виден).Тем не менее, их можно использовать в выражениях.

	На Copy File Set Fields влияние не оказывает.


	   9.Вычисление выражений.
	   _______________________

		По нажатию AltG можно подсчитать почти любое корректное
	Clipper выражение длиной до 255 символов .Не говоря уж о том ,
	что частенько нужно вспомнить н-р,какое число было Date()-21
	или быстренько взять Log(Exp(1)), получился довольно интересный
	тренажер Clipper-иста. Можно ,например, поэксперементировать
	с параметрами Dbedit или Memoedit ,понять наконец,чем отличается
	Bin2i от Bin2w или поинтересоваться,что такое Descend('{ypmvr~')

		Можно использовать почти все функции из Clipper.Lib и
	Extend.Lib (для чего пришлось пожертвовать несколькими Kб - ведь
	Clipper может вычислить только то что включено в Exe ,-пришлось
	писать пустышки).


	   10.Задание переменных.
	   ---------------------

	    По CtrlF5 вы можете проинициализировать переменную (или задать
     ей новое значение)

	    Для простой переменной нужно просто выполнить присвоение

		new=5
		word='папа'
		today=date()

	     Для объявления массива его надо описать

		array[20]
	     Затем уже можно сделать Array[3]=Exp(12.09)

	     Замечу,что в правой части допустимы любые верные Clipper
	выражения.

	     Зачем все это нужно ?

	     Иногда удобно вычислить выражение,а потом его использовать
     в условиях или Replace.
	     Используя присвоение переменных и вычисление выражений
     можно даже писать небольшие программки.Попробуйте ,н-р,сделать
     следующее
	{CtrlF5}	Array[Adir('*.prg')]
	{AltG}		Adir('*.prg',Array)
	{AltG}		ForAch(5,10,24,'*.prg',Array)

	     Можно,используя системные переменные, выкидывать некоторые
     трюки.Н-р,Вам ну очень не нравится цвет Bdbf.Есть же на свете извра-
     щенцы :-) ! На здоровье !

	{CtrlF5} 	_bm='w/n'
	{CtrlF5}	_req=0

     У вас в директории есть NTX ,который имеет нестандартное расширение.

	{CtrlF5}	_oldind='MyOwn.FIL'
	{CtrlF5}	_req=0
	
     Нужно выбрать базу из резервных копий.
     
  	{CtrlF5}	_mask='*.bak'
	{F4}
   		

     Хотите напечатать базу мелким шрифтом и с лозунгом.

	{CtrlF5}	_PSCode='Б У Д Ь М О !!!'+chr(18)
	{F2}
	

     И вообще:была бы возможность,применение найдется.


	   11.Макроклавиша.
	   ----------------

		По нажатию CtrlF1 вызывается последовательность символов
	запомненная в переменной _MACRO.В режиме просмотра эта возможность
	работает как Set Key,в редакции - как Set Function.

		Пример:

	{CtrlF5} 	_Macro=_Right+_right+chr(_enter)

	Теперь, в режиме просмотра, по CtrlF1 вы войдете в редакцию поля
	CurrentField+2

	{CtrlF5}	_macro='Bravo !'

	Теперь, в режиме редакции, по CtrlF1 в поле будет записан текст
	Bravo !

	Это удобно,когда надо в интерактивном режиме занести во многие поля
	сходную информацию.


	   11.Выход в Dos.
	   ---------------

		Иногда при вызове командного процессора возникает ошибка
	RUN. Рекомендую Вам поставить в Autoexec Set Clipper=R192
		То же самое относится и к смене диска/директории .


   	   12.Использование мышки.
	   -----------------------

		В режиме просмотра действуют следующие правила:

	- любой батон на строке названия базы = Select Base
	- любой батон на строке названий полей = Set Fields
	- любой батон на функциональной строке = соответствующей
	  функции (исключение : правый на F10 заканчивает без спроса),
	  в т.ч. и с Ctrl и Alt
	- любой батон на 22 строке - сдвижка на относительную позицию
	  поля в файле
	- любой батон в основном пространстве (4-21 строка) = переход на это
	  поле
	- любой батон на том же самом поле = Enter
	- любой батон на 79 колонке - сдвижка в файле на относительную
	  позицию.

		В режиме выбора по Achoice (н-р,при выборе индекса):

	 - правый=Escape
	 - левый на верхней рамке = PgUp
	 - левый на нижней рамке = PgDn
	 - левый внутри - первый раз:встать на элемент,второй:выбрать

		В меню :

	 - правый=Escape
	 - левый=Enter

		При выводе предупреждающих сообщений - любой=Аникею.


	   13.Совместимость с FoxPro.
	   --------------------------

		BDBF умеет смотреть файлы FoxPro с мемо-полями.
	Но для того,чтобы это сделать ,приходится их слегка корректировать.
	Если затем закончить работу нормально,то все будет восстановлено
 обратно.Однако, если произошло "вдруг" ,то для восстановления нормального
 вида таких файлов надо :
 	- в третий байт проставить 245
	- в идентификатор типа поля мемо поставить M (вместо N)

	Bdbf смотрит поля мемо FPT,но не умеет их редактировать.
  Кроме того,у меня по непонятным  причинам (не могу уловить за-
  кономерность) иногда при этом просмотре вылетала ошибка Out of Memory :(
  Как известно,эта ошибка невосстанавливаемая.Так что-пользуйтесь осторожно.

	Замечу,что нельзя смотреть файлы с более чем одним полем Мемо =>
  не пытайтесь глядеть файлы меню,прожектов и т.п..

	Как уже отмечалось,в Browse поддерживаются клавиши Tab,Shift-Tab
	Системные переменные начала и завершения печати имеют те же названия,
  как и	в FoxPRO.



	  14.Работа в сети.
	  -----------------

		Я долго не хотел встраивать работу в сети,т.к. не верю,
	что кто-то будет так BDBF использовать,а потери по размеру файла
	и скорости работы имеют место.Но потом из соревновательного интереса
	(в VDBF есть) все же решился.

		Гарантируется совместная работа с Dbase приложениями,в т.ч.
	с Vdbf.Не гарантируется совместная работа ,н-р, с Dbview от Norton-a.


	  15.Обработка ошибок.
	  --------------------

		Вообщем-то предпринято немало мер к тому,чтобы неправильные
	действия не завершали полностью работу.(Широко используются
	Sequence в паре с ErrorSys).Вылетов по ошибкам программы вроде бы
	последнее время не наблюдается,но т.к. это бета-версия,то не исклю-
	чено.В этом случае bdbf рисует рамочку и пишет что-то вроде
		"Неверное выражение           333"
	Большая просьба : запишите это 333 (номер строки) и сообщите автору.
	Но имейте в виду,что такое сообщение может возникнуть и в резуль-
	тате ,н-р,Вашего неверного ввода выражения,тогда надо просто попра-
	виться.

		На всякий случай помните,что стандартное AltC Clipper
	 остается.


	   16.Чего в Bdbf нет по сравнению с Vdbf.
	   ---------------------------------------

		- "звездной болезни" - ну очень раздражало и не только меня.
	Кому жалко монитор - PU_Clear !!!

		-  переиндексации Ndx и Idx.
	Все равно непосредственно с этими индексами работать нельзя,
	а нужен NTX - AltF9

		- режима Edit.
		  Cпорный момент,конечно,но я решил отказаться.
	Возни (на все случаи жизни) с этим делом много,а используется по
	моим наблюдениям он редко,гл.обр. для повышения наглядности.
	Ну так можно использовать Set Fields и вырезать то ,что нужно.

		- поиска по всем полям сразу.
	 Очень долго и ,на мой взгляд, при наличии Locate практически
	 не нужно.

		- звукового сигнала при смене картинок - а мне так не ндра-
		  вится ! :-)


	  17. Системные переменные.
	  -------------------------

	  Вы можете как угодно использовать в выражениях (примеры
	  выше) следующие переменные:

Переменные условий:
	Условие Locate	   	_LCONDIT
	Условие Seek	   	_FCONDIT
	Условие Sum	   	_SumCOND
	Условие Print		_PCOND
	Условие Count		_CountCOND
	Условие Delete		_DelCOND
	Условие вычисления	_ECOND
	Условие Replace		_RCOND
	Выражение Replace	_Repl
	Условие SoftSeek	_Soft
	Маска поиска файлов	_Mask

Переменные результатов:
	Последняя сумма 	__Sum
	Последний Count 	__Count
	Последний результат 	__Go
	Директория перехода 	_newDir

Установки печати:
	Центровка чисел при выводе		_NeedCentr
	Печатать ли номера записей		_NeedRec
	Стартовая последовательность принтера	_PSCode
	Конечная последовательность принтера	_PECode


Цветовая гамма:
	Основной цвет 		_Bm
	Цвет Help и запросов 	_Im
	Цвет результатов	_CM
	Цвет ожидания		_Imb
	Цвет теней(код)		_colorBorder  [7]

Текущая база:			base

Клавиши :

 _Right,_left,_up,_Down,_pgUp,_pgdn,_lf,_ctrlEnd,_CtrlHome -  символьные
 _Enter,_Esc,_Home,_Del,_Ins - соответствующие коды.


	  18.Клавишные коды.
	  ------------------

	Нажимая в BDBF на клавиши,обратите внимание на левый верхний угол,
  где высвечивается,то, что Вы нажали.Там можно обнаружить немало интерес-
  ного.Так,например,понажимайте на Ctrl-стрелки , Alt-стрелки или,скажем,на
  ALT BackSpace.Что, ничего не изменилось с первого раза? Жмите еще,будете
  вознаграждены.Мало того,что нигде не написано ,что н-р, Alt влево возвра-
  щает 411.Но кто мне объяснит,почему не всегда ?! Интересно также сравнить
  результаты с KnKBDI.


	  19.Запуск bdbf.
	  ---------------

		Можно запустить с  параметром * - тогда будут предложены
       файлы на выбор.
		Параметр /BW настраивает цвета на монохром.Впрочем,
	на черно-белом EGA/VGA и так видно отлично.


	  20.Языковый интерфейс.
	  ----------------------

		Может вызвать удивление смешение при сообщениях и
	Help-ах русского и английского.Ориентация здесь была такая:
	то что стандартно и адресовано ,в основном, программисту -
	английское,остальное по-русски.Кого не устраивает ,могу по заявке
	переписать.


	  21.Благодарности.
	  -----------------

	 Nantucket,American Cybernetics,Borland,Symantec - за использованные
 продукты .

	 Авторам Софтпанорамы.

	 М.Ведмеденко,Г.Грачевой,Ю.Грузглину,В.Жиленко,С.Пролагаеву
	 за дружескую ругань.


	  22.Дальнейшие ругательства.
	  ---------------------------

	  Присылать по адресу:
	    Луганск,348024,Ленинградская 8,
	    Бондарю Евгению Леонидовичу

	    [0642] 52-41-07 Луганский КЦ Национального банка Украины

	   Пишите заявки - 10 шифтовых клавиш еще свободны.
