.LEV 0
.ASK $HL HELP-файл

.IFT $HL
.COM DOC V7.06 - HELP-файл
.COM Необходимо было установить ширину 76-78 символов
.SET $SH
.SEF TOC

.IFF $HL
.ASK $SH Краткое руководство
.IFT $SH
.COM DOC V7.06 - Краткое руководство
.EIF $HL

.IFF $SH
.TOC
.COM Программа DOC V7.06/10-nov-1992
.TTL
V P K   S o f t w a r e


Программа форматирования документации

DOC V7.06-PC

10-nov-1992
.STL *** DOC V7.06 ***
.HDR
Введение
.LIN 0
Документ содержит руководство по использованию программы
форматирования текстов "DOC" и описание ее управляющих директив.
.LIN
Версия программы "DOC" для ОС-РВ/RSX написана на языке ФОРТРАН-IV
и МАКРОАССЕМБЛЕРЕ PDP-11
с использованием библиотеки подпрограмм для работы со строками,
(см. "Библиотека подпрограмм USLIB. Подпрограммы общего назначения.
Руководство программиста", ОНПО "ТЕХНОЛОГИЯ", Обнинск, 1988).
.LIN
Прототипом программы послужили исходные тексты из файла
"DOC.PGN" операционной системы РАФОС. Адаптация и доработка программы
для работы в ОС-РВ/RSX привела к существенному расширению функций программы.
.LIN
Основные отличия программы "DOC" версии V5.00/1987г. от прототипа заключались
в следующем:
.NPR
.EP2
В программе реализована возможность переноса слов; ключ "/-PER" позволяет
запретить перенос;
.EP2
Ключ "/-TOC" запрещает сбор содержания (полезно при выводе неотлаженного
текста для ускорения процедуры), по ключу "/TOC"
во время первого прохода содержание выводится на терминал;
.EP2
Ключ "/-TIT" запрещает вывод титульного листа и листа утверждения
(при выводе неотлаженного текста);
.EP2
При указании ключа "/ENG" в сформатированном тексте слова "СОДЕРЖАНИЕ",
"ПРИМЕЧАНИЕ", "ПРИЛОЖЕНИЕ", "АННОТАЦИЯ", формируемые программой
DOC, заменяются их эквивалентами на английском языке; при этом
игнорируется директива ".TLU" и запрещается перенос слов.
.EP2
Ключ "/LNG" позволяет формировать страницы для вывода на АЦПУ СМ-6315
с узким промежутком между строками (3.17мм, 84 строки на странице),
по умолчанию "/-LNG", т.е. промежуток 4.23мм (62 строки на странице);
.EP2
Ключ "/WID:N" позволяет задать ширину страницы от 40 до 132 символов
(по умолчанию 62 символа);
.EP2
Ключ "/-NUM" запрещает нумерацию страниц;
.EP2
Добавлены новые директивы ("JMP", "LIS", "DFN", "DF2", "CPD",
"DSB", "ENB", "MRL", "MRR", "SSB", "IPN", "SWN", "AVA"), исключена
директива "LST";
.EP2
Изменено действие директив "CPT" и "LIS", заголовки форматируются
также, как и по директиве "HLV";
.EP2
Максимальная глубина вложения директив ".CPY" и ".CPD" увеличена до 3.
.EP2
Изменены структура программы и перекрытий; за счет перевода части
подпрограмм с ФОРТРАНА на МАКРОАССЕМБЛЕР размер программы уменьшен
на 8к байт по сравнению с прототипом.
.CPY DOCPAT60.DOC
.CPY DOCPAT70.DOC
.HDR +1
Назначение программы
.LIN 0
Программа "DOC" предназначена для получения текстов в форме, удобной для
чтения, распечатки созданных или скорректированных файлов. Формат
исходного текста позволяет быстро вносить изменения средствами редактирования.
.LIN
.IFT $SH
.IFF $HL
.HDR
Командная строка DOC
.LIN 0
.EIF $HL
.EIF $SH
Командная строка программы DOC:
.SWT
                >DOC IN_file[.DOC] [OUT_file[.DPR]]
 где
.DFN IN_file
спецификация файла с исходным текстом, по умолчанию
тип файла ".DOC";
.DFN OUT_file
спецификация выходного файла, в который будет выводиться
сформатированный документ.
.BLN
Если какой-либо эелемент командной строки не указан, его
можно ввести в диалоговом режиме после запуска "DOC".
.LIN
Для "DOC", работающей в ОС-РВ/RSX, режимы работы задаются с помощью
ключевых слов в командной строке; в версии для MS-DOS режимы задаются
через меню.
.IFF $SH
.ATT
При распечатке документа с оглавлением программа использует временный файл
"DOC.TMP", создаваемый на том же устройстве и в том же каталоге,
где расположен входной файл. Таким образом, входной файл при
необходимости сбора оглавления должен находиться на диске.
Кроме того, пользователь, форматирующий текст
со сбором оглавления, должен иметь право доступа для записи в каталог,
содержащий входной файл.
.HDR
Директивы программы DOC
.LIN 0
Исходный текст документа размещается в одном или нескольких файлах
и состоит из текстовой информации и директив форматирования.
Сформатированная текстовая информация выводится в виде,
определяемом директивами:
.AND
форматирования текста;
.AND 0
оформления страниц;
.AND 0
описания структуры документа;
.AND 0
служебными;
.AND 0
условного вывода.
.LIN
При форматировании текста производится автоматический перенос слов
(состоящих из символов русского алфавита). Исходный текст
может содержать знаки переноса слов в последней позиции строки,
если знаку "-" предшествует символ русского алфавита.
Запретить перенос можно через главное меню.
.HDR +1
Синтаксис директив
.LIN 0
Все директивы должны размещаться на отдельных строках, начиная с
п_е_р_в_о_й позиции строки. Директивы имеют следующий формат:
.SWT
                .DIR ARG
 где
.DFN ".DIR"
идентификатор, состоящий из 4 знаков; все директивы начинаются
со знака ".";
.DFN ARG
аргумент директивы, в зависимости от директивы должен быть
целым десятичным числом, строкой текста или спецификацией файла;
некоторые директивы не требуют аргумента;
опущенный числовой аргумент директивы по умолчанию имеет значение "1"
(кроме директив ".HDR", ".LEV", ".LEF", ".RIG", ".MRL", ".MRR").
.EIF $SH

.IFT $HL
.SWT
	Директивы программы DOC:
--------------------------------------------------------------------------------
 1. Форматирования текста:
		LIN BLN SKI SWT SWN MID RIT SSB AVA NAV

 2. Форматирования страниц:
		STL PAG CLN TES INP DSB ENB

 3. Описания структуры:
		TLU TTL TOC TCT INT APN LIS CPT HLV HDR LEV
		AND AN2 TBL TB2 DFN DF2 ATT NPR EPR EP2 HDL
		HDB

 4. Служебные:
		COM JMP MRL MRR LEF RIG DSB ENB

 5. Работы с файлами:
		CHA CPY CPD CPS

 6. Условного вывода:
		SET SEF ASK IFF IFT EIF ERA
.IFF $HL
.HDR
Директивы форматирования текста
.EIF $HL

.IFF $SH
.HDR +1
Директива ".LIN [N]"
.LIN 0
Директива требует один числовой аргумент, который определяет количество
пустых строк, пропускаемых перед началом следующего фрагмента текста.
Под фрагментом понимается текст, расположенный между двумя директивами.
Распечатка фрагмента, следующего за директивой ".LIN", начинается
с красной строки.

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".LIN [N]"
распечатка фрагмента, следующего за директивой ".LIN", начинается
с красной строки. "N" определяет количество
пустых строк, пропускаемых перед началом следующего фрагмента текста.
.IFF $SH
Если фрагмент текста попадает на начало страницы, пропуск строк не
выполняется. В том случае, когда пропуск строк приводит к переводу
на новую страницу, фрагмент начинается с начала этой колонки.
.LIN
Директива ".LIN" переводит "DOC" в режим вывода, при котором формирование
выходной строки происходит пословно из входной текстовой информации.
При этом строки выравниваются по длине, дополняясь пробелами между словами.
.HDR
Директива ".AVA [N]"
.LIN 0
Директива ".AVA"

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".AVA [N]"
.EIF $SH
определяет начало режима "АВТОАБЗАЦ". Этот
режим действует до появления директивы ".NAV".
В режиме "АВТОАБЗАЦ" начало каждого фрагмента текста
с горизонтальной табуляции или 3 и более пробелов
подразумевает начало следующего абзаца, то есть эквивалентно
действию директивы ".LIN" с аргументом, равным значению
аргумента в директиве ".AVA".
.IFF $SH
.HDR
Директива ".NAV"
.LIN 0
Директива ".NAV"

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".NAV"
.EIF $SH

отменяет действие режима "АВТОАБЗАЦ" (см. директиву ".AVA").
.IFF $SH
.HDR
Директива ".BLN [N]"
.LIN 0
Директива ".BLN"

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".BLN [N]"
.EIF $SH
аналогична ".LIN", но в отличие от ".LIN"
распечатка фрагмента текста начинается с начала строки.

.IFF $SH
.HDR
Директива ".SKI [N]"
.LIN 0
Директива ".SKI"

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SKI [N]"
.EIF $SH

аналогична ".BLN", но
пропуск строк производится, даже если следующий фрагмент
попадает на начало колонки. Если на текущей колонке осталось строк меньше,
чем требует аргумент, предварительно производится переход на новую колонку.

.IFF $SH
.HDR
Директива ".SWT [N]"
.LIN 0
По этой директиве

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SWT [N]"
.EIF $SH

следующий фрагмент текста копируется
в выходной файл без форматирования,
включая пустые строки. Числовой аргумент определяет количество пустых строк,
пропускаемых  перед фрагментом текста.
Строки фрагмента текста должны иметь длину, не превышающую ширину колонки.

.IFF $SH
.HDR
Директива ".SWN [N]"
.LIN 0
Директива ".SWN"

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SWN [N]"
.EIF $SH

аналогична директиве ".SWT", но не производит усечение строк,
превышающих по длине ширину колонки, а переносит остаток
на следующую строку, помечая начало символом ">".

.IFF $SH
.HDR
Директива ".MID TEXT"
.LIN 0
Директива имеет текстовой аргумент. Строка-аргумент 

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".MID [TEXT]"
строка-аргумент 
.EIF $SH

выводится по центру
колонки. Длина строки-аргумента не должна превышать ширину колонки.
Если после директивы ".MID" следует текст, не содержащий любой
из директив "DOC", то все строки до появления первой директивы
также выводятся по центру колонки.

.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .MID ЭТИ СТРОКИ
 РАСПОЛОЖЕНЫ
 ПО ЦЕНТРУ КОЛОНКИ
.SKI
.MID *** ВЫВЕДЕННЫЙ ТЕКСТ ***
.SKI
.MID ЭТИ СТРОКИ
РАСПОЛОЖЕНЫ
ПО ЦЕНТРУ КОЛОНКИ
.HDR
Директива ".RIT TEXT"
.LIN 0
Директива ".RIT" имеет текстовой аргумент. Строка-аргумент 

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".RIT [TEXT]"
строка-аргумент 
.EIF $SH

выравнивается по
правой границе колонки. Длина строки-аргумента не должна превышать
ширину колонки.
Если после директивы ".RIT" следует текст, не содержащий любой
из директив "DOC", то все строки до появления первой директивы
также выравниваются пр правой границе колонки.

.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .RIT Эти строки
 выравнены
 по правой границе
 колонки
.SKI
.MID *** ВЫВЕДЕННЫЙ ТЕКСТ ***
.SKI
.RIT Эти строки
выравнены
по правой границе
колонки
.HDR
Директива ".SSB [SYM]"
.LIN 0
В качестве

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SSB [SYM]"
в качестве
.EIF $SH
аргумента директивы используется одиночный символ. Этот
символ при выводе последующих строк форматируемого текста будет
заменяться пробелами. Эта возможность полезна при необходимости
сделать пропуск нескольких позиций внутри форматируемой строки,
чтобы после вывода записать вручную в эти позиции нужную информацию.
Для того чтобы отменить замену символа пробелом, необходимо использовать
директиву ".SSB" без аргумента.

.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .SSB %
 .BLN
 При значениях %%%= 0.33, %%%= 1.6Е-5 решение
 задачи устойчиво.
 .SSB
 Величина погрешности не превышает 0.3%.
.SKI
.MID *** ВЫВЕДЕННЫЙ ТЕКСТ ***
.SKI
.SSB %
.BLN
При значениях %%%= 0.33, %%%= 1.6е-5 решение
задачи устойчиво.
.SSB
Величина погрешности не превышает 0.3%.
.LEV -1
.IFF $HL
.HDR
Директивы форматирования страниц
.EIF $HL
.IFF $SH
.LIN 0
Программа "DOC" автоматически формирует страницы распечатываемого документа.
В оформление страницы документа входят:
.AND
нумерация страниц;
.AND 0
обозначение документа;
.AND 0
сформатированный текст документа.
.LIN
Нумерация страниц осуществляется автоматически, если она или разбиение на
страницы не отменены в главном меню.
Номер страницы печатается в центре колонки в виде "- XX -".
.LIN
Обозначение документа представляет собой текстовую строку, выводимую
в начале страницы. Строка задается в директиве ".STL".
.HDR +1
Директива ".STL [TEXT]"
.LIN 0
Аргумент

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".STL [TEXT]"
аргумент
.EIF $SH

директивы ".STL" - текстовая строка, используемая в качестве
обозначения документа, выводится вверху под номером листа.
Действие директивы ".STL" может быть изменено (отменено) другой
директивой ".STL".
Чтобы отказаться от вывода обозначения, достаточно использовать
директиву без аргумента.

.IFF $SH
.HDR
Директива ".PAG"
.LIN 0
По этой директиве

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".PAG"
.EIF $SH

производится переход на новую страницу документа.
Переход не производится, если директива обрабатывается в начале страницы.
.IFF $SH
.HDR
Директива ".CLN"
.LIN 0
По этой директиве

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CLN"
.EIF $SH

производится переход на новую колонку документа.
Переход не производится, если директива обрабатывается в начале колонки.
Для данной версии программы директива ".CLN" совпадает с ".PAG".
.IFF $SH
.HDR
Директива ".TES"
.LIN 0
По этой директиве

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TES [N]"
.EIF $SH

производится переход на новую колонку документа, если в
текущей колонке осталось строк меньше, чем задано числовым аргументом
директивы.
.IFF $SH
.LEV -1
.EIF $SH
.IFF $HL
.HDR
Директивы описания структуры
.EIF $HL
.IFF $SH
.LIN 0
Для описания структуры документа "DOC" предоставляет набор директив, которые
позволяют выделить в документе:
.AND
лист утверждения;
.AND 0
титульный лист;
.AND 0
аннотацию;
.AND 0
содержание;
.AND 0
разделы и подразделы;
.AND 0
пункты и подпункты;
.AND 0
перечисления и определения;
.AND 0
примечания;
.AND 0
приложения;
.AND 0
перечни.
.LIN
Приложения могут содержать разделы, подразделы и т.д.
.LIN
Использование директив описания структуры облегчает формирование заголовков и
обеспечивает автоматический сбор содержания и нумерацию разделов, подразделов,
пунктов, подпунктов и приложений.
.HDR +1
Директива ".TLU"
.LIN 0
Директива

.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TLU"
.EIF $SH

формирует лист утверждения документа из 16 следующих за ней строк.
Ниже представлен пример содержимого этих строк:
.NPR .
.EP2
Название предприятия; например, "ТОО "ЭСТЕЛЬ-Е";
.EP2 0
Должность утверждающего лица; например,
"ДИРЕКТОР";
.EP2 0
Ф.И.О. утверждающего лица; например, "Г.П.ДРОНОВ";
.EP2 0
Наименование тематики, к которой относится документ,
например "ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ СМ ЭВМ";
.EP2 0
Полное наименование
операционной системы (для документации на программное
обеспечение); например, "ОПЕРАЦИОННАЯ СИСТЕМА РЕАЛЬНОГО ВРЕМЕНИ"
.EP2 0
Сокращенное наименование операционной системы, например "RSX-11М V4.1";
.EP2 0
Название программной компоненты (для документации на программное
обеспечение), например, "ПРОГРАММА ФОРМАТИРОВАНИЯ ДОКУМЕНТАЦИИ";
.EP2 0
Имя и версия программной компоненты (для документации на программное
обеспечение), например, "DOC V7.03";
.EP2 0
Вид документа, например, "РУКОВОДСТВО ОПЕРАТОРА";
.EP2 0
Версия документа, например, "D091087";
.EP2 0
Должность руководителя подразделения;
.EP2 0
Фамилия и инициалы руководителя подразделения;
.EP2 0
Должность руководителя темы;
.EP2 0
Фамилия и инициалы руководителя темы;
.EP2 0
Должность исполнителя документа;
.EP2 0
Фамилия и инициалы исполнителя документа;
.IFF $SH
.ATT
Большая часть из 16-ти строк может быть заменена пустыми строками.
.LIN
Действие директивы ".TLU" можно отменить в главном меню.
.HDR
Директива ".TTL"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TTL"
.EIF $SH
формирует титульный лист документа из 8 следующих за ней строк.
Ниже представлен пример содержимого этих строк:
.NPR .
.EP2
Название организации;
.EP2 0
Вид обеспечения;
.EP2 0
Полное название операционной системы  (для программного обеспечения);
.EP2 0
Сокращенное название операционной системы  (для программного обеспечения);
.EP2 0
Название программной компоненты; например,
"ПРОГРАММА ФОРМАТИРОВАНИЯ ДОКУМЕНТАЦИИ";
.EP2 0
Сокращенное наименование программной компоненты;
например, "DOC V7.03";
.EP2 0
Вид документа, например, "РУКОВОДСТВО ОПЕРАТОРА";
.EP2 0
Версия документа, например, "D091087".
.IFF $SH
.LIN
Действие директивы ".TTL" можно отменить в главном меню.
.HDR
Директива ".TOC"
.LIN 0
Директива ".TOC"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TOC"
.EIF $SH
используется для указания необходимости сбора оглавления.
Директива ".TOC" должна предшествовать первому выводимому фрагменту текста.
.IFF $SH
.LIN
При сборе содержания "DOC" выполняет два прохода (просмотра) исходного
текста. При этом на первом проходе осуществляется сбор оглавления,
а на втором - распечатка документа и оглавления.
.LIN
В конце первого прохода на терминале оператора распечатывается сообщение
о завершении первого прохода и количестве страниц, которое будет содержать
сформатированный документ.
.LIN
Действие директивы ".TOC" можно отменить в главном меню.
.HDR
Директива ".TCT [TEXT]"
.LIN 0
Данная директива
позволяет заносить дополнительную информацию
в оглавление документа. Если в исходном тексте не используется
директива ".TOC", то ".TCT" игнорируются.
.LIN
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TCT [TEXT]"
.EIF $SH
имеет в качестве аргумента текстовую строку, которая
заносится в содержание документа. Положение директив ".TCT" в исходном
тексте определяет место в оглавлении, где указанные в директивах
строки будут распечатаны.
.IFF $SH
.LIN
Основное назначение данной директивы - обеспечить средство,
позволяющее включить в оглавление первой части документа перечисление
остальных частей документа и их обозначений.
.HDR
Директива ".INT"
.LIN 0
Директива ".INT"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".INT"
.EIF $SH
определяет начало аннотации к документу. Фрагменты текста,
следующие за директивой (и разделенные, может быть, директивами форматирования
текста) включаются в аннотацию. Ограничением аннотации будет начало
одного из разделов, подразделов, пунктов, подпунктов или приложений.
.IFF $SH
.ATT
В аннотации допустимо использование перечислений и примечаний.
.HDR
Директива ".APN [TEXT]"
.LIN 0
По этой директиве
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".APN [TEXT]"
.EIF $SH
начинается распечатка приложения; текстовой
аргумент исползуется как заголовок. Приложения начинаются с новой страницы.
Вторая и последующие страницы приложения помечаются строкой "ПРОДОЛЖЕНИЕ
ПРИЛОЖЕНИЯ N". Для отмены вывода этой строки после окончания приложения
необходимо использовать директиву ".STL" без аргумента.
.IFF $SH
.HDR
Директива ".LIS TEXT"
.LIN 0
По этой директиве
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".LIS TEXT"
.EIF $SH
начинается распечатка перечней, используя текстовый
аргумент как заголовок. Перечни начинаются с новой страницы. Заголовок
перечня заносится в оглавление документа, но не нумеруется.
Директива ".LIS" эквивалента директиве ".HDR", обрабатываемой на 0-м
уровне.
Строки, следующие за директивой ".LIS" до появления любой директивы,
считаются продолжением заголовка, и включаются в оглавление. Директива
может использоваться для оформления фрагментов текста, чьи заголовки
должны выводится в оглавлении без нумерации, например, "ВВЕДЕНИЕ".
.IFF $SH
.HDR
Директива ".CPT TEXT"
.LIN 0
По этой директиве
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CPT TEXT"
.EIF $SH
начинается распечатка раздела. Директива аналогична
".APN". Текстовый аргумент директивы является заголовком раздела,
заносится в оглавление документа и нумеруется.
Директива ".CPT" эквивалента директиве ".HDR", обрабатываемой на 1-м
уровне.
Строки, следующие за директивой ".CPT" до появления любой директивы,
считаются продолжением заголовка, и включаются в оглавление.
.IFF $SH
.HDR
Директива ".HLV [N]"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".HLV [N]"
.EIF $SH
используется для определения начала подраздела, пункта или
подпункта. интерпретация директивы определяется числовым аргументом:
.SWT
	N=1	- подраздел;
	N=2	- пункт;
	N=3	- подпункт.
.IFT $SH
.LEF 9
.EIF $SH
.BLN
Фрагмент текста, следующий за директивой, используется как заголовок.
Заголовок форматируется аналогично текстовой информации, но на меньшую
длину выходной строки.
Директива ".HLV [N]" эквивалента директиве ".HDR", обрабатываемой на (N+1)-М
уровне.
.IFT $SH
.LEF
.IFF $SH
.HDR
Директива ".HDR [+-N] [,+-M]"
.LIN 0
Директива ".HDR"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".HDR [+-N] [,+-M]"
.EIF $SH
является обобщением директив ".LIS", ".CPT" И ".HLV".
Она использует текущее значение уровня заголовков (0 для ".LIS",
1 для ".CPT, 2-4 для ".HLV") и формирует заголовок соответствующего
уровня из фрагмента следующего за директивой текста.
Аргумент "+-N" позволяет:
.AN2
задать текущий уровень заголовков, указав "N" без знака (N=0-4);
.AN2
увеличить или уменьшить текущий уровень заголовков,
указав "N" со знаком "+" или "-".
.IFT $SH
.LEF 9
.EIF $SH
.BLN
Если "N" не указан, то формируется заголовок на текущем уровне.
С помощью аргумента "+-M" можно задать или изменить (аналогично "N")
номер заголовка соответствующего уровня.
.IFT $SH
.LEF
.IFF $SH
.LIN
Директиву ".HDR" полезно использовать в документах, которые
могут выводиться отдельно или включаться в другой документ, изменяя
при этом уровни заголовков.
.LIN
Для начальной установки уровня можно использовать директиву ".LEV".
.HDR
Директива ".LEV [+-N][,+-M]"
.LIN 0
Директива ".LEV"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".LEV [+-N] [,+-M]"
.EIF $SH
Предназначена для начальной установки уровня заголовков.
Аргументы директивы имеют тот же смысл, что и в директиве ".HDR".
.IFF $SH
.HDR
Директива ".AND [N]"
.LIN 0
Директива ".AND"
.IFT $SH
.IFT $HL
.SWT
2 AND
.EIF $HL
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".AND [N]"
.EIF $SH
определяет начало фрагмента текста, который используется как
элемент перечисления. Элемент перечисления перед выводом
дополняется знаком "-" и форматируется
аналогично текстовой информации.
.IFF $SH
.LIN
Числовой аргумент указывает на количество пустых
строк перед началом данного элемента перечисления.
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .BLN
 Ограничителем   цикла "DO" не может быть:
 .AND
 оператор "GOTO";
 .AND 0
 арифметический "IF";
 .AND 0
 оператор "END";
 .AND 0
 оператор "RETURN";
 .AND 0
 оператор "DO".
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.BLN
Ограничителем   цикла "DO" не может быть:
.AND
оператор "GOTO";
.AND 0
арифметический "IF";
.AND 0
оператор "END";
.AND 0
оператор "RETURN";
.AND 0
оператор "DO".
.HDR
Директива ".AN2 [N]"
.LIN 0
Директива ".AN2"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".AN2 [N]"
.EIF $SH
аналогична директиве ".AND", но форматирование производится на более
короткой длине строки.
.IFF $SH
.BLN
Приведем текст примера из предыдущего параграфа, полученный после
замены ".AND" на ".AN2":
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.BLN
Ограничителем   цикла "DO" не может быть:
.AN2
оператор "GOTO";
.AN2 0
арифметический "IF";
.AN2 0
оператор "END";
.AN2 0
оператор "RETURN";
.AN2 0
оператор "DO".
.HDR
Директива ".NPR [SYM]"
.LIN 0
Директива ".NPR"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".NPR [SYM]"
.EIF $SH
определяет начало перечисления с нумерацией (устанавливает счетчик
номеров в 1) и задает символ (SYM), который будет служить
ограничителем номеров элементов перечисления; по умолчанию - ")".
.IFF $SH
.HDR
Директива ".EPR [N]"
.LIN 0
Директива ".EPR"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".EPR [N]"
.EIF $SH
определяет начало очередного элемента перечисления с нумерацией,
которым является следующий за директивой текст.
В начало текста вставляется последовательный
номер элемента перечисления, отделяемый от текста символом, заданным
директивой ".NPR". Аргумент "N" задает число пропускаемых перед выводом
строк.
.IFF $SH
.BLN
Пример:
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .BLN
 Ограничителем   цикла "DO" не может быть:
 .NPR .
 .EPR
 оператор "GOTO";
 .EPR 0
 арифметический "IF";
 .EPR 0
 оператор "END";
 .EPR 0
 оператор "RETURN";
 .EPR 0
 оператор "DO".
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.BLN
Ограничителем   цикла "DO" не может быть:
.NPR .
.EPR
оператор "GOTO";
.EPR 0
арифметический "IF";
.EPR 0
оператор "END";
.EPR 0
оператор "RETURN";
.EPR 0
оператор "DO".
.HDR
Директива ".EP2 [N]"
.LIN 0
Директива ".EP2"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".EP2 [N]"
.EIF $SH
аналогична ".EPR", но форматируемая строка сдвинута вправо.
.IFF $SH
.BLN
Пример:
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .BLN
 Ограничителем   цикла "DO" не может быть:
 .NPR
 .EP2
 оператор "GOTO";
 .EP2 0
 арифметический "IF";
 .EP2 0
 оператор "END";
 .EP2 0
 оператор "RETURN";
 .EP2 0
 оператор "DO".
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.BLN
Ограничителем   цикла "DO" не может быть:
.NPR
.EP2
оператор "GOTO";
.EP2 0
арифметический "IF";
.EP2 0
оператор "END";
.EP2 0
оператор "RETURN";
.EP2 0
оператор "DO".

.IFF $SH
.HDR
Директивы ".HDL [N]", ".HDB [N]"
.LIN 0
Директивы ".HDL" и ".HDB"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".HDL [N]", ".HDB [N]"
.EIF $SH
определяют начало очередного подпункта без вывода в содержание с нумерацией
относительно текущего пункта (параграфа). По директиве ".HDL" вывод
начинается с красной строки (как ".LIN"), по директиве ".HDB" - с
начала строки.
Аргумент "N" задает число пропускаемых перед выводом строк.
.IFF $SH
.BLN
Пример:
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .HDL
 Этот подпункт нумеруется относительно текущего
 структурного элемента.
 .HDB
 Это следующий подпункт.
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.HDL
 Этот подпункт нумеруется относительно текущего
 структурного элемента.
.HDB
 Это следующий подпункт.
.HDR
Директива ".TBL TEXT"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TBL [TEXT]"
.EIF $SH
является комбинацией директив ".SWT" и ".AND 0" и позволяет
заменить их последовательность на более короткую:
.SWT
                 .SWT		.TBL СТРОКА
                  СТРОКА =====>	ТЕКСТ
                 .AND 0
                 ТЕКСТ
.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .TBL "/CD:XXX"
 КЛЮЧ ПОЗВОЛЯЕТ УКАЗАТЬ ТРАНСЛЯТОРУ
 ТИП ГЕНЕРИРУЕМОГО КОДА.
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.TBL "/CD:XXX"
КЛЮЧ ПОЗВОЛЯЕТ УКАЗАТЬ ТРАНСЛЯТОРУ
ТИП ГЕНЕРИРУЕМОГО КОДА.
.HDR
Директива ".TB2 TEXT"
.LIN 0
Директива ".TB2"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".TB2 TEXT"
.EIF $SH
аналогична директиве ".TBL", но форматирование производится на более
короткой длине строки.
.IFF $SH
.BLN
Предыдущий пример после замены ".TBL" на ".TB2" дает текст:
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.TB2 "/CD:XXX"
КЛЮЧ ПОЗВОЛЯЕТ УКАЗАТЬ ТРАНСЛЯТОРУ
ТИП ГЕНЕРИРУЕМОГО КОДА.
.IFF $SH
.HDR
Директива ".DFN TEXT"
.LIN 0
Директива ".DFN"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".DFN TEXT"
.EIF $SH
начинает определение. Строка-аргумент печатается
в начале строки выходного аргумента, текст, следующий за директивой,
форматируется, начиная с этой же строки со сдвигом вправо.
Между строкой-аргументом и последующим текстом помещается знак "-".
.IFT $SH
.LEF 9
.EIF $SH
.BLN
Если строка-аргумент не помещается слева от текста, она печатается
отдельной строкой (аналогично действию директивы ".TBL").
.IFT $SH
.LEF
.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .DFN THR
 МОДУЛЬНЫЙ КОД;
 .DFN FIS
 ПРЯМОЙ КОД С ИСПОЛЬЗОВАНИЕМ ИНСТРУКЦИЙ
 FADD, FSUB, FMUL, FDIV.
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.SKI
.DFN THR
МОДУЛЬНЫЙ КОД;
.DFN FIS
ПРЯМОЙ КОД С ИСПОЛЬЗОВАНИЕМ ИНСТРУКЦИЙ
FADD, FSUB, FMUL, FDIV.
.HDR
Директива ".DF2 TEXT"
.LIN 0
Директива ".DF2"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".DF2 TEXT"
.EIF $SH
аналогична директиве ".DFN", но
текст, следующий за директивой, форматируется на меньшей длине строки.
.IFF $SH
.BLN
При использовании в предыдущем примере директивы ".DF2" вместо ".DFN"
имеем:
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.SKI
.DF2 THR
МОДУЛЬНЫЙ КОД;
.DF2 FIS
ПРЯМОЙ КОД С ИСПОЛЬЗОВАНИЕМ ИНСТРУКЦИЙ
FADD, FSUB, FMUL, FDIV.
.HDR
Директива ".ATT"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".ATT"
.EIF $SH
определяет начало фрагмента текста примечания. Числовой аргумент
не используется. Форматирование проводится аналогично текстовой информации.
В документе тексту примечания предшествует слово "ПРИМЕЧАНИЕ".
.IFF $SH
.LEV -1
.EIF $SH
.IFF $HL
.HDR
Служебные директивы
.EIF $HL
.IFF $SH
.HDR +1
Директива ".COM TEXT"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".COM TEXT"
.EIF $SH
предназначена для внесения комментариев в исходный текст документа.
Строки-аргументы директив не выводятся в форматируемый документ, они
распечатываются на терминале "TI:".
.IFF $SH
.LIN
Директива:
.SWT
                .COM TEXT
.SWT
 приведет к распечатке на терминале:
.SWT
                DOC -- TEXT
.HDR
Директива ".DSB"
.LIN 0
Эта директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".DSB"
.EIF $SH
запрещает распознавание программой DOC любых директив,
кроме ".ENB". Фрагмент текста между директивами ".DSB" и ".ENB"
может содержать строки, начинающиеся с ".", и передается в выходной
файл без форматирования. Длина строк внутри фрагмента не должна
превышать ширину колонки.
.IFF $SH
.HDR
Директива ".ENB"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".ENB"
.EIF $SH
отменяет действие ".DSB". Команды форматирования,
содержащиеся в последующих строках, будут распознаваться
и выполняться программой "DOC".
.IFF $SH
.HDR
Директива ".IPN [N]"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".IPN [N]"
.EIF $SH
увеличивает номер следующей страницы на величину,
указанную числовым аргументом директивы (1 по умолчанию).
Это позволяет вставлять в сформатированный текст страницы,
выведенные отдельно, без перенумерации и корректировки оглавления.
.IFF $SH
.HDR
Директива ".JMP [N]"
.LIN 0
Аргумент
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".JMP [N]"
аргумент
.EIF $SH
директивы ".JMP" указывает, сколько строк необходимо пропускать
после вывода каждой сформатированной строки.
Значение директивы отменяется следующей директивой ".JMP".
При запуске программы по умолчанию значение равно 0 (".JMP 0").
.IFF $SH
.BLN
Пример:
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .JMP 1
 .BLN
 ПРИ ВЫВОДЕ ЭТОГО ТЕКСТА ФОРМАТИРУЕМЫЕ СТРОКИ
 РАЗДЕЛЯЮТСЯ ПУСТЫМИ СТРОКАМИ. ЧИСЛО ПУСТЫХ СТРОК РАВНО
 ЗНАЧЕНИЮ АРГУМЕНТА ДИРЕКТИВЫ ".JMP".
 .JMP 0
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.JMP 1
.BLN
ПРИ ВЫВОДЕ ЭТОГО ТЕКСТА ФОРМАТИРУЕМЫЕ СТРОКИ
РАЗДЕЛЯЮТСЯ ПУСТЫМИ СТРОКАМИ. ЧИСЛО ПУСТЫХ СТРОК РАВНО
ЗНАЧЕНИЮ АРГУМЕНТА ДИРЕКТИВЫ ".JMP".
.JMP 0
.IFF $SH
.HDR
Директива ".MRL K,L,M,N"
.LIN 0
Четыре
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".MRL [K,L,M,N]"
четыре
.EIF $SH
аргумента, указанные в директиве через запятую,
задают номер позиции от края листа, с которой необходимо начинать
строку (указывают левую границу текста):
.NPR -
.EP2
Левую границу для директив ".LIN", ".BLN", ".SWT", ".APN", ".MID",
".RIT", ".CPT"; по умолчанию 0;
.EP2 0
Левую границу для директив ".AND", ".TBL", ".DFN"; по умолчанию 9;
.EP2 0
Левую границу для директив ".AN2", ".TB2", ".DF2"; по умолчанию 16;
.EP2 0
Левую границу для директив ".HLV"; по умолчанию 15.
.IFT $SH
.LEF 9
.EIF $SH
.LIN
Для восстановления значений по умолчанию можно использовать директиву
".MRL" без аргументов.
.IFT $SH
.LEF
.IFF $SH
.HDR
Директива ".MRR K,L,M,N"
.LIN 0
Директива ".MRR"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".MRR [K,L,M,N]"
.EIF $SH
указывает длину форматируемых строк четырьмя аргументами:
.NPR -
.EP2
Длину строки для директив ".LIN", ".BLN", ".SWT", ".APN", ".MID", ".RIT",
".CPT"; по умолчанию 62 (если не указан ключ "/WID:N" или "/STP");
.EP2 0
Длину строки для директив ".AND", ".TBL", ".DFN"; по умолчанию 53;
.EP2 0
Длину строки для директив ".AN2", ".TB2", ".DF2"; по умолчанию 46;
.EP2 0
Длину строки для всех директив ".HLV"; по умолчанию 42;
.IFT $SH
.LEF 9
.EIF $SH
.LIN
Для восстановления значений по умолчанию можно использовать директиву
".MRL" без аргументов.
.IFT $SH
.LEF
.IFF $SH
.BLN
Пример использования директив ".MRR" и ".MRL"
.SKI
.MID *** ИСХОДНЫЙ ТЕКСТ ***
.SWT
 .MRL 8
 .MRR 44
 .BLN
 СТРОКИ ЭТОГО ТЕКСТА ДОЛЖНЫ НАЧИНАТЬСЯ С 8 ПОЗИЦИИ
 И ИМЕТЬ ДЛИНУ 44 СИМВОЛА В СТРОКЕ. ВОССТАНОВИТЬ
 ЗНАЧЕНИЯ ПО УМОЛЧАНИЮ МОЖНО ПО ДИРЕКТИВАМ
 ".MRL 0,9,16,15" И ".MRR 62,53,46,42".
 .MRL
 .MRR
.SKI
.MID *** ВЫВОДИМЫЙ ТЕКСТ ***
.MRL 8
.MRR 44
.BLN
СТРОКИ ЭТОГО ТЕКСТА ДОЛЖНЫ НАЧИНАТЬСЯ С 8 ПОЗИЦИИ
И ИМЕТЬ ДЛИНУ 44 СИМВОЛА В СТРОКЕ. ВОССТАНОВИТЬ
ЗНАЧЕНИЯ ПО УМОЛЧАНИЮ МОЖНО ПО ДИРЕКТИВАМ
".MRL 0,9,16,15" И ".MRR 62,53,46,42".
.MRL
.MRR
.HDR
Директива ".LEF [N]"
.LIN 0
Директива ".LEF"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".LEF [N]"
.EIF $SH
устанавливает левую границу выводимого текста.
Действие аналогично следующей паре директив:
.SWT
	.MRL N
	.MRR WID-N, где WID - ширина выводимых строк текста
.IFF $SH
.HDR
Директива ".RIG [N]"
.LIN 0
Директива ".RIG"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".RIG [N]"
.EIF $SH
устанавливает правую границу выводимого текста.
.IFF $SH
.LEV -1
.EIF $SH
.IFF $HL
.HDR
Директивы работы с файлами
.EIF $HL
.IFF $SH
.HDR +1
Директива ".CHA FILE"
.LIN 0
Аргументом
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CHA FILE"
аргументом
.EIF $SH
директивы ".CHA" является спецификация файла, в котором находится
продолжение исходного текста документа. Соглашения о спецификации файла
в директиве совпадают с соглашениями о спецификации файла в команде
оператора.
.IFT $SH
.LEF 9
.EIF $SH
.LIN
По этой директиве обработка текущего файла прекращается и начинает
обрабатываться указанный файл. Возврата в исходный файл не происходит.
Это дает возможность размещения исходного текста документа в
нескольких файлах, расположенных  на различных носителях. Длина
"ЦЕПОЧКИ" файлов логически не ограничена.
.IFT $SH
.LEF
.IFF $SH
.ATT
Если в спецификации файла отсутствует указание устройства, то
по умолчанию выбирается устройство, на котором размещен первый
файл распечатываемого документа. Если за директивой ".CHA"
в первичном файле следует текст, то он не будет выводиться в форматируемый
документ.
.IFF $SH
.HDR
Директива ".CPY FILE"
.LIN 0
Аргументом
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CPY FILE"
аргументом
.EIF $SH
директивы является спецификация файла. Текст, содержащийся в
указанном файле, будет включен в форматируемый документ.
Соглашения о спецификации файла совпадают с ".CHA".
.IFT $SH
.LEF 9
.EIF $SH
.LIN
По этой директиве обработка текущего
файла прекращается и начинает обрабатываться
указанный файл. По завершению обработки вторичного файла "DOC" возобновляет
обработку первичного файла со строки, следующей за ".CPY".
.LIN
Во вторичном файле разрешается использование директивы ".CPY". Максимальная
глубина вложения входных файлов равна 4, т.е. можно использовать 3
вложенных директивы ".CPY".
.IFT $SH
.LEF
.IFF $SH
.ATT
Если в спецификации файла отсутствует указание устройства, то
по умолчанию выбирается устройство из спецификации последнего открытого
входного файла.
.HDR
Директива ".CPD FILE"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CPD FILE"
.EIF $SH
аналогична директиве ".CPY" и отличается тем, что
при использовании ".CPD" во вторичном файле
не обрабатываются никакие директивы. Текст включается в формируемый
документ без форматирования.
.IFF $SH
.HDR
Директива ".CPS FILE [/SW]"
.LIN 0
Директива
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".CPS FILE [/SW]"
.EIF $SH
предназначена для выборки документации из файлов,
представляющих собой тексты программ на языках ФОРТРАН, АССЕМБЛЕР,
C, CLIPPER.
Документация в этих файлах
должна быть размещена в комментариях по следующим правилам:
.IFT $SH
.LEF 9
.EIF $SH
.NPR
.EP2
Комментарий начинается в первой позиции строки: "C...",
";...", "/*...", "*...";
.EP2
Начало фрагмента, который должен выбираться из файла,
помечается символами "+DOC" в первой позиции после комментария;
.EP2
После обнаружения "+DOC" программа "DOC" считает документацией
все строки комментариев, т.е. они должны содержать директивы
форматирования;
.EP2
Ограничителем фрагмента являются символы "-DOC", встреченные
на первой позиции после комментария;
.EP2
В файле с помощью ограничителей "+DOC" и "-DOC" может быть
выделено несколько фрагментов с документацией;
.EP2
Последний фрагмент желательно ограничивать строкой "--DOC",
при этом чтение файла прекращается.
.LIN
Необязательный ключ "/SW" служит для указания типа входного
файла и может иметь значения "/FOR", "/ASM", "/C", "/PRG"
Если ключ не указан, тип определяется из спецификации файла.
.IFT $SH
.LEF
.IFF $SH
.BLN
Пример оформления фрагмента:
.SWT
	Integer*4 function	Reply (A,B)
C********************************************************
C V1.00/1-feb-1991
C+DOC				;начало блока документации
C.HDR
C Reply - получение ответа...
C.LIN 0
C Функция "REPLY" предназначена ...
C . . .
C.bln
C Обращение:
C.swt
C	Istat	= Reply (A,B)	!FORTRAN
C.bln
C Входные данные:
C.dfn A (char)
C идентификатор строки, ограниченной 0 байтом;
C.dfn B (I)
C длина части строки, не д.б. больше 32к.
C.bln
C Выходные данные:
C.dfn Istat
C признак ошибки, если < 0.
C.iff $SH			;если полный документ
C.bln
C Используемые подпрограммы:
C.swt
C	1. LenS		STRlib
C.eif $SH			;конец условного блока
C--DOC				;начало блока документации
C********************************************************
.LEV -1
.EIF $SH
.IFF $HL
.HDR
Директивы условного вывода
.EIF $HL
.IFF $SH
.LIN 0
Директивы условного вывода позволяют определять в файле с исходным
текстом или в ответ на вопрос с терминала условия для вывода или
пропуска определенных фрагментов текста. При этом из одного файла
можно получать 2 и более различных документов (например,
полное и краткое описание программы и т.п.).
.LIN
Директивы условного вывода работают с переменными, значения которых
можно определить как "ЛОЖЬ" или "ИСТИНА" (".FALSE."/".TRUE.").
Эти переменные вместе со своими значениями заносятся во внутренние
таблицы программы. Максимальное число переменных задается
при генерации программы "DOC" (обычно 10).
.LIN
Аргументом директив являются 3-символьные имена переменных.
В именах можно использовать латинские символы, цифры и знак "$".
.HDR +1
Директива ".SET VAR"
.LIN 0
Директива ".SET"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SET VAR"
.EIF $SH
определяет переменную VAR (если не определена ранее) и устанавливает
для нее значение ".TRUE.".
.IFF $SH
.HDR
Директива ".SEF VAR"
.LIN 0
Директива ".SEF"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".SEF VAR"
.EIF $SH
Определяет переменную VAR (если не определена ранее) и устанавливает
для нее значение ".FALSE.".
.IFF $SH
.HDR
Директива ".ASK VAR TEXT"
.LIN 0
Директива ".ASK"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".ASK VAR TEXT"
.EIF $SH
определяет переменную VAR (если не определена ранее) и устанавливает
для нее значение, вводимое с терминала в ответ на подсказку "TEXT".
.IFT $SH
.LEF 9
.EIF $SH
.BLN
Ответ "Y[ES]" или "Д[А]" устанавливает значение VAR в ".TRUE",
"N[O]" или "Н[ЕТ]" - в ".FALSE.".
.IFT $SH
.LEF
.IFF $SH
.HDR
Директивы ".IFT VAR/.IFF VAR"
.LIN 0
Директивы
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".IFT/.IFF VAR"
.EIF $SH
определяют условия обработки последующего фрагмента текста
в зависимости от значения переменной (".TRUE." или ".FALSE.").
.IFF $SH
.HDR
Директива ".EIF VAR"
.LIN 0
Директива ".EIF"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".EIF VAR"
.EIF $SH
отменяет условную обработку входного файла для данной переменной VAR.
.IFF $SH
.HDR
Директива ".ERA VAR"
.LIN 0
Директива ".ERA"
.IFT $SH
.IFT $HL
.SWT
--------------------------------------------------------------------------------
.EIF $HL
.DFN ".ERA VAR"
.EIF $SH
удаляет указанную переменную VAR из внутренних таблиц, освобождая
место для определения новой переменной.
.IFF $SH
.LEV -2
.EIF $SH
.IFF $HL
.CPY DOCMSG
.EIF $HL
