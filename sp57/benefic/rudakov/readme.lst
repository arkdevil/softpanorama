
                     Для тех, кто помнит "ГРИФ" и "МИФ", ДОС-СМ и СМ-4.

                               Разработчикам печатных плат посвящается.


     На Ваш суд, уважаемые пользователи, предлагается программа  GTL-PDIF
из пакета прикладных программ "Силур", предназначенная для преобразования 
формата ЯГТИ РД 50-445-83 в формат DIF системы P-CAD.
     Идея написать  эту  программу,  как  и  многие  другие  (  PDIF-GTL,
SortGTL, LnkGTL и т.д.) появилась тогда, когда начался бум персоналок, а
с ним и различных САПР. Глаза разбегаются от их обилия. Перечислю  неко-
торые :

      P-CAD
      OrCAD
      StarCAD
      Redac
      smArtwok

     Здесь я перечислил только те, с которыми имел дело. Причем  с  нес-
колькими версиями. Из всех перечисленных САПР был  выбран  пакет  P-CAD.
Почему? Подробно об этом рассказывать долго, а коротко ,,,
     На момент принятия решения только P-CAD отвечал необходимым услови-
ям и позволял осуществлять  сквозное  проекторование  от  принципиальной
электрической схемы к печатной плате. На возражения типа "А как же OrCAD
V3.xx..." вынужден напомнить что ее тогда еще не было. Как  и  последней
версии smArtwok. Они появились позже. Вообще  о  возможностях  различных
САПР, их сравнении и выборе наилучшей можно написать  целую  статью.  Не
знаю только насколько это актуально. Я встречал организации где для раз-
работки электрических схем использовали САПР OrCAD, а для разводки испо-
льзовали P-CAD или StarCAD. А данные из одной системы в другую передава-
лись при помощи специальных программ.
     Основная трудность с которой я столкнулся - это то, что все эти си-
стемы не имели выход на наше отечественное оборудование. Конечно, те кто
имел импортное тем беспокоится было нечего. А кто не имел?  На  стандар-
тной машине можно было только распечатать на  принтере  эскиз.  Но  ведь
просто развести плату - это не самоцель. Главное - чтобы по этой развод-
ке можно было потом эту плату изготовить, т.е. сделать фотошаблон и  по-
лучить управляющие перфоленты на сверлильные станки. И каждый выкручива-
лся кто как мог. В одной конторе рисовали на плоттере чертежи  слоев,  а
затем перефотографировали их для получения фотошаблона. В другой  распе-
чатывали на принтере, потом обводили тушью.
     К этому времени уже было разработано  множество  программ,  которые
осуществляли вывод управляющей информации на отечественное оборудование.
Эти программы были в основном выполнены для СМ ЭВМ типа  PDP-11  :  СМ4,
СМ1420, ИЗОТ1016С,  НАИРИ-4,  Электроника  100-25.  ППП  "Миф",  "Гриф",
"САТРЭПП", "Шаблон-АРМ", "Искра-П" и др. под ОС ДОС-СМ, "Гриф",  "Аист",
"Контакт", "Скиф", "Факел" под ОС РВ, "Гриф", "Тигрис",  "Гроза",  "Кон-
кур", "PostGraf" под ОС РАФОС и NTS. Пакеты под ДЕМОС (UNIX) мне неизве-
стны. Были и другие пакеты, и не только для СМ ЭВМ но и для ЕС ЭВМ.  Бо-
льшинство из этих ППП использовали для описания печатных плат язык  ЯГТИ
(язык графической и текстовой информации) РД 50-445-83. Поэтому само со-
бой возникало решение написать программу преобразования формата  системы
P-CAD в формат ЯГТИ и организовать связь между PC IBM и СМ  ЭВМ.  На  PC
выполняется разводка печатной платы, а на АРМ СМ -  выпуск  перфолент  и
документации (чертежи, спецификации, перечни элементов и пр.)  на  нашем
отечественном оборудовании, которое уже есть. Идея хорошая, но сразу во-
зникла куча проблем. Например, где взять описание формата системы P-CAD?
Каждый пробовал решить эту  проблему  по  своему.  Разработчики  системы
КД4.2 написали специальные резидентные конвертеры,  которые  при  работе
программ PC-PLOT, PC-PHOTO и PC-DRILL перехватывали запись на диск и пи-
сали уже в формате ЯГТИ. Зачем такие сложности?  Разработчики  программы
PC-YGTI сделали проще. Они брали файл, подготовленный системой P-CAD для
фотоплоттера, и преобразовывали его в формат ЯГТИ. Наиболее мудро посту-
пил разработчик системы PostGraf. Он использовал формат DIF, который са-
ми разработчики P-CAD и предназначали для обмена информацией  с  другими
программами, и который получается при помощи программы PDIF-OUT из внут-
реннего формата системы P-CAD. По такому же принципу была написана прог-
рамма PDIF-GTL.(Система PostGraf была нами приобретена, она  включала  в
себя не только конвертер PDIF в ЯГТИ,но и целый набор постпроцессоров на
станки: АРБМ, МИНСК-2005, КПА-1200, SCHMOLL-KOMPACT, а также просмотр на
экране топологии печатной платы описанной  ЯГТИ  в  графическом  виде  и
кое-что еще. Очень оригинальна идеология программы - при помощи  различ-
ных файлов управления и настройки можно организовать целые цепочки выпо-
лняемых программ или действий. Например , можно выбрав только одну рабо-
ту запустить перекодировку  из  формата  PCB  в  формат  DIF  программой
PDIF-OUT, перекодировку из DIF в ЯГТИ программой PostGraf,  просмотр  на
экране персоналки файла ЯГТИ в виде фотошаблона, который  получится  при
изготовлении его на  координатографе  МИНСК.  Возможность  использования
многоуровневых меню позволяет подстраивать ее под любые ваши требования.
Весь диалог программы заключается в вводе имени обрабатываемого файла  и
выбора работы из предложенного списка. Очень хорошо зарекомендовала себя
при освоении неквалифицированными пользователями. Вся инструкция: запус-
ти программу, введи имя файла, выбери  соответствующую  работу.  Правда,
сопровождающий программу специалист (необязательно  программист)  должен
ее предварительно настроить). Программу PDIF-GTL пришлось написать пото-
му, что программа PostGraf той версии, что была у  нас  неполностью  нас
удовлетворяла. Для связи между СМ и PC мы использовали пакет PCSM, кото-
рый мог передавать как текстовые так и двоичные файлы (в отличии от сис-
тем KERMIT и COMFORT), и мог производить перекодировку текстовых  файлов
на проходе (из КОИ-7 в ASCII 256 и обратно) и  имел  довольно  приличную
скорость передачи. Так что задача получения полного цикла разработки  ПП
была решена.
     Но остался еще архив уже разработанных печатных плат. Кроме того на
ЕС ЭВМ существуют еще такие САПР,  как  ПРАМ  5.3,  КВАРЦ-87,  КРИСТАЛЛ,
ВАРИАНТ, которые кое-где еще эксплуатируются. Кроме того, если  на  одну
персоналку приходится шесть конструкторов, поневоле приходится использо-
вать АРМы на базе СМ ЭВМ, типа АРМ 2.01, "Экран-4" и пр, и  работать  по
старинке: эскиз, "сколка" на устройстве ввода графической информации ти-
па УКГИ, "Гарни-2", СМ6404 и т.п., а затем преобразование полученной ин-
формации в ЯГТИ и далее прорисовка, корректировка,  выпуск  перфолент  и
фотошаблонов. Причем оказалось, что для разведенных вручную ПП цикл ока-
зался быстрее, чем если бы плата рисовалась с эскиза в  P-CADе.  Но  при
условии, что для корректировки ПП используется графический редактор сис-
темы P-CAD - PC-CARDS. Те, кому довелось работать на эсэмовских графиче-
ских станциях, типа ЭПГ-400, СМ7300, СМ7316, "Графит-М" не  надо  объяс-
нять разницу, а кто не работал, много не потерял.(Для  любопытных  пояс-
няю: монохромные, векторные, без хорошего  программного  обеспечения)  А
первые советские цветные графические дисплеи типа РАСТР-1 ? Бледное изо-
брахение, низкая контрастность. Те, кто столкнулся  с  АРМ  "Нейрон"  их
знают. Или одно из последних "достижений" нашей  техники  -  графическая
станция ГАММА 4.2? Три солидных тумбы, в одной из которых ЭВМ  "Электро-
ника-60" с 32К ОЗУ и кучей доплнительных плат,  в  другой  -  магнитофон
СМ5300, а в третьей - блок питания и НГМД СМ6022 - 2 дисковода 5,25"  по
220К (приблизительно) и это под графику!!! Конечно,  разработчики  могут
возразить, что мол ГАММА предназначалась для работы в  комплексе  с  ЭВМ
типа СМ1420, для этого в состав программного обеспечения АРМ 2 кроме  ОС
РВ (в автономе ГАММА работала под ОС типа RT-11: РАФОС,  ФОДОС)  включа-
лась и  сеть  АЛИСА. В качестве  терминалов  используются  "Электроника"
15-ИЭ-013 и телевизор "Горизонт 51ТЦ412И", который важно именуется  "Ус-
тройство видеоконтрольное ВК51Ц1". Посадить за этот монстр его разработ-
чиков и узнать, сколько они смогут высидеть перед экраном телевизора  на
расстоянии 1 м. И не просто сидеть но  и  работать!!!  Правда  в  состав
ГАММЫ входит манипулятор "Сфера" (та же мышь, но наоборот -  неподвижное
основание в котором закреплен шар, и вращая этот шар  управляешь  марке-
ром. Довольно удобно, но сделано топорно). Но даже  использование  таких
устройств позволяло значительно сократить время проектирования и коррек-
тировки топологии ПП,чем корректировка текстового описания платы при по-
мощи редактора (особенно когда исправлений много), а по сравнению с ними
PC-CARDS на РС просто мечта конструктора. Вот поэтому по просьбам трудя-
щихся и была разработана программа GTL-PDIF.
     Программа GTL-PDIF предназначена для преобразования файла в формате
ЯГТИ в формат DIF, для  последующей  обработки  этого  файла  программой
PDIF-IN и получении описания ПП во внутреннем формате системы P-CAD.
     Всвязи с большим разнообразием оборудования, у нас были разработаны
несколько типовых цепочек разработки фотошаблонов и упавляющих перфолент
для изготовления печатных плат. Вот одна из них:

                     Топология разработана вручную.
   
   "Сколка" на      Преобразование в ЯГТИ     Перекодировка из
  Гарни - 2 или  ->  ППП PostGraf на СМ    ->  формата ЯГТИ в   ->
      СМ6404        или PostGraf и Силур         формат DIF
                         на PC IBM                 GTL-PDF

      Просмотр и корректировка    Перекодировка из формата
   ->    ПП средствами P-CAD   ->   P-CADа в формат ЯГТИ    ->
                                         PostGraf
 
      Получение УПЛ для     Выпуск УПЛ на
   ->  станков с ЧПУ     ->    СМ ЭВМ
         PostGraf
         
     Остальные технологические цепочки я не показываю, так как программа
GTL-PDIF в них не участвует. Разве, что  при  обработке  старых архивных
файлов. 
     Программа более года эксплуатировалась в нашей организации, так что
выводы делайте сами. Была передана и в некоторые другие организации.
     Программа распространяется как SHAREWARE. Т.е. вы можете  использо-
вать эту программу ограниченное время. Я думаю, что одного месяца  будет
достаточно, чтобы решить - нужна вам она или нет. После этого или сотри-
те ее, или станьте зарегистрированным пользователем. Стоимость регистра-
ции - 1 банка кофе (желательно хорошего) или соответствующий  эквивалент
в любой валюте. Если учесть, что у нас в магазине стоит  книга  па  САПР
P-CAD 4.5 за 1850 купонов, то цену я считаю  приемлемой.  Впрочем,  если
считаете что это дорого, то могут быть варианты: например обмен програм-
мным обеспечением. Зарегистрированный пользователь может, если  захочет,
получить персональную копию программы, полную документацию  и  некоторые
другие полезные программки на эту же тему. На дискетах заказчика,  пере-
сылка тоже за его счет.
     Сейчас разрабатываются новые версии программы:
     - трудящиеся массы пожелали иметь версию программы для многослойных
     печатных плат;
     - есть просьба ввести режим для преобразования библиотечных эдемен-
     тов ЯГТИ в библиотечные элементы системы P-CAD.

     АНАЛОГИ:
     Для программы GTLPDIF мне аналоги не известны.

      Пишите, звоните, спрашивайте.

      Адрес: 340122 г. Донецк, Украина, ул. Куйбышева 238а, к 123
             Сонных Дмитрию Викторовмчу,
             тел.(062-2) 53-16-94 (раб) отдел 120, с 9 до 16 часов
             
      Если кто надумает приобрести программу официально, со всеми
бумагами (договор,протокол, акт и т.п.), пишите по адресу :
             340012 г. Донецк, Украина, ул. Космонавтов 3, к 201
             Зеленскому Павлу Дмитриевичу, МГП "Контакт"       

P.S.
     Если вы будете передавать эту программу своим друзьям, то передайте
заодно и этот файл.

P.P.S.
     Программа была написана на языке Turbo-Basic для V1.0 с использова-
нием отдельных модулей на ассемблере. Поэтому работат достаточно медлен-
но. Никак не соберусь перевести ее на С. Все-таки почти  120К  исходного
текста. Желающим могу выслать исходный текст для перевода на более  быс-
трые языки с условием, что они в ответ вышлют мне результат своей  рабо-
ты.

P.P.P.S.
     Для тех, кто заинтересовался системой PostGraf сообщаю адрес ее
разработчика:
             344038 г. Ростов-на-Дону, пер. Обуховский 3, к. 308
             Рудаков Сергей Владиславович
             тел.(863-2) 63-50-67 (раб)
             

