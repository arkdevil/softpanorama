<HTML>
<HEAD><TITLE>Турбо-Бейсик - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng58649.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng56f95.html">[^^Up^^]</A>
<A HREF="ng59321.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
         Прерывание  от  10Н до 1FN являются BIOS-вызовами, которые выполняют
   различные утилитные функции. ( за более детальной информацией о BIOS - вы-
   зовах обращайтесь к техническому справочному руководству по IBM DOS).
         Прерывание 21Н (33 десятичные) представляет собой особенно  интерес-
   ное  значение  прерывания, поскольку здесь проявляется механизм общего для
   DOS вызова. Запрашиваемое значение помещается в байт наибольшей  значности
   AX-регистра  (AH),  а дополнительные - в другие регистры по мере необходи-
   мости. DOS обеспечивает отметку полезных функций к которым возможен легкий
   доступ через этот механизм. (более детальную информацию см.  в  справочном
   руководстве по DOS).
         В качестве примера, функция FN СвобПрост возвращает велечину свобод-
   ного дискового пространства:
<B>         DEF FN СвобПрост (диск%)' DOS</B>-функция 36Н возвращает число свободных
<B>   групп (кластеров) на  выбранном дисководе.</B>
<B>         0= дисковод по умолчанию,</B>
<B>         1= A; 2=b; и т.д.</B>
<B>         REG 4, диск%    'подача номера привода в DX</B>
<B>         REG 1, &amp;H3600   ' AH = номер функции</B>
<B>         CALL INTERRUPT &amp;H21</B>
<B>         'пространство = имеющиеся кластера *байты/сектор*</B>
<B>         'сектора/кластеры = BX*CX*AX</B>
<B>         FN СвобПрост = CSNG' (REG(2)* REG(3)* REG(1) )</B>
<B>         END DEF</B>
         Однажды определеная, СвобПрост может вызываться подобно любой другой
   фугнкции. Много ли места на приводе по умолчанию?
<B>        PRINT N СвобПрост (0)</B>

</PRE>

</BODY>
</HTML>
