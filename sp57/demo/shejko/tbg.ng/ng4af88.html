<HTML>
<HEAD><TITLE>Турбо-Бейсик - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng4ac94.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng44b3d.html">[^^Up^^]</A>
<A HREF="ng4c56c.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
           --------
           <B>синтаксис</B>  SUB идентификатор [(список параметров)]
           ---------       [locate список переменных]
                           [static список переменных]
                           [shared список переменных]
                           .
                           . операторы
                           .
                           [exit sub]
                           end sub

                     Для оператора SUB INLINE:
                     SUB процимя INLINE
           <B>замечания</B> Идентификатор -это уникальное имя,подлежащее ассоциирован-
    ию с процедурой,которое должно соответствовать соглашени-
    ям  об  именовании  меток  и  переменных.Список  параметров-это опциональ-
    ная,разделяемая запятыми последовательность формальных параметров.Парамет-
    ры,используемые в списке аргументов,служат только для опоеделения процеду-
    ры;они не имеют никакой взаимосвязи с другими переменными  программы,имею-
    щими то же имя.
           SUB и END SUB ограничивают и именуют похожую на подпрограмму группу
    операторов,называемую  процедурой (или подпрограммой),которая возбуждается
    оператором CALL и опционально обеспечивается подачей в нее  параметров  по
    значению или посредством ссылки.
           При  внутристрочном программировании с использованием языка ассемб-
    лера применяется та же последовательность  вызова,что  и  применяемая  для
    обычных процедур.Например:
<B>           CALL процимя [(список параметров)]</B>
<B>           SUB процимя INLINE</B>
<B>           $INLINE список_байтов</B>
<B>           $INLINE "ком-файла_имя"</B>
<B>           END SUB</B>
           Можно специфицировать любое число операторов $INLINE в любом поряд-
    ке.Единственным ограничением является максимум в 16 Ком-файлов в любой од-
    ной процедуре.
           Заметьте  6что вы не специфицируете список параметров в SUB-опреде-
    лении.
           Список байтов образуется из констант и  выражений,равных  целому  в
    диапазоне  от  0 до 255,которые разделяются запятыми.(Обычно для байтов вы
    будете пользоваться шестнадцатиричными константами).
           Нет необходимости в возврате ни в ваш код на языке ассемблера,ни  в
    конец  SUB.За этим следит компилятор.(За более подробной информацией обра-
    щайтесь к приложению С "Интерфейс языка ассемблера".
<B>                        Определения процедур и программный поток</B>
<B>                        ----------------------------------------</B>
           Местоположение определения процедур  несущественно.Процедура  может
    определяться  в  строке 1 или строке 1000 программы вне зависимости от то-
    го,где она используется.И вам нет необходимости направлять программный по-
    ток через процедуру в качестве какого-то шага возбуждения-компилятор разг-
    лядит ваши определения,где бы они ни были.
           Также ,в отличие от подпрограмм,исполнение не  может  случайно  по-
    пасть  в процедуру.Для всего,что касается исполнительного прохода програм-
    мы,определения функций и процедур являются невидимыми.Например:
<B>           CALL вывод материалов</B>
<B>           SUB вывод материалов</B>
<B>            PRINT "выведено"</B>
<B>           END SUB</B>
           Когда исполниться эта программа 6сообщение появляется только однаж-
    ды,поскольку Вывод_материала вызывается в первой строке.
           Определения процедур должны трактоваться как изолированные островки
    кода в которые не осуществляется переход и из которых нет  перехода,реали-
    зуемого с помощью операторов GOTO,GOSUB или RETURN.Однако внутри определе-
    ний  такие  операторы  законны.Следует отметить ,Что определения функций и
    процедур нельзя гнездовать;т.е. вы не можете определить процедуру или фун-
    кцию внутри другой процедуры или функции  (хотя  определение  процедуры  и
    функции может содержать вызовы других процедур и функций).
<B>           Параметры массивов</B>
<B>           ------------------</B>
           Параметры массивов заявляются заключением в скобки числа размернос-
    ти параметра массива.Например,SUB расчмассив (а(2),размер1,размер2)- заяв-
    ляет ,что расчмассив ожидает три аргумента:двумерный массив единичной точ-
    ности  и  две скалярные переменные единичной точности.Обычно эти скалярные
    аргументы используются для подачи размера по двум измерениям массива а.
<B>           Заявление локальных переменных</B>
<B>           ------------------------------</B>
           Чтобы заявить локальные переменные в пределах процедуры,использует-
    ся оператор LOCAL ,который должен находиться впереди исполнительных  заяв-
    лений определения.Например:
<B>           LOCAL a%,b#,БОЛЬШОЙМАССИВ%()</B>
           создает  три  локальные  переменные:скалярные  переменные a% и a#,а
    также целый массив большоймассив%.Далее массив должен быть надлежащим  об-
    разом образмерен:
<B>           DIM DYNAMIC большоймассив% (1000)</B>
           Локальные  массивные переменные должны быть динамическими.Они авто-
    матически снимаются с размещения когда процедура завершается.
<B>           Статические и разделяемые переменные</B>
<B>           ------------------------------------</B>
           По умолчанию,переменные ,которые появляются в  определениях  проце-
    дур,имеют атрибут локальности.Однако ,поскольку это умолчание является из-
    меняемым  обьектом,вы должны предпринимать усилия для заявления каждой пе-
    ременной,используемой в процедуре.
           Для заявления переменных ,которые являются глобальными для  осталь-
    ной программы,используется оператор SHARED.
           Если  важно,чтобы  переменная  не теряла своего значения при каждом
    возбуждении ,она заявляется с использованием оператора STATIC.
           Лпределение процедуры должно завершаться END SUB,которое возвращает
    управление оператору ,стоящему после возбуждающего оператора CALL.Для воз-
    врата из определения процедуры в каком-либо ином  месте,чем  ее  конец,ис-
    пользуется оператор EXIT SUB.


      <B>!Пример</B>
           DIM массив(1)
           SUB тестпроцедура(I%,L&amp;,S!,D#,E,A(1))
            PRINT I%,L&amp;,S!,D#,E,A(0)
           END SUB
           целое%=1
           длинноецелое&amp;=2
           единичнойточности!=3
           двойнойточности #=4
           массив(0)=5
           CALL  тестпроцедура  (целое%,длинноецелое&amp;,единичнойточности!,двой-
    нойточности#,целое%,массив())
           END
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ngffffffffffffffff.html">$INLINE</A>
<A HREF="ngffffffffffffffff.html">CALL</A>
<A HREF="ngffffffffffffffff.html">EXIT</A>
<A HREF="ngffffffffffffffff.html">SUB</A>
<A HREF="ngffffffffffffffff.html">LOCAL</A>
<A HREF="ngffffffffffffffff.html">SHARED</A>
<A HREF="ngffffffffffffffff.html">STATIC</A>

</BODY>
</HTML>
