╔══════════════════════════════════════════════════════════════════╗
║ Научно-пpоизводственная    340050 Донецк, ул. Унивеpситетская,25 ║
║ коопеpативная фиpма "БИС"  Тел. (0622) 93-10-21                  ║
║                            г. Маpиуполь Тел. (0629) 22-38-22     ║
╚══════════════════════════════════════════════════════════════════╝
  Июль - Ноябpь 1989.
                        *  *  *

     Сеть BIS LAN 2.02 - это программы и трехпроводная шина,
соединяющая до пяти совместимых с IBM PC компьютеров на расстоянии
нескольких десятков метров по интерфейсу RS232.  Сеть разработана
для MS DOS 3.2 или выше и передает данные со скоростью 115 КБод/c.

     Один из компьютеров, подключенных к сети, выступает в роли
сервера и разделяет свои ресурсы с другими компьютерами - клиентами.
Ресурсами могут быть разделы на жестком диске, гибкие, виртуальные
диски и принтер.  Клиенты используют удаленные "чужие" ресурсы как
собственные, не мешая работающему непосредственно на сервере
пользователю.

                        *  *  *

BIS LAN 2.02 включает следующие программы:

╔═════════╗
║ SDD.SYS ║
╚═════════╝
- драйвер удаленных дисков, устанавливаемый на клиенте.  В файл
CONFIG.SYS следует внести строку в формате

        DEVICE = SDD.SYS i [ drive1 [ drive2 ]]

После загрузки DOS диски сервера с именами от drive1 до drive2
станут доступными клиенту и припишутся к именам его собственных
дисков.  i = 1..9 - номеp клиента в сети.  Каждый клиент должен
иметь уникальный номер!  По умолчанию drive1=C, drive2=drive1.

        Допустим, 1-й клиент имеет диски с именами A,B,C и драйвер
загружается строкой

        DEVICE = SDD.SYS 1 A C

Тогда клиент получает дополнительные диски D,E,F, соответствующие
дискам А,B,C сервера, выводится сообщение:

        ╔══════════════════════════════════════════╗
        ║ Strange Disk Device Driver Version 2.02  ║
        ║     for BIS RS232 Local Area Network     ║
        ║  (C) 1989 BIS Corporation by A.Vodyanik  ║
        ║  ┌────────────┐     ┌── i = 1 ─┐         ║
        ║  │Another PC &│     │Your PC & │         ║
        ║  │R F Manager │     │SDD driver│         ║
        ║  └────┬───────┘     └───COM1───┘         ║
        ║       ╘══════════ ... ═══╧════════ ...   ║
        ║ 115 KBaud rate, only 3 wires in the bus! ║
        ╟──────────────────────────────────────────╢
        ║ Another PC disks A..C are available now  ║
        ║         as disks D..F .                  ║
        ║ Use  Shift+Shift to exit from deadlocks. ║
        ╚══════════════════════════════════════════╝


     При обращении к удаленному диску и других случаях передачи
данных по сети в левом верхнем углу экрана появляется красный флажок
(только в текстовых режимах).  Буквы на флажке обозначают различные
фазы передачи.  Если сервер не готов или нарушено соединение, то Вы
заметите, что передача повторяется много раз без успеха.  Нажмите
две клавиши Shift одновременно - драйвер прекратит работу и
предупредит об ошибке.

        Драйвер поставляется в двух вариантах:  SDD.SYS для порта
COM1 по адресу 3F8h и SDD2.SYS для порта COM2 по адресу 2F8h.


╔════════════╗
║ SETSDD.EXE ║
╚════════════╝
-  утилита для изменения вpемени ожидания дpайвеpом SDD.SYS
готовности сети к обмену. Вызывается командой:
   
   SETSDD <timeout value>

      Значения паpаметpа <timeout value> могут лежать в диапазоне
1..1000, что соответствует пpиблизительно 1..200 с.
По умолчанию <timeout value> = 100.


╔═══════════╗
║  FMGR.COM ║
╚═══════════╝
-  устанавливаемая на сервере резидентная управляющая программа.
Она состоит из двух частей: FMGKEY.COM и собственно FMGR.COM.
Запуск программы выглядит так:

        FMGKEY
        FMGR n

 где n = 1..9  - максимальмый номер клиента в сети.
        Пример. В сети есть три клиента с номерами 1, 2 и 3. После
 команд

        FMGKEY
        FMGR 3

 Вы увидите сообщение:

       ╔═══════════════════════════════════════════╗
       ║     Resident File Manager Version 2.02    ║
       ║      for BIS RS232 Local Area Network     ║
       ║  (C) 1989 BIS Corporation by A.Vodyanik   ║
       ║  ┌───────────┐                            ║
       ║  │This PC &  │  PCs & SDD drivers, n = 3  ║
       ║  │R F Manager│  ┌──┐    ┌──┐        ┌──┐  ║
       ║  └───COM1────┘  └─1┘    └─i┘        └─n┘  ║
       ║        ╘══════════╧═...═══╧═══...═════╛   ║
       ║  115 KBaud rate, only 3 wires in the bus! ║
       ╟───────────────────────────────────────────╢
       ║  Use SETFMGR.EXE to setup the R F Manager ║
       ╚═══════════════════════════════════════════╝

       Сразу после старта FMGR разрешает клиентam доступ ко всем
дискам сервера, полностью запрещает им запись и находится в режиме
FAST, стремясь как можно скорее удовлетворить запросы драйверов
SDD.SYS.  При активной работе клиентов непосредственный пользователь
сервера может ощутить задержки, длящиеся от доли секунды до 10
секунд.  Чтобы устранить это явление, переведите FMGR в режим SLOW
утилитой SETFMGR.EXE - с точки зрения клиентов быстродействие
удаленных дисков немного уменьшится, но присутствие FMGR будет
незаметным.

        FMGR.COM занимает в памяти 88 Кбайт и использует порт COM1
по адресу 3F8h.  Вариант FMGR2.COM работает с портом COM2 по адресу
2F8h.


╔═════════════╗
║ SETFMGR.EXE ║
╚═════════════╝
 - утилита для настройки FMGR.COM в памяти сервера.  C ее помощью
можно разрешить или запретить клиентам доступ к дискам и запись на
них, выбрать режим работы FMGR:

        SETFMGR SLOW               - перейти в режим SLOW

        SETFMGR FAST               - вернуться в режим FAST

        SETFMGR UNPROTECT <drive>  - разрешить клиентам запись
                                     на <drive>
        SETFMGR PROTECT   <drive>  - запретить клиентам запись
                                     на <drive>
        SETFMGR DISABLE   <drive>  - запретить клиентам доступ
                                     к <drive>
        SETFMGR ENABLE    <drive>  - разрешить клиентам доступ
                                     к <drive>
        SETFMGR LIST               - перейти к меню, показать
                                     распределение дисков

Слова в команде можно сократить до одной буквы.

        Пример запуска FMGR для COM2 и для трех клиентов из
командного файла, где выполняется переход к режиму SLOW, запрещается
доступ к диску C и разрешается запись на диск D:

        FMGKEY
        FMGR2 3
        SETFMGR S
        SETFMGR D C
        SETFMGR U D


╔═════════════════════╗
║ ONWM.COM, OFFWM.COM ║
╚═════════════════════╝
- утилиты для захвата клиентами монополии записи на диск сервера и
отказа от этой монополии.  Запись на диск со стороны клиента
возможна, а со стороны сервера и других клиентов невозможна, если
выполнены два условия:

     1) FMGR настроен утилитой SETFMGR так, что диск доступен
        клиентам и на него разрешена запись
     2) клиент захватил монополию записи на этот диск командой:

        ONWM <drive>

        Команда

        OFFWM <drive>

позволяет отказаться от ненужной монополии и тем самым разрешить
запись на диск со стороны сервера и других клиентов.

        Пример. Пусть диск сервера C доступен 1-му клиенту как E и
разрешен для записи командой, поданной на сервере:

        SETFMGR U C

Тогда если диск C не монополизирован другим клиентом, то команда

        ONWM Е

установит монополию записи 1-го клиента на диск C сервера и выдаст
сообщение:

        Write Monopoly ON Utility for BIS LAN v2.00
        (C) 1989 BIS Corp.
        Success: Drive Е: is write monopolized now
        and writing is enabled.

А команда

        OFFWM E

отменит эту монополию:

        Write Monopoly OFF Utility for BIS LAN v2.00
        (C) 1989 BIS Corp.
        Success: Drive E: is not write monopolized now.



╔═════════════════════╗
║ ONMC.COM, OFFMC.COM ║
╚═════════════════════╝
- утилиты для клиентa, позволяющие включить и выключить контроль
неизменности диска на сервере.  Быстродействие удаленного диска
существенно увеличивается, если этот контроль выключен, но при этом
изменения, сделанные на диске какой-либо программой сервера или
другого клиента могут оказаться незамeченными.  Захват монополии на
запись выключает контроль неизменности диска и наоборот.

        Пример. Допустим, что никакая программа не изменяет диск,
который доступен клиенту как E.  Монополия записи на Е не требуется.
Тогда скорость чтения клиентом диска Е возрастет после команды:

        OFFMC E

и сообщения

        Media Checking OFF Utility  for BIS LAN v2.00
        (C) 1989 BIS Corp.
        Success: Drive E: is not removable now.

Обратное действие можно выполнить так:

        ONMC E



╔════════════╗
║ REMPRN.COM ║
╚════════════╝
- резидентная программа, позволяющая клиенту использовать принтер
сервера. После загрузки REMPRN создает буфер размером 4096 Байт и
перехватывает обращения клиента к LPT1, размещая передаваемые
символы в буфере и периодически пересылая его содержимое через
драйвер SDD.SYS и программу FMGR принтеру LPT1 сервера.  Загрузите
REMPRN командой:

        REMPRN

 Последует сообщение:

        Remote Printer Utility for BIS LAN v2.00
        (C) 1989 BIS Corp.
        Another PC printer is LPT1: for your PC now.

Например, для печати файла README.TXT на принтере
сервера введите строку:

        COPY README.TXT LPT1:

Если принтер LPT1 сервера включен, то через 2..3 с начнется вывод
README.TXT. Moжно включить принтер позже и ни один символ не будет
потерян. Когда емкость буфера недостаточна, чтобы принять весь файл,
драйвер SDD.SYS будет ожидать успешной печати - не спешите нажать
Shift+Shift.



╔════════════╗
║ REMSCR.COM ║
╚════════════╝
-  утилита для клиента,  дающая  доступ  к  экрану  и клавиатуре
сервера. Запустите ее командой

        REMSCR

В ответ на сообщение

        Remote Screen Utility for BIS LAN v2.00
        (C) 1989 BIS Corp.
        Press key to begin show, then use any keys
        to dialogue or Shift+Shift to exit ..

нажмите клавишу ENTER. Вы увидите на экране клиента точную копию
экрана сервера, обновляющуюся несколько раз в секунду (если сервер
находится в текстовом режиме).  Вы обнаружите, что сервер
воспринимает любые нажатия клавиш на вашей клавиатуре. Можно
работать со многими программами, включая SETFMGR!  Для выхода из
REMSCR нажмите Shift+Shift.



                            *  *  *

     С чего начать?

     Соедините компьютеры трехпроводной шиной из комплекта
поставки, подключив разъемы к портам COM1 или COM2.  Если
необходимо, используйте переходники от 9-ти к 25-ти штырьковым
разъемам.  Вставьте дискету-установщик BIS LAN 2.02 в дисковод A
будущего сервера и загрузитесь с нее.  Ответьте на вопросы
установщика.  В каталог \BISLAN2 будут скопированы файлы:

FMGKEY.COM   FMGR.COM   FMGR2.COM   SETFMGR.EXE   README.TXT

Внесите необходимые добавления в файл AUTOEXEC.BAT.

     Выполните такие же действия для будущих клиентов.  Будут
установлены файлы:

SDD.SYS   SDD2.SYS  SETSDD.EXE  REMPRN.COM   REMSCR.COM
ONWM.COM   OFFWM.COM  ONMC.COM  OFFMC.COM  README.TXT

Сделайте требуемые изменения в файлах CONFIG.SYS и AUTOEXEC.BAT.

ВНИМАМИЕ: Файлы SDD.SYS и SDD2.SYS защищены от переноса на другой
          компьютер и могут работать только на том или точно на
          таком же компьютере, где они были установлены.

                    *  *  *


