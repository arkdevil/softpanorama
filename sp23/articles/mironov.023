



           Представительство в г.Киеве Центра "СТАТ-ДИАЛОГ"
           совместного советско-американского предприятия
           "ДИАЛОГ" и АН СССР
           ( C )   1989

           Миронов В.Е.

           ЭКСПЕРТНАЯ   ОБОЛОЧКА  ДИАДА

           Версия 1.0

           Руководство  пользователя.


           Система  ДИАДА   представляет  собой экспертную  оболочку (
       "пустую"  экспертную   систему  )   и  является    инструментом
       автоматизированного  создания ,   сопровождения  и   управления
       базами знаний. По  архитектуре базы знаний  экспертная оболочка
       относится к классу продукционных систем, а по алгоритму  вывода
       заключений  -  к системам с   обратным  логическим  выводом   (
       "бэктрекингом"  ) .   Отличительной  чертой  системы   является
       возможность  ввода,  хранения и использования  как  символьной,
       так и числовой информации, а также подключения  под  управление
       системы вычислительных модулей.

           В  данном  руководстве   описаны   процедура  установки   и
       инициализации   системы,  а  также основные режимы ее работы.


           1. Установка системы.

           Экспертная  оболочка  ДИАДА  поставляется  на  установочной
       дискете   5  1/4"  емкостью  360  Кбайт  и состоит из следующих
       файлов:

           Системные файлы:
           DIADA.EXE - исполняемый модуль;
           DIADA.HLP - "HELP" информация по работе системы;
           DIADA.LST - файл протокола работы системы;
           DIADA.PAR - файл интерфейса с внешними модулями;
           Файлы базы знаний:
           DIADA.OBT - файл базы объектов;
           DIADA.VAL - файл базы значений;
           DIADA.MOD - файл базы модулей;
           DIADA.RUL - файл базы правил;
           Файл документации:
           DIADA.DOC -   файл,  содержащий   данное  руководство    и
       руководство инженера по знаниям.

           В  минимальной  конфигурации  необходимы  только первые два
       файла. Файлы DIADA.LST  и DIADA.PAR создаются  автоматически, а
       файлы базы  знаний могут  быть переменными  ( т.е.  могут иметь
       другие имена ).

           Помимо  указанных  файлов   при  формировании  при   помощи
       экспертной  оболочки  ДИАДА   базы  знаний  пользователь  может
       добавлять  в   конфигурацию  системы   файлы  с   подключаемыми
       программами (  файлы EXE,  COM или  BAT типа  ). В  этом случае
       желательно размещать указанные файлы  в том же каталоге,  что и
       системные файлы.

           2. Запуск и инициализация системы.

           При  запуске  системы   необходимо  вначале   зафиксировать
       каталог,  в  котором  находятся  системные  файлы,  после  чего
       вызвать файл DIADA.EXE.

           Инициализация системы производится  сразу после запуска  на
       выполнение  указанного  файла.  Система  запрашивает изменить в
       случае  необходимости  стандартные  имена  файлов  базы  знаний
       (  см.  п.1.  ).  Для   изменения  имени  нужного  Вам   файла,
       необходимо, используя  клавиши управления   курсором,  подвести
       специальную "полоску" к строке меню с соответствующим названием
       и нажать  на ENTER.  После этого  в специальном  окне Вы можете
       изменить или набрать  новое имя нужного  Вам файла, после  чего
       нужно нажать  на ENTER.  Если Вы  укажете имена  несуществующих
       файлов, то они автоматически будут созданы.

           После установки файлов базы знаний Вам необходимо  подвести
       "полоску" выбора к  строке "Вход в  систему" и нажать  ENTER. В
       этот  момент  система  загружает   базу  знаний  из  файлов   в
       оперативную  память   и  создает  недостающие  системные файлы.
       Через  совсем  небольшое  время  инициализация  завершается   и
       система готова к работе.


           3. Основные режимы работы системы.

           После загрузки системы  появляется окно, в  котором указаны
       следующие альтернативы:

           "Справка"  - общая информация по работе системы;
           "Система"  - режим эксплуатации;
           "Редактор" - режим корректировки базы знаний;
           "Выход"    - завершение работы системы.

           Вам  необходимо  при   помощи клавиш  управления   курсором
       выбрать нужную в данный момент строку и нажать ENTER.


           3.1. Режим эксплуатации.

           Для  нормальной  работы   должны  быть  созданы   следующие
       компоненты базы:

           - база объектов;
           - база значений;
           - база модулей;
           - база правил.

           Система   реализует   логический    вывод   заключений    с
       подключением   внешних программ,  спецификации которых  описаны
       в базе модулей.

           Протокол  работы  системы  записывается  в  файл DIADA.LST,
       который может  быть распечатан  и обновляется  при каждом новом
       входе в этот режим.

           Машина   логического   вывода   и   объяснения   получаемых
       заключений в начале сеанса  просит  Вас  указать  цель,  т.  е.
       идентификатор того  вопроса, на  который   Вы желаете  получить
       ответ.  Вы   можете  в   следующей  строке   ввести   указанный
       идентификатор, либо  нажав ENTER,  выбирать из  списка, который
       выводится  в  специальном  окне.  Вариант ответа выбирается при
       помощи  клавиш  управления  курсором  и  ENTER.  Если Вы в этот
       момент хотите отказаться от выбора, нажмите ESC.

           После  выбора  цели  система  начинает  логический вывод, в
       ходе которого Вам  необходимо  отвечать  на  вопросы,   которые
       ставит  система.  Ответы  указываются  также,  как  и  в случае
       определения цели.

           Однако вместо ответа,   Вы  можете   обратиться  к    блоку
       объяснения полученных заключений (  нужно набрать "?" и  нажать
       ENTER ). Система  выдает  в   специальном  окне   информацию  о
       заключении,   которое   получено   самым  последним.  Вы имеете
       возможность просмотреть все  заключения в порядке,  обратном их
       получению ( нажимайте  ENTER ). Кроме  того Вы можете  получить
       информацию о том, каким образом было получено данное заключение
       ( нужно набрать "?"  и нажать ENTER ).  В этом случае в  другом
       окне  система  выдает  информацию  о  том  при помощи чего было
       получено заключение  и какие  условия при  этом были выполнены.
       По каждому  условию можно  получить в  этот момент  аналогичную
       информацию.  Таким  образом,  система  разворачивает перед Вами
       схему  доказательства  заключения  (  трассирует  заключения ).
       Для выхода  из трассировки  нужно набрать  "!" и  нажать ENTER.
       Аналогичным образом  можно прекратить  работу блока  объяснений
       целиком.

           Если   в   полученных   заключениях   содержится   числовая
       информация,  то  набрав  "*"  и  нажав  ENTER,  Вы  сможете  ее
       просмотреть в специальном  окне.

           Если  в   ходе  логического   вывода  вызывается    внешняя
       программа,  система   передает  ей   управление,  а   после  ее
       завершения продолжает работу.

           Если  в  результате  общения  с  Вами  система сможет найти
       ответ  на  целевой  вопрос,  то  она сформулирует окончательный
       результат беседы,  в противном  случае система  сообщит, что ей
       не хватает знаний. Если  Вас не удовлетворяет результат  беседы
       продолжайте сеанс, либо обратитесь к инженеру по знаниям.

           Для окончания сеанса наберите "!" и нажмите ENTER.  Система
       в  этот  момент  спрашивает  или  нет протокол сеанса. В случае
       Вашего утвердительного ответа ( нужно нажать "д" ), Вы получите
       распечатку,   содержащую   все   вопросы   и   ответы,  которые
       производились в данном сеансе.

            Внимание!
            После окончания сеанса файл протокола обновляется.


           3.2. Режим корректировки базы знаний.

           Структурный  редактор  базы  знаний  позволяет  инженеру по
       знаниям создавать, редактировать и сохранять в файлы, указанные
       при инициализации системы базу знаний.

           Основные режимы работы редактора:
           "Объекты"   -  корректировка базы обьектов;
           "Значения"  -  корректировка базы значений;
           "Модули"   -  корректировка базы модулей;
           "Правила"   -  корректировка базы правил;
           "Ввыход"    -  возврат в главное меню.

           Подробная  информация   по  архитектуре   базы  описана   в
       руководстве инженера по знаниям.


           В случае  возникновения  ситуаций,  не  предусмотренных   в
       данном  руководстве,  или  программных  сбоев,  обращайтесь  по
       адресу:

           252050, г.Киев-50, ул.Тургеневская,46
           Представительство в г.Киеве Центра "СТАТ-ДИАЛОГ"
           СП "ДИАЛОГ" и АН СССР, тел. 216-63-10, 266-53-83.






           Представительство в г.Киеве Центра "СТАТ-ДИАЛОГ"
           совместного советско-американского предприятия
           "ДИАЛОГ" и АН СССР
           ( C )  1989

           Миронов В.Е.

           ЭКСПЕРТНАЯ   ОБОЛОЧКА  ДИАДА

           Версия 1.0

           Руководство  инженера по знаниям.


           В  данном  документе  описана  структура  базы  знаний,  ее
       внутреннее   и  внешнее    представление.  Кроме  того,   здесь
       содержится информация по  работе структурного редактора  базы и
       указаны  требования,  необходимые  при  использовании   внешних
       программ, подключаемых к экспертной системе.


           1. Структура базы знаний.

           База знаний  экспертной оболочки  ДИАДА представляет  собой
       систему решающих правил следующего вида:

       ЕСЛИ
           < предусловие 1 >
           .................
           < предусловие N >

       ТО
           < заключение 1 >
           ................
           < заключение M > .

           По существу, каждое  такое правило осуществляет  импликацию
       из  конъюнкции  посылок  в  конъюнкцию  заключений.  Отличие от
       чистой импликации  состоит в  том, что  правило может содержать
       ссылку  на  подключаемый  модуль,  который вызывается в момент,
       когда все предусловия удовлетворены.

           Алгоритм логического вывода  в каждом сеансе  решает задачу
       определения итогового заключения.

           Далее  описывается  структура   всех  элементов   решающего
       правила.

           1.1. Объекты.

           Под  понятием  объект  понимается  элемент  базы  знаний, в
       котором  содержится  информация  о  возможных целях логического
       вывода. Каждый объект есть структура следующего вида:

       < идентификатор >            ( строка не более 32 символов )
       < признак целевого объекта > ( булевская переменная )
       < вопрос >                   ( строка не более 64 символов )

           Главной  компонентой  объекта   является  вопрос,   который
       система задает пользователю в сеансе логического вывода.

           Признак  целевого  объекта  указывает  является  ли  данный
       объект возможной целью сеанса,  или он используется только  как
       промежуточная  гипотеза,  которую  система  формулирует  сама в
       процессе вывода.

           Идентификатор используется для  регистрации объекта в  базе
       и при  задании пользователем  цели сеанса,  или при  построении
       ответов, которые выдает система.

           Пример:
           < идентификатор >            -    Ширина листа
           < признак целевого объекта > -    Ложь
           < вопрос >                   -    Какова ширина листа ?


           1.2. Значения.

           Под значением понимается элемент базы, в котором содержится
       информация об  ответах, которые  выдает система  при логическом
       выводе.  Каждое значение  есть структура следующего вида:

       < идентификатор > ( строка не более 32 символов )
       < тип значения > ( целое от 0 до 6 )
       < шаблон ответа > ( строка не более 64 символов )

           Идентификатор используется для регистрации значения в  базе
       и при вводе по  запросу системы ответов пользователем,  или при
       построении ответов, которые выдает система.

           Тип значения  указывает связан  или нет  ответ с получением
       символьной или числовой  информацией. В системе  предопределены
       следующие типы значений:

       0 - Лексика           ( значение представляет "чистый" ответ );
       1 - Символьный        ( строка до 8 символов );
       2 - Булевский         ( истина/ложь );
       3 - Целый             ( целое число );
       4 - Вещественный      ( вещественное число );
       5 - Массив целых        ( массив целых чисел );
       6 - Массив вещественных ( массив вещественных чисел ).

           Фактически, все указанные типы, за исключением 0  позволяют
       передавать информацию во внешние  модули и принимать ее  от них
       обратно в систему.

           В системе зарезервировано специальное значение,  называемое
       "неопределенным",  которое  употребляется  в  том случае, когда
       нужно указать,  что ответ  на заданный  вопрос неопределен. Это
       значение имеет следующий вид:

       < идентификатор >  - не знаю
       < тип значения  >  - лексика
       < шаблон ответа >  - не определяется.

           Пример:
           < идентификатор >  - число в сантиметрах
           < тип значения  >  - целое
           < шаблон ответа >  - определяется как.


           1.3. Диады.

           Диада  является  элементарным  квантом  знания,  в  котором
       сосредоточена информация  о вопросе  и ответе  на него.   Диада
       реализуется  структурой следующего вида:

       < идентификатор объекта  >
       < идентификатор значения >
       < номер связанного параметра >   ( целое от 0 до 255 ).

           Смысл  первых  двух  элементов  диады  уже разъяснен, номер
       связанного параметра указывает,  используется ли диада  внешним
       млдулем (  номер отличен  от 0  ) или  нет (  номер равен  0 ).
       Подробно интерфейс с модулями описан в пункте 1.5.

           Пример:
           < идентификатор объекта  > -   ширина листа
           < идентификатор значения > -   число в сантиметрах
           < номер параметра >        -   1


           1.4. Решающие правила.

           Каждое правило является структурой следующего вида:

       < идентификатор правила >  ( строка не более 32 символов )
       < идентификатор модуля  >  ( строка не более 32 символов )
       < предусловие 1 >          ( диада )
       < предусловие 2 >          --- . ---
       .................
       < предусловие N >          --- . ---

       < заключение 1 >           --- . ---
       < заключение 2 >           --- . ---
       ................
       < заключение M >           --- . ---

           Поясним смысл первых двух элементов. Идентификатор  правила
       используется для  регистрации правила  в базе  и при объяснении
       полученных  заключений.   Идентификатор  модуля   является   по
       существу именем программы, которая подключается под управлением
       этого правила. Если при этом требуется обмен параметрами, то  в
       предусловиях и заключениях  правила должны быть  указаны номера
       тех параметров, которыми обмениваются правило и модуль.

           Поскольку  правила  могут  "зацепляться"  по предусловиям и
       заключениям, т.е. некоторые предусловия одного правила являются
       заключениями другого, система правил является реляционной.

           В  ходе  логического   вывода  решающее  правило   работает
       следующим  образом:  если  объекты  (  вопросы  ),  указанные в
       предусловиях,   получили   значения   (ответы),  идентификаторы
       которых  там  предусмотрены,  то  вызывается  тот  модуль,  имя
       которого указано ( если имя  пустое, модуль не вызывается ).  В
       случае  успешного   выполнения  модуля   (  внешняя   программа
       заканчивается с 0 -м кодом ) система устанавливает, что объекты
       ( вопросы ), указанные в заключениях получают записанные там же
       значения.

           Порядок  записи  предусловий  определяет  порядок выяснения
       истинности предусловий ( порядок задания вопросов ).

           Нужно отметить,  что система  не задает  по каждому правилу
       все  вопросы,  предусмотренные  в  его предусловиях. По каждому
       предусловию алгоритм вывода вначале ищет в списке установленных
       заключений такую  же диаду.  Если это  удается, то  предусловие
       считается  истинным.  Затем  ищется  диада, у которой совпадает
       идентификатор  объекта  с  указанным  в  предусловии.  Если это
       удается,  то  предусловие  считается  ложным  и проверка других
       предусловий  правила  не  проводится,  а  правило  считается не
       приемлемым.  Затем  среди  не  проверенных  правил ищется то, у
       которого в списке заключений есть такая же  диада. Если   такое
       правило  имеется,  то  проверка  данного  правила откладывается
       до окончания  проверки найденного  правила. Аналогично,  ищется
       правило,  у  которого  среди  заключений  есть  диада  с тем же
       идентификатором  объекта.  Наконец,   если  все   вышеуказанные
       возможности поиска исчерпаны, система задает вопрос.

           Пример:
           < идентификатор правила >  -  вычисление среднего
           < идентификатор модуля  >  -  mean.exe
           < предусловие >            -  выборка
                                         1
                                         массив

           < заключение >             -  среднее
                                         2
                                         число

           1.5. Модули.

           Как уже говорилось,  в решающем правиле  может подключаться
       внешняя   программа.   Модулем   в   базе   знаний   называется
       спецификация этой программы, которая используется при ее вызове
       и передаче параметров. Модуль описывается структурой следующего
       вида:

       < идентификатор модуля >       ( строка не более 32 символов )
       < тип значения параметра 1 >   ( целое от 1 до 6 )
       < тип передачи параметра 1 >   ( целое от 1 до 3 )
       ............................
       < тип значения параметра N >   ( целое от 1 до 6 )
       < тип передачи параметра N >   ( целое от 1 до 3 )

           Имя  модуля  является  строкой  не  более  32  символов   и
       идентифицирует файл EXE, COM или BAT типа.

           Возможные типы значений параметров:
       1 - Символьный          ( строка до 8 символов );
       2 - Булевский           ( истина/ложь );
       3 - Целый               ( целое число );
       4 - Вещественный        ( вещественное число );
       5 - Массив целых        ( массив целых чисел );
       6 - Массив вещественных ( массив вещественных чисел ).

           Возможные типы передачи параметров:
       1 - Входной;
       2 - Выходной;
       3 - Возобновляемый ( входной/выходной ).

           Общее количество параметров - не более 255.

           В  момент  выполнения  модуля  вызывается файл, указанный в
       имени  модуля.  Параметры   передаются  через  текстовый   файл
       DIADA.PAR.  Входные  и  возобновляемые  параметры  передаются в
       порядке  возрастания  номеров.   Модуль  должен  возвратить   в
       указанном файле выходные  и возобновляемые параметры  в порядке
       возрастания номеров.

           Параметры  булевского  типа  передаются  как  целые   числа
       ( 0 - ложь, 1 - истина ). Параметры типа массивов передаются  в
       следующем формате:

       < длина массива >
       < значения элементов >.

           Каждый параметр или элемент параметра ( в случае массивов )
       должен располагаться в отдельной строке.

           Пример спецификации:
           < идентификатор модуля >       -  mean.exe
           < тип значения параметра 1 >   -  6
           < тип передачи парамеира 1 >   -  1
           < тип значения параметра 2 >   -  4
           < тип передачи парамеира 2 >   -  2

           Пример программы:
           Programm Mean ;
           uses crt;
           var M: Array [ 1 .. 100 ] Of Real ;
           Mean : real ;
           I,
           Leng : Integer ;
           f : text ;
           Begin
           { стандартный пролог }
             Assign ( f , 'diada.par' ) ;
             Reset (f) ;
             Readln ( f,Leng ) ;
             For i:= 1 To Leng Do
             Readln ( f,M[i] ) ;
             Close ( f ) ;
             { тело процедуры }
             Mean:= 0 ;
             If( Leng <> 0 ) Then Begin
               For I := 1 To Leng Do
               Mean := Mean + M[i];
               Mean := Mean/Leng ;
             End ;
             TextBackGround ( Black ) ;
             ClrScr ;
             Window ( 20 , 10 , 60, 16 ) ;
             TextBackGround ( Blue ) ;
             TextColor ( White ) ;
             ClrScr ;
             Writeln ( '  Модуль вычисления среднего  ' ) ;
             Writeln ( '  Среденее  = ',  Mean : 8 ) ;
             While (Readkey <> Char ( 13 )) Do ;
             { конец процедуры }
             { стандартный эпилог }
             Rewrite ( f ) ;
             Writeln ( f , Mean ) ;
             Close ( f ) ;
           End.


           1.6. Факты.

           В  результате  работы  машины  логического вывода создается
       так называемый список фактов ( список установленных  заключений
       ). Фактом называется структура следующего вида:

       < заключение >   ( диада )
       < содержание >   ( зависит от типа значения диады )

           Содержание факта предназначено для хранения и  визуализации
       символьной и числовой информации, т.е. содержание соответствует
       типу значения, которое указано в диаде заключения.

           Пример:
           < заключение >   - ширина листа
                              число в сантиметрах
           < содержание >   - 20


           2. Внешнее и внутреннее представление базы.

           База  знаний  системы  образуется  из  следующих компонент:
       База объектов;

       База значений;
       База модулей;
       База правил;
       База фактов  ( накапливаются  при работе  алгоритма логического
                      вывода ).

           Во внутреннем представлении все эти компоненты  реализованы
       ссылочными структурами.  Для инженера  по знаниям  важно знать,
       что  все  идентификаторы  и  символьная или числовая информация
       хранится  в  оперативной  памяти  машины.  Из-за  этого   объем
       создаваемой базы знаний ограничен параметрами памяти ЭВМ.

           Во  внешнем  представлении  база  хранится  в   специальных
       текстовых файлах на магнитном носителе. Вот эти файлы:

       DIADA.OBT  -   База объектов;
       DIADA.VAL  -   База значений;
       DIADA.MOD  -   База модулей;
       DIADA.RUL  -   База правил.

           Однако, вместо указанных  имен файлов можно  использовать и
       свои идентификаторы ( см. Руководство пользователя ).

           Накапливаемые  факты  могут  быть  по  желанию пользователя
       распечатаны из файла протокола сеанса DIADA.LST.

           Ниже  приводятся  рисунки,  содержащие  примеры  заполнения
       файлов базы.

       ------ СПИСОК ОБЬЕКТОВ ---------
       годовой_обьем_выпуска
       1 каков годовой обьем выпуска продукции ?
       среднее
       1 каково среднее ?
       выборка
       1 чем задана ваша выборка ?
       приведенные_затраты
       1 каковы приведенные затраты ?
       себестоимость_новой_модели
       0 какова себестоимость новой модели ?
       удельные_кап_вложения
       0 каковы капитальные вложения на единицу новой продукции ?
       приведенные_затраты_базовые
       0 каковы приведенные затраты на базовую модель ?
       себестоимость_базовой_модели
       0 какова себестоимость базовой модели  ?
       удельные_кап_вложения_базовые
       0 каковы капитальные вложения на единицу базовой продукции ?
       годовой_эконом_эффект
       1 каков годовой эконом эффект от перехода к новой модели ?
       срок_окупаемости
       1 за какой срок окупается новая модель ?
       прирост_прибыли
       0 какой ожидантся прирост прибыли ?
       совет_по_методике_расчетов
       1 какова методика расчетов ?

           Рис 1.

           На  рис  1.  изображен  пример  заполнения файла, в котором
       хранится база  объектов. Каждый  объект занимает  две строки. В
       первой  записан  идентификатор  объекта,  во  второй  - сначала
       признак  целевого  объекта  (  1  -  целевой, 0 - не целевой ),
       затем записан вопрос.

       ------- СПИСОК ЗНАЧЕНИЙ --------
       число
       4
       -
       незначителен
       0
       -
       массив
       6
       представляет собой
       отсутствует
       0
       -
       около_500_руб
       0
       -
       около_1000_руб
       0
       -
       около_5000_руб
       0
       -
       около_10000_руб
       0
       -
       порядка_5_шт
       0
       -
       порядка_10_шт
       0
       -
       около_года
       0
       -
       около_5_лет
       0
       -
       около_10_лет
       0
       -
       около_100_руб
       0
       -

           Рис 2.

           На  рис  2.  изображен  пример  заполнения файла, в котором
       хранится база  значений. Каждые  значение занимает  три строки.
       В первой записан идентификатор  значения, во второй -  его тип,
       в третьей - затем записан шаблон ответа.

       ---- С П И С О К  М О Д У Л Е Й  ----
       +
       mean.exe
       6  1
       4  2
       +
       add.exe
       4  1
       4  1
       4  2
       +

           Рис 3.

           На  рис  3.  изображен  пример  заполнения файла, в котором
       хранится  база  модулей.  Описание  одного модуля отделяется от
       другого  символом  "+".  В   первой  строке  описания   запмсан
       идентификатор  модуля.  Далее  в  порядке номеров параметров по
       каждому из них в отдельных строках записаны тип значения и  тип
       передачи данного параметра.

       ---- С П И С О К  П Р А В И Л ----
       +
       полупериметр
       add.exe
       >a
       1
       число
       >b
       2
       число
       <a+b
       3
       число
       +
       вычисление среднего
       mean.exe
       >выборка
         1
       массив
       <среднее
         2
       число
       +
       правило1

       >себестоимость_новой_модели
         0
       около_500_руб
       >удельные_кап_вложения
         0
       около_100_руб
       <приведенные_затраты
         0
       около_500_руб
       +

           Рис 4.

           На  рис  4.  изображен  пример  заполнения файла, в котором
       хранится  база  правил.  Описание  одного правила отделяется от
       другого  символом   "+".  В   первой  строке   описания  указан
       идентификатор правила. Во второй - идентификатор  подключаемого
       модуля либо " " , никакой модуль не подключается.

           Далее  следует  описание  предусловий.  Каждое  предусловие
       начинается с символа ">". Затем записан идентификатор  объекта.
       В следующей строке указан номер параметра, подключаемого модуля
       с  которым  связано  предусловие,  либо  0,  если   предусловие
       "чистое".  Наконец,  в  третьей  строке  описания   предусловия
       записан идентификатор значения.

           Заключения записаны  в том  же формате,  что и предусловия,
       но их описания начинаются с символа "<".


           3. Работа со структурным редактором базы знаний.

           Структурный  редактор  базы  знаний  позволяет  инженеру по
       знаниям создавать, редактировать и сохранять в файлы, указанные
       при инициализации системы базу знаний.

           Основные режимы работы редактора:
       "ОБЪЕКТЫ"  -  Корректировка базы обьектов;

       "ЗНАЧЕНИЯ" -  Корректировка базы значений;

       "МОДУЛИ"   -  Корректировка базы модулей;

       "ПРАВИЛА"  -  Корректировка базы правил;

       "ВЫХОД"    -  Возврат в главное меню.


           3.1     Корректировка объектов.

           Основные режимы:

           "СМОТРЕТЬ"  -   Просмотр  обьекта,   выделенного  в  списке
       обьектов альтернативным цветом.

           "УДАЛИТЬ"   -   Удаление объекта,  выделенного   в   списке
       обьектов альтернативным цветом.

           Если объект учавствует в качестве элемента предусловия  или
       заключения  одного  или  нескольких  правил,  система запрещает
       удаление. Необходимо вначале удалить указанные правила.

           "СОЗДАТЬ"   -  Создается объект в следующем формате:

       < идентификатор >
       < признак целевого объекта >
       < вопрос        >.

           Идентификатор  -  строка  не  более  32  символов. Вопрос -
       строка не более 64 символов.

           "ИЗМЕНИТЬ"  -   Корректировка идентификатора объекта и  его
       вопроса.

           "ВЫХОД"     -    Выход  в  меню   редактора  с запросом  на
       сохранение базы  обьектов в  файл, указанный  при инициализации
       системы.


           3.2. Корректировка значений.

           Основные режимы
           "СМОТРЕТЬ"  -  Просмотр  значения,  выделенного в  списке
       значений альтернативным цветом.

           "УДАЛИТЬ"     -   Удаление  значения,  выделенного в списке
       значений альтернативным цветом.

           Если значение  учавствует в  качестве элемента  предусловия
       или заключения одного или нескольких правил, система  запрещает
       удаление. Необходимо вначале удалить указанные правила.

           "СОЗДАТЬ"   -  Создается значение в следующем формате:

       < идентификатор >
       < шаблон ответа >
       < тип значения  >

       Идентификатор - строка не более 32 символов.
       Шаблон ответа - строка не более 64 символов.

           Возможны следующие типы значений:
       0 - Лексика             ( "чисто" лексическое );
       1 - Символьный          ( строка до 8 символов );
       2 - Булевский           ( истина/ложь );
       3 - Целый               ( целое число );
       4 - Вещественный        ( вещественное число );
       5 - Массив целых        ( массив целых чисел );
       6 - Массив вещественных ( массив вещественных чисел ).

           Если  вы  создаете  значение  не "чисто" лексического типа,
       его необходимо использовать  для передачи в  качестве параметра
       для подключаемого модуля.

           "ИЗМЕНИТЬ"  -  Корректировка   идентификатора  значения   и
       его  шаблона ответа.

           "ВЫХОД"        -   Выход  в  меню  редактора  с запросом на
       сохранение    базы    значений    в    файл,    указанный   при
       инициализации системы.


           3.3. Корректировка спецификаций модулей.

           Основные режимы:

           "СМОТРЕТЬ"   -   Просмотр спецификации модуля,  выделенного
       в списке модулей альтернативным цветом.

           "УДАЛИТЬ"     -  Удаление спецификации  модуля, выделенного
       в списке модулей альтернативным цветом.

           Если  модуль  подключен  к  одному или нескольким правилам,
       система   запрещает   удаление.   Необходимо   вначале  удалить
       указанные правила.

           "СОЗДАТЬ"    -    Создание спецификации модуля  в следующем
       формате:

       < имя модуля >
       < тип параметра 1 > < тип его значения >
       < тип параметра 2 > < тип его значения >
       ........................................
       < тип параметра N > < тип его значения >

           Имя  модуля  является  строкой  не  более  32  символов   и
       идентифицирует файл EXE, COM или BAT типа.

           Возможные типы параметров:
       1 - Входной;
       2 - Выходной;
       3 - Возобновляемый ( входной/выходной ).

           Возможные типы значений:
       1 - Символьный          ( строка до 8 символов );
       2 - Булевский           ( истина/ложь );
       3 - Целый               ( целое число );
       4 - Вещественный        ( вещественное число );
       5 - Массив целых        ( массив целых чисел );
       6 - Массив вещественных ( массив вещественных чисел ).

           Общее количество параметров - не более 255.

           В  момент  выполнения  модуля  вызывается файл, указанный в
       имени  модуля.  Параметры   передаются  через  текстовый   файл
       DIADA.PAR.  Входные  и  возобновляемые  параметры  передаются в
       порядке  возрастания  номеров.   Модуль  должен  возвратить   в
       указанном файле выходные  и возобновляемые параметры  в порядке
       возрастания номеров.

           Параметры  булевского  типа  передаются  как  целые   числа
       ( 0 - ложь, 1 - истина ).

           Параметры типа массивов передаются в следующем формате:
       < длина массива >
       < значения элементов >.

           Каждый параметр или элемент параметра ( в случае массивов )
       должен располагаться в отдельной строке.

           "ВЫХОД"        -   Выход  в  меню  редактора  с запросом на
       сохранение  базы  модулей  в  файл, указанный при инициализации
       системы.


           3.4. Корректировка правил

           Основные режимы

           "СМОТРЕТЬ"  -   Просмотр предусловий и заключений  правила,
       выделенного в списке правил альтернативным цветом.

           "УДАЛИТЬ"     -   Удаление  правила,  выделенного  в списке
       правил альтернативным цветом.

           "СОЗДАТЬ"     -   Создание  и  добавление решающего правила
       следующей структуры:

       < имя правила >
       < имя модуля  >
       Если
       < предусловие 1 >
       < предусловие 2 >
       .................
       < предусловие N >
       То
       < заключение 1  >
       < заключение 2  >
       .................
       < заключение N  >

           Правило идентифицируется своим именем ( строка не более  32
       символов ).

           Если  к  правилу  подключается  модуль,  то  его  имя ( имя
       исполняемого файла типа EXE, COM или BAT ) должно быть указано,
       а его спецификация должна содержаться в базе модулей, в противном
       случае должен быть указан "пустой" идентификатор.

           Каждое предусловие и заключение имеет следующий  вид:
       < идентификатор обьекта  >
       < идентификатор значения >

           В момент создания  правила указанные идентификаторы  должны
       быть описаны в базе обьектов и базе значений.

           Если  вы  подключили  к  правилу  модуль, имеющий параметры
       (  входные,  выходные,  возобновляемые  ),  то  Вам  необходимо
       установить  соответствие   между  ними    и   предусловиями   и
       заключениями   правила.    Соответствие   устанавливается    по
       порядковым  номерам  параметров  и  типам,  предопределенным  в
       системе.

           В  случае  неудачного  завершения  процедуры создания ( нет
       заключений или не установлено корректное соответствие с модулем
        ), правило пропускается.

           "ВЫХОД"     -   Выход  в  меню  редактора  с  запросом   на
        сохранение  базы  правил  в  файл, указанный при инициализации
        системы.


           В заключение мы просим  Вас при возникновении вопросов,  не
        предусмотренных  в  данном  руководстве,  либо при обнаружении
        недостатков и  ошибок в  работе системы  обращаться по адресу:
           252050, г.Киев-50, ул.Тургеневская,46
           Представительство в г.Киеве Центра "СТАТ-ДИАЛОГ"
           СП "ДИАЛОГ" и АН СССР, тел. 216-63-10, 266-53-83.

           Будем   признательны   за   любую   информацию   по   опыту
        эксплуатации нашей системы.


