		       DOSEDIT User's Guide

			   Jack Gersbach
			  Burlington, Vt.


Abstract:

DOSEDIT is a VM style editor for dos commands lifted out of DOS 1.86.
It can be used with DOS 1.1 and 2.0.


Corrections and Enhancements

Suggestions for additions or changes are welcome.


Installation

Download and copy DOSEDIT.COM onto a diskette.
Type dosedit at the dos prompt and it will install itself as a
resident extension to dos. If you wish to set up an aliase list,
type:
	DOSEDIT filespec

The file contains a list of aliases and replacement phrases
as described below.


Operational Description
Special DOS EDITING KEYS

The DOS editing keys are different than the standard dos keys and are
more natural for the average user. The function keys on the left side
of the keyboard are not used.

The information below summarizes the functions of the new editing keys.

Right arrow:	Advances the cursor one character position.
Left arrow:	Backs up the cursor one character position.
Ctrl-Right:	Advances the cursor to the next word.
Ctrl-Left:	Backs up the cursor to the previous word.
LeftShift-tab:	Backs up the cursor to the previous tab position.
RightShift-tab: Advances the cursor to the next tab position.
Home:		Moves the cursor to the beginning of the line.
End:		Moves the cursor to the end of the line.
Del:		Erases the character at the cursor position.
Back Space:	Erases the character to left of the cursor.
Esc:		Erases the entire line.
Ctrl-Home:	Erases from the beginning of the line to the cursor.
Ctrl-end:	Erases from the cursor to the end of the line.
Up arrow:	Recalls the previous instruction from the stack.
Down arrow:	Recalls the following instruction from the stack.
Ctrl-PgUp:	Clears the current stack of all entries.
Ctrl-PgDn:	Erases the currently displayed stack entry.
Ins:		Toggles the insert mode. If active, cursor size changes.
Ctrl-A: 	Displays aliase list when under dos control.
Ctrl-Z: 	End of file marker (1AH). Replaces the F6 key.
F1 thru F10:	Not used.

The insert mode is automatically turned off with Enter or Esc.

Two circular stacks of 256 bytes each stores all new or edited commands
that are entered from the keyboard.

One stack serves the dos command mode and the other serves calls from
external commands and application programs.
These programs must use
Dos function call 0AH to access dosedit and the command stack.

Dosedit traps the command.com buffer segment and dedicates one stack
to it and the other for all other buffers.
It is recommended that DOSEDIT be loaded lower (earlier) than any
other resident dos extension that calls the dos editor
(function call 0AH).

After executing a command, the stack pointer is set between the current
command and the next one.
The previous command can then be recalled by pressing the up arrow.
If the current command is new, it is placed at the end of the stack
and the stack pointer points between the last command and the first
one entered.
The 1st command will be lost if the stack has filled up and wrapped
around to the beginning.

The currently displayed command line is executed when enter is pressed.
The cursor may be at any position in the line when enter or the up/down
arrow keys are pressed.

If the calling program passes a line of text in it's buffer, it can be
displayed and edited by pressing the End key. DOS will reshow the
buffer contents if there is a carriage return character at the end
of the text as indicated by the 2nd byte of the buffer.

The interface description for function call 0AH applies in all respects.

Aliases

Aliases may be defined in a separate file that DOSEDIT will read when
it is installed.
Refer to "installing dosedit", above.

The form of the file is:

Alias1 replacement phrase
Alias2 replacement phrase
   .
   .
   .
AliasN replacement phrase
EOF


Each line must end with a carriage return - line feed combination.
The file must end with an EOF mark of 1AH.

If the aliase file is unacceptable to dosedit, an error message is
displayed and dosedit will not be installed.

Aliases may be displayed by pressing the "A" key while holding down
the Ctrl key.

This is the standard text file format produced by text editors such
as Edlin, The Personal Editor, etc.

Aliases must be limited to 8 characters and may include any character
that is legal in a file name.

The replacement phrase may be any length but could cause overflow of
command's text buffer at the time of substitution. If this happens,
a message is displayed and a nul string is returned by dosedit.
Aliases are only active while in the dos command mode. The replacement
string is never displayed but is returned to command.com in the command
text buffer.

When an alias is used on a command line, it must be the first word of
the line although a drive specifier may preceed it. For example,
if fmt is an alias for format, C:fmt will cause dos to assume that
format.com will be found on drive C.
 Tips on Aliases:
                      by Ted Eyrick   Compuserve 72446,317

I use a file called alias.txt to hold my alias assignments.  The following
are some examples from my own alias.txt file, please note the use of the
"|" character to stack commands.  I have used as many as 96 characters
in a single alias command.  You can also use simple Extended Batch Language
commands e.g. bat stack y; if you have bat.com installed.
 
w    cd\|logimate w|prokey \dt.pro/r|prokey \u\w.pro/m/[alti]|cd\w|wp|cd\|prokey/c|logimate dos|cls
tur  cd\|cd\k|bat stack y;|turbo|cd\|cls
123  prokey \u\l.pro/m/[alti]|logimate l|FP C:\is|cd\is|123|FP C:\/T|prokey/c|logimate dos|cd\|cls
 
Thus, the command:  w <enter> causes all of the commands associated with
the alias w to be executed sequentially beginning with  cd\  .  To install
the alias file with NDOSEDIT use the following command.
 
NDOSEDIT ALIAS.TXT
 
This same command is used to reinstall alias.txt after any revisions
have been made, without the need to reboot.
 
Note also the first two commands in the alias tur are cd\ and cd\k. While
a single cd\k would do the job, the preceeding cd\ prevents a decline in
response time when you are down in the hard disk subdirectories.
