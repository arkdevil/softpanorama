СОФТПАНОРАМА No.3, 1990                 Составитель Н.Н.Безруков
*******************************************************************
 В Ы С Т У П Л Е Н И Я   У Ч А С Т Н И К О В   С Е М И Н А Р А
*******************************************************************
			  Приводимые выступления публикуются  по
			  сокращенной     и    отредактированной
			  Составителем  cтенограмме. Из-за недо-
			  статка времени, текст, полученный в ре-
			  зультате обработки и 	  редактирования
			  стенограммы,  с   авторами  согласован
			  не был. Составитель приносит извинения
			  за возможные ошибки, неточности и иска-
			  жения мыслей  докладчиков.

*****  Выступление А.А. Чижова на январском заседании семинара *****

   В  настоящее    время   я   представляю  совместное   предприятие
"Параграф",  которое занимается исключительно разработкой  программ-
ного   обеспечения.    Можно   сказать,    что   собралась    группа
программистов,  которым  хотелось  иметь  большую свободу, и которые
готовы были платить за это своим трудом, своим временем. Сначала  мы
организовали  кооператив  и уже потом совместное предприятие. Многие
считают,  что сотрудники совместного предприятия живут очень хорошо.
Мы не занимаемся продажей  компьютеров,  как  большинство совместных
предприятий, и поэтому жить нам не так просто.

   В  нашем   совместном  предприятии,   примерно  около   35  чел.:
программисты,  математики,  немножко - администрация,  в той мере, в
которой это  необходимо для  нормального существования.   В   первую
очередь   мы   занимаемся разработкой  программного обеспечения  для
РС. Кроме того, мы  занимаемся руссификацией того или  иного пакета,
поддержкой  корреляции,  которую  наверное  многие  знают.  Затем  -
написание  каких-либо системных  утилит  и  программ,   которые  нам
интересны.    Отдельная    часть  нашего   совместного   предприятия
"Параграф мастер",  которым руководит Веселов, разрабатывает -  МАС-
ТЕР,   ЛЕКСИКОН и  другие известные  программы. Кроме  всего прочего
у нас  довольно мощное  научное подразделение,   которое  занимается
некоторыми  программами в области принятия решений,   распознаванием
рукописного текста без обучения.  Вот такой приблизительно   текущий
круг  деятельности.   В  принципе  мы  собрались  для  того,   чтобы
работать над  многопроцессорными параллельными  системами.   Не могу
сказать, что это полностью удается, потому что самим оплачивать свой
труд  трудно,  без  бюджета  жить тяжело. Но как-то потихонечку  эти
дела развиваются.

    Теперь об антивирусной программе ДОКТОР. Вирусными программами я
занялся давно,  когда появились первые сообщения с Запада о вирусах.
Началось  все  с   довольно  любопытной  истории. Ко  мне обратилось
компетентное  ведомство  с  вопросом  о  том,   насколько  это   все
серьезно. Как следствие,  я попытался написать  вирус, потому что  в
Союзе  вирусов  не  было  вообще,  но  были сведения, что на  Западе
что-то происходит.   Вирус я написал  и результаты   для  меня  были
совершенно ошеломляющими,  сейчас это,  конечно,  повторить  нельзя,
потому  что   все  знают,   что  вирусы   существуют.  Но   тогда  о
существовании вирусов никто не знал и тот вирус,  который я  пустил,
около года ходил  по городу, а  потом он самоуничтожился.  Он ничего
плохого не делал,  он только размножался. При этом, я сам мог узнать
есть вирус на машине  или нет.  Так  вот,  несмотря   на то,  что  в
Москву приходят очень много компьютеров из разных источников и в том
числе  совершенно  новых,   т.е.   таких,  которые  не  успели   еще
заразиться,  примерно 60%  их в Москве были заражены.  Цифра в общем
ужасная.   Сейчас так  быстро размножаться  вирус конечно  не может,
потому что все  используют антивирусные программы.  Но тогда, я  был
очень удивлен,  ведомство, естественно,  тоже. А  уже гораздо позже,
тогда,  когда начали появляться в Москве и Союзе вирусы с  Запада, я
начал писать свои   собственные антивирусные программы. Реально   их
написано две, хорошо отлажена одна, другая отлажена не до конца.   В
принципе   у   нас  имелся  проект  по  созданию  целого   комплекса
антивирусных программ,   которые должны  были вести  защиту с  самых
разных сторон. Пока этот проект двигается не очень активно,  причина
чисто экономическая.  Мы не можем бросать  слишком  большие средства
на  рискованные  с экономической точки зрения проекты.  Антивирусные
проекты с нашей точки зрения не  очень перспективны в Союзе,  потому
что  все,   что   имеется,   все  копируют   и  что-либо   продавать
практически невозможно.  А на Запад  тоже  невозможно, потому  что у
нас нет с  ними контактов.    Конечно же списки  вирусов,    которые
ходят в  тех или  иных странах  на Западе,  или точнее в Европейском
регионе,  Японии, США, сильно отличаются. И в СССР вирусы отличаются
довольно сильно  от, скажем,   английских или  немецких  комплектов,
которые там   есть. Комплекты   эти видны   по возможностям западных
антивирусных  программ,  которые  там  сейчас продаются.

      Теперь   я кратко  скажу об  идеях,   которые заложены  в моих
антивирусных  программах.   ДОКТОР  -   программа,   которая   лечит
вирусы,   сейчас  последняя  версия  1.42,  я  ее  сюда  привез. Эта
программа  как  и  многие  другие  отыскивает  в  файле  вирус и его
вырезает,  если это ей удается. В отличии от многих других она  ищет
не по всему файлу  шаблон того или иного вируса, а по точке входа  в
файл. Тем  самым она  не умеет  отрезать неактивный  вирус,  если он
как бы   дезактивирован  и  остался "мешком" висеть  в файле. ДОКТОР
этот  вирус  не  находит,  а  находит вирусы, которые прикрепились к
файлу. По  очереди отреза-  ется   один вирус  за другим.   То  есть
сразу  без  вылечивания  найти  несколько  вирусов, сидящих в файле,
эта  программа  не  может.   Вторая  программа  -  СТАМПЕР.  Это   -
программа  маркирует  файлы  и  тем  самым  по изменению контрольных
сумм и  каких-либо еще  свойств файлов  понимает, что  файл оказался
зараженным. При  этом, конечно  же, возникает  целая "куча" проблем,
связанных  с   самомодифицирующими   программами   и  с   некоторыми
вирусами,   которые отрезают  эту информацию.  Скажем, вирус "Черная
дыра" - очень неаккуратный,  он просто портит некоторую  в заголовке
EXE   файла   информацию.    В   отличии   от   многих  антивирусных
программ,  которые  ходят по стране,  СТАМПЕР  не  создает отдельный
файл,   в  котором  есть  информация  о  программах,  находящихся на
диске,  а  к   каждой  программе  прикрепляет    свой    собственный
кусочек,   в  котором  описана  информация  о  файле,    контрольной
сумме  и  другая    информация   необходимая    для   восстановления
файла.   В этом  есть свои  плюсы и  минусы.   Минус, конечно же,  в
том,  что  эта  информация  может  быть  затерта, что и делает вирус
"Черная  дыра".  Минус  и  в  том, что другие антивирусные программы
это замечают  и начинают  "ругаться".   Но есть  и плюс.   Мы  можем
защитить   СТАМПЕРОМ   программу   до   того,   как   мы  отдали  ее
пользователю.  Мы   ее  отдаем   уже  в   проштампованном   виде   и
СТАМПЕР  всегда  определит  зараженность,   даже  если  пользователь
запускает ее на  какой-то машине,   где все остальные  программы еще
не  проштампованы.   В  этом  свой  плюс,   т.е.   маркер передается
вместе с программой.   Он прикреплен не  к диску,   а  к  программе.
С другой  стороны, нам  самим ясно,  что какие  бы способы защиты от
вируса  не  были  придуманы,   всегда  их  можно  обойти.  Есть нес-
колько вирусов,   которые сейчас  нам более  или менее  известны. Но
можно сделать  такие вирусы,   которые обходят  практически все  су-
ществующие  антивирусы.  Есть  здесь  способы.   Сегодня я передал в
СОФТПАНОРАМУ  как  FREEWARE  свой  фаг  ДОКТОР,  который  более  или
менее  отлажен.  Конечно,  о   том  насколько  он  отлажен,   судить
пользователям.

    СТАМПЕР пока мы передавать не будем,  потому что,  с нашей точки
зрения, он не до  конца отлажен.  Пожалуй,   дело даже не столько  в
этом,  а в том, что он не соответствует тем требованиям, которые  мы
предъявляем к нашему  программному обеспечению.   На этом я  закончу
свою  информацию  об  антивирусном  проекте.  Мы  постараемся как-то
опубликовать  эту  информацию.   Возможно  какие-то наши взгляды  на
то, как можно защищаться от вирусов, кому-то будут интересны.

     Немного о других направлениях деятельности нашей фирмы, которая
может  быть  интересна  тем  или  иным  группам   программистов  или
пользователей.   Во-первых,   это  русификация    компьютеров    как
таковых   (это  комплекс  программ  БЕТА,  последняя версия 3.36). В
ближайшее  время  мы  хотим  выпустить  и  ряд специальных системных
утилит,  которые   не  относятся к русификации.  Сейчас  практически
все    устройства,   которые имеются  в Союзе  в том  или ином  виде
поддерживаются БЕТОЙ.  Но комплекс БЕТА расширяется  дополнительными
программами типа:  средство шифровки данных на дисках с доступом  по
паролю, т.е.  если вы загружаетесь с дискеты, у вас ничего не  будет
видно;  средства организации   каких-то видов  простейших  локальных
сетей  фактически   без требований дополнительной аппаратуры  (можно
добавлять  некоторую  аппаратуру,   которая  улучшит  характеристики
сети, но  можно и  работать на  том, что  есть).   Сейчас появляются
дополнительные  системные   утилиты  разного  вида,   обеспечивающие
работу   с  расширенной  памятью,   доступа  в  нее.  В коммерческие
версии   БЕТА   дополнительно   входит   редактор шрифтов  экранных,
принтерных,  которые   есть  в   БЕТЕ.  Это   интересно  для     тех
пользователей,   которые хотят  сделать свои  собственные знаки.   Я
имею в виду  не национальный алфавит,   это надо   делать более  или
менее централизовано,   а какие-нибудь отдельные  знаки, необходимые
для  работы.   Это  первая   часть,  связанная  с  кирилиза-   цией.
Во-вторых,  мы  занимаемся   адаптацией   пакетов.   Мы    выполняем
адаптацию без  нарушения авторских  прав.   Хотя реально  нам прихо-
дится зачастую  копировать   западные   пакеты,   сама  адаптирующая
приставка  не нарушает авторских прав.  В общем у фирм не было к нам
претензий.  Потому что все  сделано аккуратно, и этот продукт  может
продаваться где угодно в  мире,  что мы  и пытаемся делать, так  как
рыночный  спрос  на   русифицированные   программы   в   общем есть.
Практически  любая  Западная программа требует  адаптации в той  или
иной степени для того, чтобы пользоваться кирилицей. Для  конкретных
программ,  которыми мы  в той  или иной  степени занимаемся,    есть
средства которые работают с  лазерными принтерами,  с  обыкновенными
принтерами,   и   еще  кое-какие   средства  для   аккуратной работы
программ.  Ведутся  работы над "продуктом",  видимо, это тоже  будет
полная аккуратная адаптация со всеми HELP-ми, с документацией.  Есть
какие-то наработки по dBASE-4,  но  мы их не продаем,  потому  что у
нас в  Москве нет  практически на  него спроса  и это дело заглохло,
хотя мы начинали больше года назад. Иногда адаптация выполняется  по
инициативе  наших  собственных  сотрудников.   Вот,   например,   мы
адаптировали  NORTON COMMANDER - получился руссифицированный пакет с
русским  меню.    Сейчас  мы    предпринимаем  некоторые  усилия  по
созданию инструментальных средств для адаптаций,  которые можно было
бы   давать группе  программистов,   если они  сами хотят заниматься
адаптацией тех или  иных пакетов и  которые упрощают создание  таких
вот адаптирующих приставок для работы  в аккуратном стиле.  Но   это
еще  не  готово,  работы  в  этом  направлении  ведутся. Это то, что
связано с адаптациями.  Кроме  того,  нами ведутся отдельные  работы
общего системного плана и говорить о них, наверное, еще рано.

   Какие есть вопросы?

   Вопрос: Ваш адрес?

   Ответ: Почтовый адрес - Москва-051, индекс - 103051, Петровский
бульвар, д.23. Совместное предприятие "Параграф".

   Вопрос: Адаптированн ли MS WORD 5.0 ?

   Ответ: Eсть вариант, но мы его пока не продаем, потому что он
еще не обкатан нами самими.

   Вопрос: Какие работы вы выполняете на параллельных  компьюте-
рах?

   Ответ: В  двух  словах - для многопроцессорных систем ведется
разработка как системных,  так и прикладных средств. У нас очень
мощная команда математиков, которая умеет работать с такими сис-
темами.  Мы,  в первую очередь,  рассчитываем на  транспьютерные
системы.

   Вопрос: В какой степени русифицирован пакет VENTURA?

   Ответ: Ventura Publisher русифицирован так, что можно исполь-
зовать кирилицу,  но диалог еще нами не русифицирован. Можно со-
поставлять  Вентуру,  которую  поставляет сам КСЕРОКС и Вентуру,
которую поставляем мы.  Это тема для дальнейшего  разговора.  Mы
считаем что у нас есть преимущество по сравнению с той Вентурой,
которую распространяет фирма КСЕРОКС в  Союзе.  Адаптация  фирмы
КСЕРОКС  пользуется  очень старым вариантом наших лазерных шриф-
тов.  И еще,  если кто-то знает, когда-то ходили мои собственные
лазерные шрифты по стране.  Ими, в частности, был напечатан жур-
нал "В мире персональных компьютеров"  совершенно  нелегально  и
без упоминания откуда взяты эти шрифты.  Это не те шрифты, кото-
рые мы распространяем,  мы распространяем очень хорошие  шрифты,
очень качественные, большого количества гарнитур, как для лазер-
ных принтеров, так и для принтеров, использующих POSTSRIPT.

   Вопрос: Ведете ли вы работы по русификации СУБД ПАРАДОКС ?

   Ответ: ПАРАДОКС  сейчас  обкатывается.  Насколько  он  хорош?
Предварительнaя версия есть,  она работает, у нас к ней есть за-
мечания.  И у нас еще есть некоторые проблемы  с  документацией.
Она не закончена в полном объеме, я имею в виду по-русски.

   Вопрос: Адаптирован ли FRAIMWORK III ?

   Ответ: Адаптированный  вариант почти на выходе.  FRAIMWORK II
давно обкатан.  MS WORD 4.0 работает, 5.0 доделывается, причем в
более полном объеме, чем MS WORD 4.0, который многим известен.

   Вопрос: Существует ли документация по системе BETA ?

   Ответ:  С документацией по системе BETA - ситуация следующая:
по стране ходит некий файл, который очень стар и не соответству-
ет реальному содержимому. Сейчас есть более совершенная докумен-
тация.  Мы готовим в печать книгу,  предположительный  тираж  50
тыс.экз. И эту книгу будем поставлять и продавать. Сейчас выпус-
тили книгу по MS WORD. Она продается в Москве. Она напечатана на
MS WORD нашими лазерными принтерами.

   Вопрос: Что  вы  можете  сказать  о  русификации персональных
компьютеров (laptop)?

   Ответ: Это зависит  от того,   какой у вас  laptop.  Если   у
вас Toshiba  5100,   то вы берете  ее и русифицируете  с помощью
той   же самой  системы БЕТА.    А  если у   вас что-то   совсем
простенькое      на  CGA,      то   необхдимо       переписывать
знакогенератор  для  работы   в символьном режиме.

   Вопрос: Можно ли у вас купить официально МАСТЕР  прокатный  и
полную версию?


   Ответ: Да, обращайтесь, пожалуйста, по вышеуказанному адресу.

   Вопрос: Какие возможности обеспечивает ваша сеть?

   Ответ: Если вы подразумеваете возможности локальных машин, то
у вас появляется несколько дополнительных букв дисководов, с ко-
торыми вы работаете как со своими собственными. Скорость переда-
чи через РС 115 Кбайт, естественная скорость, если это по парал-
лельному "порту",  хотя это еще пока в работе,  там будет где-то
500 Кбит/сек.  То есть будет около 50 Кбайт/сек, что и позволяет
параллельный "порт". Если вы используете передачу в обе стороны,
хотелось бы конечно, чтобы больше пакетов работали на сети, но с
этим есть проблемы. Над этим мы еще не работали, и надеемся, что
с ПАРАДОКСОМ будет работать легче,  у него наименьшие требования
из всех баз данных к самой сети как таковой, к ее возможностям и
особенностям.

   Вопрос: Сколько машин можно включить в вашу сеть?

   Ответ: Это,  конечно  же,  зависит от интенсивности обмена и,
безусловно, от того покупаете ли вы дополнительно оборудование в
виде специальных средств для организации "звездочки". Если вы не
организуете "звездочку",  то конечно получается мало;  в линейку
по последовательному каналу задержки очень большие чисто на рет-
рансляцию.  Если есть "звездочка", то возможности довольно боль-
шие.

   Вопрос: Не  опасна ли ваша публикация в первом номере журнала
"В мире ПК" с точки зрения идей создания новых вирусов ?

   Ответ: В плане создания новых вирусов? Это конечно верно. Не-
которые идеи мы оттуда выкинули, когда работали со статьей с ре-
дактором.  С другой стороны,  "волков бояться, в лес не ходить":
пользы от статьи наверное больше, чем потенциального вреда.

   Вопрос: Какие издания СП Параграф готовы сейчас к печати ?

   Ответ: Сейчас  реально готова книга по MS DOS,  готовятся еще
две книги:  по BETA,  системный справочник по DOS  и  MS-WINDOWS
очень компактный и очень сжатый.

   Вопрос: Разрабатывали ли вы другие вирусы?

   Ответ: Нет, тот вирус был единственный, который я сделал.


*****  Выступление Л.Г. Бунича на январском заседании семинара *****



   Наш семинар по РС начал работу сравнительно недавно и  еще не
обрел такой  популярности как  киевский.   Тем не  менее,   было
несколько полезных докладов и сообщений.

   Сначала остановлюсь на некоторых интересных докладах,  прочи-
танных на московском семинаре в 1989 году.

   Был интересный  доклад  Куренкова о системе "Щит" НПО Протон.
Они у себя собирали несколько подсистем для работы  с  вирусами,
заявляя,  что их система непробиваемая.  Одна из подсистем,  они
назвали ее "Зоопарк",  содержит около двухсот вирусов.  На самом
деле там не только вирусы,  но есть, если продолжить биологичес-
кую аналогию,  "токсины",  т.е. вредные программы, неспособные к
размножению. У нас их называют "троянцами", хотя точнее "троянс-
кими конями".

   Был доклад представителя института, который разрабатывает но-
вую ОС, они ее назвали УОС (универсальная операционная система).
Она планировалась с самого начала как мультизадачная. Это ее ос-
новное преимущество перед MS DOS.  У нее боле развитый командный
язык, кроме того универсальна она еще и потому, что обеспечивает
совместимость не только с MS DOS,  но и с  СВМ.  Все  программы,
созданные в СВМ и MS DOS, без всякого преобразования формата мо-
гут быть запущены в этой ОС.  Все форматы прерываний и сервисных
функций,  соответствующих DOS, система обеспечивает. Сейчас под-
готавливается вторая версия этой ОС.

   Далее выступали  представители института ВНИИНС (непроизводс-
твенной сферы),  рассказали о своих  работах,  в  частности,  об
адаптации FOXBASE 2.0 под названием "Карат", на которой разраба-
тываются разного рода экономические системы, бухгалтерские свод-
ки и т.п.

   Основным направлением работы семинара планировался опыт рабо-
ты  с  разного рода программными системами и опыт программирова-
ния. Но пока у нас докладов не очень много.

   Был доклад  по  опыту  работы с РL/1-86,  это усеченный РL/1.
Часть программ, которые были сделаны на РL/1 в ОС ЕС, были пере-
несены на этот язык, и оказалось, что он обеспечивает достаточно
хорошее качество программ.  Несмотря на то, что РL/1-86 все-таки
значительно  ограничен  по сравнению с РL/1 ОС ЕС.  В частности,
там нет динамических массивов,  отсутствуют  некоторые  функции,
отсутствует  индексно-последовательный метод доступа, ввод-вывод
типа DATA и т.д.

   Были доклады по особенностям отечественных и некоторых других
распространенных ЭВМ.  Это ЕС-1840 и аналогичная Искра-30,  Ней-
рон, Правец, Роботрон - 1834.

   Был доклад по подключению больших устройств печати,  взятых с
СМ или с ЕС ЭВМ на персональные ЭВМ.

   Были представлены новые возможности MS DOS - начиная с  3.0 и
кончая 3.30, а также 4.0 и Бейсик 4.5.

   Из новых систем,  которые начали распространяться  в  Москве,
достойна  упоминания еще система "Menukey".  Для тех,  кто имеет
манипулятор типа "мышка", она позволяет подключить "мышку" прак-
тически к любой программе, которая с самого начала рассчитана на
нее не была.  В частности,  с помощью "мышки" можно  имитировать
движение курсора стрелочной клавиши, закрепить за кнопками "мыш-
ки" определенные функциональные клавиши или функциональные дейс-
твия и т.д.

   Появилось большое количество новых архивных систем. Известный
всем  PKARC  редакции 3.5 сейчас уже устарел,  и появилась новая
его редакция 3.6.  Затем РКZIP, и недавно появился LHarc. Но он,
по-моему,  ничем  особенно не хорош.  Этот архиватор упаковывает
чуть-чуть лучше чем ZIP, но незначительно и не всегда. В некото-
рых случаях он даже хуже упаковывает и к тому же он не имеет та-
кого сервиса как PKZIP. В частности, он не умеет восcтанавливать
подпорченный архив.

   Появились также хорошие системы типа Backup - полноэкранные и
с возможностями упаковки копируемых файлов.  В частности, хорошо
себя показала система  FASTBACK.  Она  реализует  копирование  и
восстановления,  причем сжимает информацию раза в полтора, копи-
рует,  в частности, на любое количество дискет, и работает она в
основном молча. Она не выводит сообщение: "поставьте дискету", а
как только мы защелкнем дискету, она тут же начинает копировать.
Очень  хороший  сервис:  автоматически выводится довольно полный
протокол копирования, где указывается какой файл на какой диске-
те  находится.  Восстановить можно любые файлы начиная не обяза-
тельно с первой дискеты.  Достаточно, если файл начинается, нап-
ример,  на  третьей дискете,  то можно сразу поставить ее и т.д.
Специально под оглавление она ведет свои исторические записи.

   Еще очень  полезная программа имеет необычное имя "800".  Она
решила все наши проблемы с 720 Кб  дискетами.  Наверное  с  этой
проблемой сталкивались все, кто имеет 80-дорожечный привод, т.е.
ЕС 1840 и аналогичные.  Для дискет типа High Density  можно  ис-
пользовать формат 1,2 Мб,  для всех остальных дискет можно пойти
на риск и размечать их на 1 Мб,  но в этом случае,  как показала
практика,  надежность  не  обеспечивается.  Очень  часто дискеты
DS/DD размечаются на 1 Мб, туда что-то записывается, а потом все
это  оказывается  насквозь "больным" или читается только на этом
компьютере.  Формат 720 Кб оказался очень надежным для этих дис-
кет, и для него, кроме 80-и дорожечного дисковода ничего не нуж-
но.  Он записывает девять секторов на одну дорожку, можно даже и
десять.  Трудность  в  том,  что  практически все BIOS,  которые
встречаются на компьютерах,  этот формат 720 Кб не поддерживают.

   Мне попадался один компьютер, в котором был Феникс биос плюс.
Он поддерживал 720 Кб форматы и на чтение и на запись,  если  на
этом РС при настройке SETOP было указано, что дисковод имеет ем-
кость 720 Кб,  то никаких проблем не возникало. Если было указа-
но, что он имеет емкость 1 Мб, то можно было читать дискету, пи-
сать,  но нельзя было форматировать.  Однако этот компьютер  был
исключением.

   Появились разного  рода  любительские  разработки.  Программа
"800",  по-видимому,  это лучшее,  что есть.  Она занимает всего
около 800 байтов,  и она после своего запуска позволяет работать
всем MS DOS утилитам. Команда FORMAT без звука размечает дискеты
на любые допустимые форматы: 360,400,720,800.

   Команда DISKCOPY  также позволяет переносить информацию с од-
ной дискеты на другую.  Распространение этой программы  позволит
частично решить проблему децифита дискет большой плотности. Сей-
час можно с ее помощью  надежно  писать  информацию  на  дискеты
DS/DD.

   Хотел бы сказать о появившейся недавно новой  редакции пакета
MultiEdit.  Это программируемый текстовый редактор.  Его особен-
ности - неограниченная длина исходного текста.  Он программируе-
мый,  т.е. пользователь имеет возможность писать свои макроопре-
деления на особом языке,  что-то среднее между  Паскалем  и  СИ.
Имеет  массу широких возможностей.  Окна могут располагаться как
угодно на экране. Они могут разделять экран по вертикали или го-
ризонтали и частично перекрывать друг друга и т.д.

   Из его достоинств - возможность  вызова  компиляторов,  можно
вызывать даже целые пакеты. К примеру, вы можете отредактировать
модуль и тут же вызвать компилятор (автоматически  опознается по
типу модуля).  Если это ASM, то вызывается ассемблер, если точка
PRG, то вызывается по вашему усмотрению Clipper или FOXBASE и т.
д. Можно вызвать не только отдельный компилятор, но и пакет типа
- компилировать-редактировать и если надо, то и создать еще COM-
файл. Пакет может быть любой длины.

   В новой редакции есть полная инструкция, которая поясняет как
это сделать. MultiEdit имеет также средства документатора вырав-
нивания на правую границу,  автоматическая нумерация листов, ог-
лавления и т.д.

   Есть средства специальной языковой поддержки.  Во-первых, аб-
зац - если вы,  к примеру, на языке СИ набирали цикл типа DO, то
автоматически следующая строчка будет на  две  (или  сколько  вы
указали  позиций) правее курсора.  Далее есть так называемые об-
разцы (TEMPLATE) - набрав одну букву, вы автоматически можете ее
специальной  клавишей  расширить  до целой языковой конструкции:
условный оператор,  цикл и т. д., смотря по букве. Есть и другие
полезные возможности.

   Теперь, о нововведениях редакции 4.0. Она самодокументирована
в большей степени,  чем предыдущая редакция.  Там нет только ин-
терфейса с программами на других языках,  но по-видимому,  такой
интерфейс существует. Поскольку многофайловый поиск реализован с
помощью отдельной утилиты,  тут надо немного разобраться. Но сам
макроязык достаточно простой и мощный,  и единственная ситуация,
когда нужно выходить за его пределы,  это когда он  работает,  с
нашей точки зрения, недостаточно быстро.

   Поставляется часть исходных текстов, в частности значительная
часть документатора.

   Имеется расширенный вариант MULTI EDIT  PROFESSIONAL (правда,
ко мне он не попадал), там имеется макроотладчик, так называемый
SPELLCHECKER с большим словарем и некоторые  другие  компоненты.
Новые возможности Multi Edit 4.0. Первое - возможен откат от от-
ката. В Multi Edit с самого начала была очень мощная система от-
ката (UNDO), если вы что-то испортили, то можно вернуться на 100
шагов назад.  Это очень серьезное его достоинство и теперь доба-
вили еще команду REDO, и последний откат можно аннулировать, ес-
ли вы слишком далеко зашли в процессе отката.

   Добавили возможность поиска-замены внутри отмеченного блока -
то, чего не хватало предыдущей редакции. Там была глобальная за-
мена в тексте или замена с подсказками.

   Добавились возможности подвода отмеченного блока  по клавише.
Одна  забавная и полезная возможность - если на HOME нажать один
раз, то это подвод абзаца или подвод начала строки, если два ра-
за - подвод начала экрана,  если три раза - подвод начала файла.

   Результаты работы калькулятора можно встроить прямо  в текст,
нажатием клавиши SHIFT-F2.

   Можем сформировать целую таблицу,  используя Multi Edit, ска-
жем, для формирования бухгалтерских кодов.

   Введено понятие "истории", например, если вы делали несколько
операций типа поиска-замены, то последние примерно десять опера-
ций запоминаются и к следующей замене вы можете "воскресить" эту
историю.  Вспомнить контекст,  по которому производился поиск, и
повторить его. Если надо, при этом вы можете этот контекст скор-
ректировать.

   Для каждого типа файла допускается несколько  компиляторов. К
примеру,  для ассемблера - если я вызываю компилятор, у меня по-
является меню,  можно вызвать компилятор MASM,  компилятор  TASM
или вызвать пакет "компилировать-редактировать". Во всех случаях
результаты пакета переносятся в  специальное  окно  "диагностика
ошибок" и можно посмотреть, чем закончилась компиляция.

   Введен новый раздел - меню TEXT,  там производится сортировка
текста, или сортировка отмеченного блока.

   Реализована так называемая технология CUT&PASTE, которая зна-
кома  пользователям.  Это  означает,  что вы можете одно из окон
объявить как буфер, пройтись по тексту вручную или автоматически
и  в  этом  буфере  накапливать  отдельные строчки или фрагменты
текста.  Для этого есть специальные команды. К примеру, вы прос-
матриваете текст и все строки,  содержащие ошибки, вы можете на-
копить в этом буфере. Или вы просматриваете и автоматически "вы-
таскиваете"  в  буфер  все  строки,  начинающиеся правее десятой
позиции. Иногда это довольно полезно.

   Расширена стыковка с DOS,  разрешается до 4-х окон с оглавле-
ниями.  Из этих четырех оглавлений можно считывать модули в  от-
дельные окна.  Причем разрешаются такие же форматы в оглавлении,
как в NORTON COMMANDER либо в один столбец, либо во много столб-
цов подряд по алфавиту или по другому признаку.

   Введена дополнительная возможность хранения  резервных копий.
К примеру,  вы можете определить одно из оглавлений как рабочее.
Все страховочные копии теперь уже не с расширением BAK, а с нас-
тоящим расширителем собирать там и потом можете решать сохранить
или уничтожить все вместе взятые.

   Как я уже сказал,  можно держать несколько окон на экране од-
новременно.  Клавиша NUMLOCK,  как в турбо-дебагере и  в  других
системах,  позволяет  переместить  окно  и изменить его размеры,
особенно при использовании "мышки". Это делается легко и удобно.

   Добавлена компонента - алфавитный справочник,  который вы мо-
жете использовать как телефонный или в любом другом смысле.

   Добавлена поддержка языков dBASE, МОДУЛА2, BASIC и ТУРБО-ПАС-
КАЛЬ.

   В целом система  4.0 производит очень хорошее впе-
чатление и я рекомендую с ней познакомиться. По сравнению с дру-
гими редакторами (непрограммируемыми) эта система к ним относит-
ся примерно так же,  как вычислительная машина  к  калькулятору.
Работает достаточно быстро и эффективно.
   Вот пожалуй и все.

   Какие есть  вопросы?

   Вопрос: Увеличились ли требования к памяти версии 4.0 ?

   Ответ: Она стала занимать на 40 Кб больше,  но поскольку  она
реализует  подкачку  виртуальных страниц из рабочего оглавления,
то это фактически может сказаться на скорости и то не очень зна-
чительно. Вся система занимает две дискеты по 360 Кб, где-то 500
Кб.  Она поставляется в виде двух "самосвальных" наборов  данных
типа  PKZIP  и  есть  специальная программа-инсталлятор INSTALL.
После запуска она спрашивает -  в  каком  оглавлении  вы  хотите
иметь MULTI EDIT и затем восстанавливает оба файла в оглавлении.

   Вопрос: Можно ли работать с этой версией на флоппи дисках ?

   Ответ: Можно поместить всю систему на 720 Кб-дискете.  На 360
Кб в принципе можно, но вы потеряете почти все возможности HELP.

   Вопрос: Изменился ли макроязык ?

   Ответ: Все макросы,  какие  были,  поддерживаются.  Добавлены
возможности  макроязыка.  Скажем,  появилось  такое  понятие как
строки.  Раньше были строки непределенной  длины,  сейчас  можно
описывать строки заданной длины.  Появилось много дополнительных
функций.  Я для примера написал макроопределение, которое меняет
регистр русских или латинских букв,  начиная с положения курсора
и до конца строки. Работает очень быстро и полезно.

   Вопрос: Есть ли обучающая подсистема ?

   Ответ: Нет,  остался только тот же  демонстрационный  пример.
Обучающей системы как таковой нет.

   Вопрос: Сложен ли MULTI EDIT 4.0 в обучении ?

   Ответ: Практика  показывает,  что  научиться  работать в этой
версии можно за один - два дня,  особенно учитывая, что HELP яв-
ляется контекстно зависимым и действительно оказывает помощь.

   Вопрос: Когда была разработана версия 4.0 ?

   Ответ: Насколько я понял,  это версия конца 88-го,  некоторые
программы помечены началом 89-го года..

   Вопрос: Как с вами связаться ?

   Ответ: Запишите мой домашний телефон -  591-93-09.

   Вопрос: Был ли доклад по Юниксу на вашем семинаре ?

   Ответ: Нет, по Юниксу доклада не было. Я слышал доклад по не-
му  в Москве на конференции.  Там выступал представитель от анг-
лийской фирмы - основного поставщика Юникс в мире.  Он много ин-
тересного рассказывал,  но я так понял из его доклада, что Юникс
в основном имеет смысл использовать начиная с  386-го  микропро-
цессора и начиная с памяти 2 Мб, а лучше 4 Мб.

   Вопрос: Откуда была получена "800"?

   Ответ: Программу "800", по-видимому, первым начал распростра-
нять кооператив "Интерком". Но похоже, что она скоро распростра-
нится широко.  Мы недавно получили два компьютера РС,  в которые
программа "800" была уже встроена в AUTOEXEC ,  правда на  одном
компьютере она была заражена вирусом,  а на другом - даже двумя.

   Вопрос: Что  Вы можете сказать по поводу Всесоюзного общества
вычислительной техники ?

   Ответ: Оно было организовано в 1988 году. Называется всесоюз-
ное  общество  вычислительной  техники  и информатики.  Я - член
центрального правления. Нас там в правлении 100 человек.

   Вопрос:  Чего на Ваш взгляд не хватает в MultiEdit ?

   Ответ: У кого есть свободное время,  я хочу предложить выпол-
нить общественный заказ.  Есть множество средств,  которые очень
желательно было бы сделать,  тот, кто ими займется, может соста-
вить на них репутацию. Например, нужно составить окружение Муль-
ти-эдита для русских текстов,  реализовать русский перенос. Есть
и некоторые другие системные задачи.  Кто заинтересуется,  пусть
подойдет.


****  Выступление В.Герасимова на январском заседании семинара ****


   Сначало я  расскажу  про  DLI.  Идея этой программы появилась
очень давно, когда еще вирусов не было. Точнее я про них слышал,
но  не  видел до тех пор,  пока не появился вирус DOS-62.  Сразу
после того, как он появился я, во-первых, написал программу (фаг
-ред) "Доктор",  который лечил сначало этот вирус, потом был до-
работан для лечения и других вирусов. И попутно с этим, одновре-
менно я разработал DLI (Direсtory Life Information).  Но очевид-
но,  что  хотя  универсальным  средством   обнаружения   вирусов
является подсчет контрольной суммы, для всех существующих сейчас
вирусов достаточно проверки длины.  Соответственно, для буттовых
- проверка контрольной суммы буттовых секторов. Это создает воз-
можность оптимизации. Это коротко про DLI.

   Кроме того,  я пытался делать вирус.  Я хотел его сделать как
можно более компактным.  Я вложился минимум в 222 байта,  но он,
правда, с функцией вредительства. Но если ее убрать, то он мень-
ше 200-т получается. Где он размещается? Если посмотреть мастер-
бут в версиях 3.0 и более поздних,  там видно большой кусок сво-
бодного пространства,  не используемый. Этот вирус его использу-
ет,  он там располагается и как-то "живет". Я его не распростра-
нял и распространять не  собираюсь,  просто  ради  интереса  его
сделал.

   Теперь на счет работы Пажитного Алексея. Это было 5 лет назад
и  мы совместно с ним осуществили идею Тетриса. В Тетрисе началь-
ная идея принадлежит Пажитному, он написал некую предварительную
версию на Электронике,  я перевел ее на РС и дальше мы совместно
дорабатывали ее.

   Уникальность Тетриса  состоит в том,  что его удалось продать
на Запад.  Сначала он попал в Венгрию,  а затем в Америку и Япо-
нию.

   На протяжении 3-х лет я занимался всерьез защитой. Началось с
"игрушек".  Некоторые "игрушки" изначально появляются в СССР за-
щищенными. То есть я занимался снятием защиты. Многие приносили 
мне игрушки для этой цели и у меня накопилась довольно большая 
коллекция. Эна непрерывно пополняется.

   Вопрос: Есть ли в процессоре 80x86 номер ?

   Ответ:   Скорее   всего    этого   контрольного   номера   нет.
Относительно процессоров    до   286,   я практически уверен,  что
его  нет,     или  им  нельзя  сейчас  пользоваться,   потому  что
процессоры  выпускаются не  только  фирмой Intel,   но и   многими
другими фирмами и в любом  случае там возможны какие-то  накладки.
На 386  я  занимался  поиском долго и всерьез, но так и не  нашел.
Есть там несколько  подозрительных команд,  на которые  процессор,
с одной стороны, не сообщает,  что они невыполнимы, хотя их нет  в
списке  его  легальных  команд,   он  на  них  не реагирует как на
плохие, но и ничего похожего  на серийный номер тоже никуда  вроде
не пересылает.

   Вопрос: Сколько дорожек можно использовать на дискетах DS/DD ?

   Ответ: После 83 уже не рекомендуется использовать, а 83 - это
еще  легально.  То есть,  дискеты DS/DD можно отформатировать до
830 Кб и дальше максимальное значение для количества секторов на
HD 5-дюймовых - 18,  на 3-дюймовых - 21,  больше уже невозможно.  
при  указанных  значениях  приходится  использовать    Interleave 
= 1.  Читаются такие форматы заметно медленнее.

   Вопрос: Как определить, можно ли использовать для данной дис-
кеты дополнительные треки или нет?

   Ответ: Это достаточно четко отлавливается в процессе  верифи-
кации.  На некоторых дискетах три трека плохие, они не читаются.

   Вопрос: Каким драйвером лучше всего читать дискеты,  записан-
ные в формате ЕС 1840 (2 x 360)?

   Ответ: Если 800 их не читает, то лучше читать моим.

   Вопрос: Какое есть средство для снятия защиты?

   Ответ: Идеальное средство для снятия защиты,  это  машинка  с
386 процессором и с Breakout switch,  соответственно нужно доба-
вить хороший отладчик.

   Вопрос: Как реализовать "мягкую защиту",  т.е. когда записан-
ная  на винчестер программа дальше распространяться не может, но
ее можно распространять,  переписывая с дискеты на дискету (т.е.
дистрибутивная копия отличается от рабочей)?

   Ответ: Я могу рассказать несколько секретов.  Дело в том, что
при копировании обычной командой  COPY  DOS  затирает  последний
кластерный хвостик. Файл располагается по кластерам. В последнем
кластере обычно не все пространство  заполнено,  остается  некий
"хвостик".  Поскольку  этот  "хвостик" не копируется при обычном
копировании, то на этом можно построить защиту. Некоторые защиты
так и работают.  А что касается защиты,  которая привязывается к
машине ,то можно, например, реализовать идею привязки к контрол-
леру  дисков:  время реакции на плохую команду для флоппи дисков
существенно отличается для разных  контроллеров.  То  есть,  при
выключенном  двигателе дается команда,  допустим,  на чтение,  и
ожидается,  когда контроллер отреагирует на то, что мотор выклю-
чен,  а команда дана. Это время оказывается, во-первых, стабиль-
ным для каждого отдельного контроллера,  и достаточно разным для
разных контроллеров.

   На некоторых 386 машинах есть возможность включать в  1-м  Мб
кусок после 640 Кб и подключать его как ОЗУ.  В DOS-е достаточно
просто сделать так, чтобы включить весь этот "хвост", естествен-
но на тех местах, где отсутствует ОЗУ и видеопамять, включить их
и распределить как обычные DOS блоки.  И более того,  в процессе
загрузки DOS можно сделать так, чтобы сам DOS с драйверами и ре-
зидентами поместился в конце памяти,  тогда первый "кусок" будет
очень большим.


****  Выступление Д.Н.Лозинского на январском заседании семинара ****


   Сначала я  расскажу о двух ошибках,  которые обнаружил в пос-
ледний момент. Во-первых, я сегодня обнаружил, что у меня не де-
тектируется  и  не "выкусывается" вирус STONE,  но это совсем не
опасный вирус.  Кроме того,  я совсем забыл,  что существует еще
версия  MS DOS 2.0,  т.е.  меньше чем 3-я и у меня на ней сейчас
программа не работает - говорит, что она заражена. Это связано с
тем,  что собственное имя она не находит, поэтому тот, кто пред-
почитает работать на АДОС на Искре-1030, не сможет ее эксплуати-
ровать.
   Появилась у меня эта программа,  когда вдруг стало нужно  вы-
чистить  вирус  в  нашей  организации.  Затем прямо на базе этой
программы я дальше добавлял обработку новых  вирусов.  Сейчас  у
меня  образовалась  коллекция  из 18 вирусов с разновидностями и
где-то 1 или 2 вируса - на подходе.
   Обработка идет, значит поиск и чистка - точно так же, как и в
ДОКТОРЕ.  В случае многократного заражения вычищается последова-
тельно из тела один вирус за другим, учитывая все признаки. Если
что-то подозрительное встречается,  то программа не  вычищается,
поэтому иногда часть программ остаются зараженными.
   Месяца 2-3 назад я вставил довольно аккуратную чистку в памя-
ти. Делаю я это с помощью просмотра в пошаговом режиме, через 21
и 13 прерывания.  Таким образом я разыскиваю известные мне рези-
дентные вирусы. Кроме того, в одной из подозрительных ситуаций я
обрезаю все, что стоит на 21 прерывании. Поэтому появляется воз-
можность  довольно безопасной работы с таким жутким вирусом, как
Болгарский.
   Дело в том, что Болгарский вирус вообще-то в "грязной" систе-
ме чистить категорически нельзя, потому что как только вы лечите
модуль,  он тут же обратно восстанавливается. Этим он отличается
от "самолечащихся" представителей музыкальной группы.
   Я недавно  проанализировал  всю  коллекцию  и обнаружил,  что
группа,  которая играет "ЯНКИ ДУДЛЗ" (у нас набралось 9 вирусов,
включая 2 вакцины),  принадлежит одному автору. В этих вирусах в
предпоследнем байте (я об этом написал в описании AIDSTEST) сто-
ит номер версии этого вируса.  И если у кого-нибудь появится но-
вая версия, прошу прислать.

   Вопрос: Как вы нейтрализуете резидентные вирусы?

   Ответ: Дело вот в чем: большинство вирусов, которые становят-
ся резидентами,  перехватывают функцию загрузки модуля в память.
Функция имеет код 4В.  Сидит этот код в регистре АН.  Поэтому  я
проверяю  наличие  команд на сравнение АН с 4В и некоторые прог-
раммы это содержат.  Если вам надо чистить память, то старайтесь
"выкидывать"  все,  что стоит перед резидентом или вообще просто
загружайтесь отдельно.  В принципе отладчик вам  сообщает  номер
сегмента  и для любой резидентной программы всегда можно посмот-
реть, что там стоит.

   Вопрос: Модифицируют  ли  вирусы  музыкальной  группы   вирус
"итальянский попрыгунчик"?

   Ответ: Последние 3 имеющиеся у меня версии :"янки дудлз" кор-
ректируют "итальянский попрыгунчик" (пинг-понг).  Именно модифи-
цируют.  Я разбирался,  смотрел весь этот модуль. По контрольной
сумме большого куска "янки дудлз"  определяет,  что  это  именно
"пингпонг",  на  хвост  ему дописывают набор команд,  возможно с
тем, чтобы он там начал выкидывать какие-то фокусы.

   Вопрос: Обрабатываете ли вы вирусы музыкальной группы по еди-
ному алгоритму или каждый в отдельности?

   Ответ: Если поменять концепцию, то у меня есть глобальный ал-
горитм чистки всех этих вирусов, потому что они сами свои преды-
дущие версии вычеркивают.  Но мне для этого надо "плясать" не от
точки входа,  а по такому алгоритму, как у них. И его, к сожале-
нию,  очень трудно применять,  т.е. когда много вирусов сидят на
одном модуле, они все округляют длину файла, а после этого хвост
не виден точно.

   Вопрос: Изучали ли вы другие антивирусы?

   Ответ: Нет. У меня вообще ни одного "чужого" антивируса нет.

****  Выступление Осипенко на январском заседании семинара ****

   Я представлю свою программу VR,  которая дошла до  Киева.  Но
поскольку  здесь две подобные программы были представлены,  то я
остановлюсь на отличиях, которые у меня есть.
   Краткая история типовая.  В лаборатории появился вирус, кото-
рый надо было вылечить. Правда, в моем случае это был вирус "па-
дающие буквы".  Программу лечения написали дня за полтора. Сразу
ориентировались на то,  что вирус в файле может быть  тем  самым
"слоеным  пирожком".  Изначальная задумка сделать некую основную
процедуру,  которая сканирует файл и ищет маленькие кусочки, оп-
ределяющие  тот  или  иной вирус.  Эта идея оказалась достаточно
плодотворной: упрощается включение новых вирусов.
   Однажды я  добавил обработку музыкального вируса ТР, затратив
не больше часа.  В этом VR выгодно отличается от двух  отдельных
программ того же назначения,  потому что требуется один проход и
любое количество вирусов снимается за этот проход, что бы там ни
было.  Очень хорошо это заметно по "израильскому" вирусу, потому
что встречаются ситуации, когда их в зараженной программе больше
ста штук.  Это,  в частности,  наблюдалось на NORTON-COMMANDER -
очень популярной оболочке которая постоянно  загружается  в  па-
мять. При каждой загрузки EXE файлов к ней естественно цепляется
"Израильский" вирус.
   Последняя версия  VR  (версия 4.47) обрабатывает десять типов
вирусов и в ней появилось сканирование BOOT блока. Я его встроил
буквально недавно, и несколько дней назад мне сообщили, что есть
какие-то неприятности при работе VR с MS DOS 4.0. Я еще не успел
с этим разобраться.
   Кроме того BOOT-сектор я сканирую на сигнатуры вирусов, кото-
рые есть в программе SCAN фирмы McСafее" и VIRUSCAN  IBM. Из тех
42-х вирусов в последней версии он  приводит  половину  вирусов,
живущих в BOOT блоке.
   Естественно этих вирусов у меня нет, поэтому излечить от этих
вирусов я не могу, но предупреждение выдается. Кстати, эти виру-
сы я еще пока не вставил в заставку VR. Вот и все основные отли-
чия.
   Сканирование вирусов,  т.е. поиск вирусов происходит по стар-
товой точке.  Есть также общая проблема в случае поиска вирусов,
если сверху на вирус еще что-то было довешено и длина  собствен-
ного кода вируса превышает то, что соответствует нормальной дли-
не,  то в нормальном режиме работы программы такие вирусы не об-
наруживаются.  Для  того,  чтобы  их  обнаружить и в том числе и
лечить, есть ключ, который отключает такой строгий контроль раз-
мера вируса.
   Здесь срабатывает и округление в случае  наслоения следующего
вируса,  но не в режиме автоматического поиска. Вот, скажем, че-
рез другую программу неаккуратно "срезан" вирус.  И вот этот до-
полнительный код,  если он составляет меньше 16 байт, меньше па-
раграфа единицы округления,  то  я  считаю  позволительно  такое
совпадение размера разрешить.  А вот если эта добавка составляет
больше,  то я выдаю дополнительный запрос для разрешения лечения
таких вирусов.


****  Выступление Водянюк на январском заседании семинара ****

   Я представляю НПО фирму "Бис" из г. Донецка. Мы давно работа-
ем над разработкой различных системных программ, среди них анти-
вирусные средства занимают довольно существенное место.
   Мы коммерчески расспространяем два пакета: пакет "Иммунер"
и Dezinfector. Возможно некоторые из Вас уже знакомы с этим
пакетом. Он состоит из двух программ - маленкого драйвера, раз-
мером 2Кб (в памяти он занимает всего 1,5Кб), защищаещегося вашу
систему от вирусов восьми генотипов и собственно программы  сох-
раняющей возможности "фага" и "ревизора" дезинфектора.
   Что можно сказать по-поводу этих программ. "Иммунер" загружа-
ется как и любой драйвер строкой в файле "СONFIG.SYS". Он перех-
ватывает 21 вектор и анализирует запускаемую программу в памяти,
а не на диске.  Т.е.  когда программа использует функцию ДОС,  он
проверяет из какой окрестности пришел  запрос,  если  окрестность
эта ему известна как вредная, он связывает деятельность этой ок-
рестности, вирус не работает. Я не знаю прямых аналогов описанного 
механизма.

   Почему такой подход более выгоден?  Дело в том,  что мы имеем
дело  с  вирусами расположенными в капсулах.  Т.е.  скажем некий
файл, содержащий вирус, допустим вирус 1800, имел небольшую нак-
рутку на  себя,  которая скрывала этот вирус начисто для детекто-
ров. В тоже время эта накрутка раскрывала файл, когда он начинал
работать  и  вирус работал не замеченным.  Т.е.  его нельзя было
найти,  просматривая в поисках определенной сигнатуры  в  файле.
Иммунер преодолевает это затруднение.

   Программа "Дезинфектор" существует у нас  в  двух  вариантах.
Первый  вариант имеет самостоятельный интерфейс с пользователем.
Программа выводит дерево диска на экран, и указатель путешествия
по диску показывает процент выполнения текущей.  Кроме этого,  в
момент поиска известных вирусов "Дезинфектор" создает также файл
"Виринфа", в котором протоколируется длинная и контрольная сумма
файлов и предупреждает о расхождениях  текущих параметров файлов,
с теми, что записаны в VIRINFO.

   С таким файлом можно поступить следующим образом.  Можно про-
игнорировать этот факт и обновить VIRINFO, можно удалить файл не
выдержавшего такого экзамена,  и можно также его переименовать в
расширение VRS для дальнейшего анализа.

   Вторая разновидность программы "Дезинфектор" полностью  функ-
ционально  соответствует  первой,  но она имеет следующий интер-
фейс.  После загрузки она остается резидентной и перехватывая 
прерывание от клавиатуры мому  человеку  начинает  управлять  
программой  NORTER COMANDER версии 2.0. Т.е. она иммитирует 
действие  человека,  который  просматривает файл за файлом.  В 
настоящее время драйвер  "Иммунер"  достиг  версии 1.91. Он до
вольно часто улучшается.

     "Дезинфектор" достиг версии 4.51. Если  они  мало   известны,
то лишь только потому,  что мы придаем большое значение защите  от
копирования,   и  наши  пакеты   свободно  не   расспространяются.
Выполняем привязку к BIOS при инсталляции на  конкретный компьютер  
и пакет перенести трудно.   Это   то,   что касается  традиционных 
методов защиты.   В последнии  два месяца  наша фирма  представила   
новый продукт  для  защиты  от  вирусов,   гораздо более 
эффективный. Он позволяет  избежать  заражения  практически  любой   
разновидности вируса. Хотя это   звучит несколько "хвастливо",   
но я  остановлю ваше внимание на путях которые вообще могут 
происходить  заражения в  ДОС  и  немного  расскажу  о механизме 
действия этой программы, вернее пакета.

   Этот пакет  мы   называем  интелектуальный защитник от  записи,
сокращенно IVP.  Он позволяет  в отличии от других защитников   от
записи, защитить конкретный файл от  записи, а не весь диск.  Т.о.
вы можете работать с  диском не замечая присутствие  этой програм-
мы,  пока, наконец,  некто не соберется модефицировавть  файл, ко-
торый олтмечен как защищенный.  В  этом случае  вы  будете   иметь
достаточно точную  диагностику.   Я остановлюсь  немного  на пути
которыми  вообще   можно   совершать  запись  в  ДОС.  Линию внизу
доски я  обозначу некую  прикладную программу  или вирус.   Прежде
всего  она  имеет  возможность  пользоваться  функциями ДОС,  т.е.
прерываниями INT 21-xx  и обращаться к  ДОС через этот  интерфейс.
Здесь ей будут  доступны функци:   удалить файл,   записать файл и
т.д.   Дос   предоставляет  возможность   около  десятка   функций
позволяющих  запись.   Кроме  этого,   можно  пользоваться   также
прерыванием  26,  средство   более  низкого  уровня,   позволяющее
записать в конкретные секторы диска. ДОС в свою очередь обращается
к драйверам дисков, здесь  уже интерфейс несколько более  сложный.
ДОС делает вызов командой "далекий СALL".  Т.о. ДОС известна точка
входа в драйвер и драйвер делает то, что ДОС попросила в  такой-то
диск с  такого-то сектора  записать столько  секторов с  такого-то
места памяти. В свою очередь драйвер, если это драйвер сетевой или
драйвер  виртуального  диска,   то  он  работает непосредственно с
аппаратурой,  а  драйвер  физических  дисков,  гибкого и жесткого,
работает с BIOS,  обращаясь к нему с помощью INT 13.  

     Наконец,  на  самом  низком   уровне  BIOS  воздействует   на
аппаратуру,  выполняя  команды  ввода-вывода  в  порты.   На   чем
строятся   традиционные  средства  защиты  от  записи  и от других
несанкционированных  операцийо   ?    Наиболее   расспространенные
резидентные средства защиты  перехватывают вектор 21 и вектор  26.
Таким  образом  на  пути  к  ДОС  становится  фильтр  и данный тип
программ  отслеживает   корректность  манипуляций   с  ДОС,   т.е.
обращаемся ли мы к защищенному файлу и т.д. 

     Следующий путь,  который часто используется в  защитниках   -
перехватить  вектор  13-й   и  предупреждать о воздействии  самого
низкого уровня,  скажем ки какому  могут прибегать не  вирусы,   а
"троянские кони",  для разрушения инфолрмации быстро и эффективно.
Этим  исчерпываются  пути  как  можно  перехватить,  до  недавнего
времени  перехват в этом  месте был сопряжен с трудностями.   Т.е.
здесь  нет  такого  простого  механизма  как  вектор  прерывания и
вмешаться в эту цепь достаточно сложно.

     Но наша программа делает это, она перехватывает именно в этом
месте.  Т.о.  если  некая зловредная программа,  значит  как можно
обходить  традиционные   методы   защиты?    Можно    восстановить
истинную    точку    входа      в    ДОС,      можно  восстановить
истинную  точку   входа  в   BIOS  и  обратиться к BIOS  напрямую,
скажем   сохранив флаги   и вызвав   конкретный адрес.  Этот  путь
принципиально   не   контролируемый.   Разумеется,   можно   также
восстановить  и  истинную  точку  входа  в  драйвер  и   отбросить
контроль,  стоящий  в  этой  цепи,  но  это  несколько сложнее. И,
наконец,  особо  изощренные  программы  могут писать или разрушать
диск, используя прямо вывод  COPY, ведь в конце  концов аппаратура
стандартизована  в  очень  сильной  степени  и  скажем  на   любом
компьютере  AT   можно  управлять   практически  одинаково   через
порты независимо от BIOS  так же как и на XT.  Этот путь совсем не
контролируемый точно также как и прямые вызовы BIOS. 

     Что мы предлагаем для  защиты?  Прежде всего  рассмотрим пути
какими может быть файл искажен, т.е. к нему можно приписать вирусы
или исказить какую-то информацию.  Прежде всего, файл имеет запись
в одном из каталогов.  Что включает в себя эта запись? Имя  файла,
атрибуты, дата, начальный кластер (номер кластера, с которого файл
начинается).   Такая запись  может быть в корневом  каталоге   или
в   любом   подчиненном   каталоге.    Список занимаемых    файлом
кластеров  присутствует    также  в     таблице размещения  файлов
FAT.   Т.е. в  этой таблице,  лежащей всего-навсего  в  нескольких
секторах,   подробно    отслеживается   цепь  кластеров,   которые
занимают   данный    файл.   Поэтому    целостность  именно   этих
управляющих блоков и необходимо контролировать.






