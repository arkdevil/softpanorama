'==================================================================== debug.dat
' Debugging PERL for the PERL NG Database
' Kevin Grover, grover@isri.unlv.edu, 12 Jun 1992
'==============================================================================
!short: -d                 (Used to invoke perl with the debugger)

     If you invoke perl with a -d switch, your script will be run
     under  a  debugging  monitor.  It will halt before the first
     executable statement and ask you for a command, such as:

!short: h                  Prints out a help message.

     h           Prints out a help message.
!short: T                  Stack trace.

     T           Stack trace.
!short: s                  Single step: executes until next statement

     s           Single step.   Executes  until  it  reaches  the
                 beginning of another statement.
!short: n                  Next: executes over subroutines until next statement

     n           Next.  Executes over subroutine calls, until  it
                 reaches the beginning of the next statement.
!short: f                  Finish: excecute until the end of the current program

     f           Finish.  Executes statements until it  has  fin-
                 ished the current subroutine.
!short: c                  Continue: execute until next breakpoint

     c           Continue.  Executes until the next breakpoint is
                 reached.
!short: c line             Continue: execute until specified line

     c line      Continue to the specified line.  Inserts a  one-
                 time-only breakpoint at the specified line.
!short: <CR>               Repeat last n or s.

     <CR>        Repeat last n or s.
!short: l min+incr         List incr+1 lines starting at min

     l min+incr  List incr+1 lines starting at min.   If  min  is
                 omitted, starts where last listing left off.  If
                 incr is omitted, previous value of incr is used.
!short: l min-max          List lines in indicated range

     l min-max   List lines in the indicated range.
!short: l line             List just indicated line

     l line      List just the indicated line.
!short: l                  List next window

     l           List next window.
!short: -                  List previous window.

     -           List previous window.
!short: w line             List window around line

     w line      List window around line.
!short: l subname          List subroutine

     l subname   List subroutine.  If it's a long  subroutine  it
                 just lists the beginning.  Use "l" to list more.
!short: /pattern/          Regexpr search forward for pattern

     /pattern/   Regular expression search forward  for  pattern;
                 the final / is optional.
!short: ?pattern?          Regexpr search backward for pattern

     ?pattern?   Regular expression search backward for  pattern;
                 the final ? is optional.
!short: L                  List line which have breakpoints or actions

     L           List lines that have breakpoints or actions.
!short: S                  List names of all subroutines

     S           Lists the names of all subroutines.
!short: t                  Toggle trace mode on or off.

     t           Toggle trace mode on or off.
!short: b line condition   Set a breakpoint

     b line condition

                 Set a breakpoint.  If line is  omitted,  sets  a
                 breakpoint  on the line that is about to be exe-
                 cuted.  If  a  condition  is  specified,  it  is
                 evaluated each time the statement is reached and
                 a breakpoint is taken only if the  condition  is
                 true.  Breakpoints may only be set on lines that
                 begin an executable statement.
!short: b subname cond     Set breakpoint at first line of subroutine

     b subname condition

                 Set breakpoint at first executable line of  sub-
                 routine.
!short: d line             Delete breakpoint at line (or next breakpoint)

     d line      Delete breakpoint.  If line is omitted,  deletes
                 the  breakpoint  on the line that is about to be
                 executed.
!short: D                  Delete all breakpoints

     D           Delete all breakpoints.
!short: a line command     Set an action for line

     a line command

                 Set an action for line.   A  multi-line  command
                 may be entered by backslashing the newlines.
!short: A                  Delete all line actions.

     A           Delete all line actions.
!short: < command          Set and action to happen before debugger prompt

     < command   Set an action to happen  before  every  debugger
                 prompt.   A multi-line command may be entered by
                 backslashing the newlines.
!short: > command          Set and acction to happen after debugger prompt

     > command   Set an action to happen after  the  prompt  when
                 you've just given a command to return to execut-
                 ing the script.  A  multi-line  command  may  be
                 entered by backslashing the newlines.
!short: V package          List a variables in package.

     V package   List all variables in package.  Default is  main
                 package.
!short: ! number           Redo debugging command.

     ! number    Redo a debugging command.  If number is omitted,
                 redoes the previous command.
!short: ! -number          Redo command that was that many commands ago

     ! -number   Redo the command that  was  that  many  commands
                 ago.
!short: H -number          History of last number of commands

     H -number   Display last n commands.  Only  commands  longer
                 than  one  character  are  listed.  If number is
                 omitted, lists them all.
!short: q or ^^D            Quit

     q or ^^D     Quit.
!short: command            Execute command as perl statement

     command     Execute command as a perl statement.  A  missing
                 semicolon will be supplied.
!short: p expr             Print to /dev/tty regardless of STDOUT

     p expr      Same  as  "print  DB'OUT  expr".    The   DB'OUT
                 filehandle  is opened to /dev/tty, regardless of
                 where STDOUT may be redirected to.
!short: Modifying the Debugger

     Modifying the Debugger

     If you want to modify the debugger, copy perldb.pl from  the
     perl  library  to  your  current  directory and modify it as
     necessary.  (You'll also have to put  -I.  on  your  command
     line.)   You  can  do  some  customization  by  setting up a
     .perldb  file  which  contains  initialization  code.    For
     instance, you could make aliases like these:

         $DB'alias{'len'} = 's/^^len(.*)/p length($1)/';
         $DB'alias{'stop'} = 's/^^stop (at|in)/b/';
         $DB'alias{'.'} =
           's/^^\./p "\$DB\'sub(\$DB\'line):\t",\$DB\'line[\$DB\'line]/';

