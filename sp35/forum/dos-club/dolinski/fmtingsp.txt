
                  ФОРМАТИРОВАНИЕ ДИСКЕТ DOUBLE DENSITY
                    НА ПЭВМ IBM AT ДЛЯ "СОФТПАНОРАМЫ"


                    О.Д.ДОЛИНСКИЙ, Киев, ИСМ АН УССР


        Мы уже привыкли к тому, что приглашения на семинар "Системное
программирование" начинаются предупреждением о заранее отформатированных
дискетах. Формат 1.2 Мбайт вопросов не вызвал, но многие владельцы IBM AT,
располагающие лишь дискетами Double Density, впервые несли их на семинар
с некоторым сомнением, как на эксперимент: подойдет ли формат? Ура, вроде
подошел! Но успокаиваться рано, и вот почему.
        Раньше СОФТПАНОРАМА копировалась исключительно на ЕС 1840 под 
драйвером DRIVER.SYS с настройкой 9 секторов, 80 треков. Этот формат отли-
чается от драйвера "800", работающего на IBM AT, и от других известных на
этой ПЭВМ драйверов (в частности, DRIVER.SYS на IBM AT его тоже не поддер-
живает), поэтому нельзя гарантировать успешное копирование на ЕС 1840 на
дискету, заранее отформатированную на АТ под одним из традиционных (для АТ)
драйверов. Сегодня ситуация несколько иная: основная часть дискет копиру-
ется на АТ под драйвером "800", а на ЕС1840 - все дискеты "Изот" и случай-
ным образом отбираемая часть остальных, превышающая пропускную способность
АТ. В этой лотерее может проиграть гость из другого города, форматирующийся
под "800": однажды он может увезти с семинара пустые дискеты с надписью
"BAD" на конверте, хоть на самом деле дискеты и хорошие, просто в этот раз
ему выпала ЕС1840. Драйвер "800" нормально работает с большинством "чужих"
форматов, лишь бы только в BOOT Record были без вранья вписаны все их пара-
метры. Однако драйвера ЕС1840 менее гостеприимны. Поэтому оптимальным выхо-
дом из положения представляется имитация на АТ под "800" формата 720К ЕС1840
"DRIVER.SYS" .
        Проще всего это сделать так. Отформатируйте дискету под драйвером
"800" с ключами /t:80/n:9  и затем при помощи NU.EXE впишите новый бутсектор
из прилагаемого к этой статье файла FMT720EC.BOO . Для этого его следует
прочесть в режиме FILE и затем вписать в режиме ABS SECTOR  в 1-й сектор
0-й стороны 0-й дорожки. Эта процедура может показаться сложной и громоздкой
тем, кто не привык работать с Norton Utility. В таком случае достаточно 
проделать ее один раз и создать себе "образцовую" дискету, а затем копировать
с нее бутсектор на остальные в PCTOOLS.EXE  (дисковое меню, команда Е).


              Долинский Олег Дмитриевич  (044) 435 82 70 (р.)


