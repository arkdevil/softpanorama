( Блок "AUTOEXEC", загружаемый при выполнении инициализации )   ( ;S )                                                          ( Для отключения загрузки этого блока )                         ( уберите "(" перед словом ";S" )                               CR .( Форт-система соответствует стандарту FORTH-83.)           CR .( Версия: СП-Форт 1.01  <08.09.92>)                         CR .( Для контакта с автором обращайтесь по адресу:)            CR .( 236011 г.Калининград, ул.Батальная, д.83, кв.64)          CR .( Телефон [0112] 49-32-90 )                                 CR .( Черезов Андрей Юрьевич )                                  : HEX                                                             16 BASE !                                                     ;                                                                                                                                                                                                                                                         1 LOAD: LIST                                                            BLOCK RLEN 1024 < IF ." Блока нет в файле !" CR THEN            16 0 DO 64 0 DO                                                        DUP J 64 * I + + C@ EMIT                                      LOOP CR LOOP DROP                                        ;                                                               : NLIST                                                           @ SPAN 0!                                                       BEGIN DUP                                                       WHILE DUP ID. NAME> 2- @ SPACE SPACE                              ?KEY IF DROP EXIT THEN SPAN 1+!                               REPEAT DROP CR ." Найдено " SPAN @ . ." слов(а,о)" CR         ;                                                               : WORDS                                                           CURRENT @ NLIST                                               ;                                                         2 LOADVARIABLE CSP                                                    : CASE                                                            SP@ CSP !                                                     ; IMMEDIATE                                                     : OF                                                              COMPILE OVER COMPILE =                                          [COMPILE] IF COMPILE DROP                                     ; IMMEDIATE                                                     : ENDOF                                                           [COMPILE] ELSE                                                ; IMMEDIATE                                                     : ENDCASE                                                         COMPILE DROP BEGIN SP@ CSP @ =                                  0= WHILE [COMPILE] THEN REPEAT                                ; IMMEDIATE                                                     DECIMAL                                                   3 LOAD: CN                                                              REGS + CONSTANT                                               ;                                                               0 CN AX   2 CN BX   4 CN CX   6 CN DX   8 CN DI   10 CN SI      12 CN DS  14 CN ES  16 CN FLAGS                                 HEX                                                             : FDOS                                                            21 INTR                                                       ;                                                               : CY                                                              FLAGS @ 1 AND 0= NOT                                          ;                                                               : OPEN                                                            3D00 + AX ! DX ! FDOS CY ABORT" Ошибка при открытии файла"      AX @                                                          ;                                                         4 LOAD: OPENFILE:                                                       BL WORD COUNT OVER + 0! SWAP OPEN                             ;                                                               : OPENFR:                                                         0 OPENFILE:                                                   ;                                                               : OPENFW:                                                         1 OPENFILE:                                                   ;                                                               : OPENFR/W:                                                       2 OPENFILE:                                                   ;                                                               : CLOSEFILE                                                       3E00 AX ! BX ! FDOS CY ABORT" Ошибка при закрытии файла"      ;                                                                                                                         5 LOAD: DUBLH                                                           4500 AX ! BX ! FDOS CY ABORT" Ошибка при создании дубликата"    AX @                                                          ;                                                               : ADH                                                             CX ! BX ! 4600 AX ! FDOS                                        CY ABORT" Ошибка при активизации дубликата"                   ;                                                               VARIABLE INFILE   VARIABLE OUTFILE   VARIABLE STDIN             VARIABLE STDOUT                                                 : TLOAD                                                           OPENFR: DUP INFILE ! 0 DUBLH STDIN ! 0 ADH                    ;                                                               : ENDT.                                                           STDIN @ DUP 0 ADH CLOSEFILE INFILE @ CLOSEFILE                ;                                                         6 LOAD: SETBLK                                                          BX !  ES ! 4A00 AX ! FDOS                                       CY IF AX @ 8 <> ABORT" Ошибка" THEN BX @                      ;                                                               : FREEMEM                                                         FRESH ES @ 1000 SETBLK FRESH DROP                             ;                                                               : TO>                                                             OPENFW: DUP OUTFILE ! 1 DUBLH STDOUT ! 1 ADH                  ;                                                               FREEMEM                                                         : ASK CR ." Загружать другие расширения СП-Форта ? (Y/N) "        (KEY) DF AND DUP E ATR ! (EMIT) CR [ DECIMAL ] 89 =             IF TLOAD ELSE BL WORD DROP THEN                               ;                                                               DECIMAL  ASK COLORS.F  FORGET ASK                               