
Internet Mail Office v1.03
--------------------------

   Этот файл содержит информацию об установке, работе, поддержке системы
Internet Mail Office (IMO).


СОДЕРЖАНИЕ
----------
1. IMO - что это такое?
   1.1. Особенности IMO.
   1.2. Novell NetWare версия IMO.
   1.3. DOS версия IMO.
2. Состав инсталяционной поставки.
3. Установка IMO.
   3.1. Инсталяционная программа SETUP.NLM.
   3.2. Ручная установка.
4. Тонкая настройка IMO.
5. Развитие IMO.


1. IMO - что это такое?
-----------------------

1.1. Особенности IMO

IMO - это специализированный почтовый сервер, который:
   - работает как узел сети Internet в автоматическом режиме;
   - обслуживает клиентов UUPC (RELCOM);
   - обслуживает клиентов Novell MHS 2.0.

   Система IMO поддерживает UUCP g протокол, потому может работать как
полноправный узел сети Internet. Данная версия программы реализована на двух
платформах - ОС Novell NetWare 3.X, 4.X и ОС DOS. Под управлением ОС NetWare
работает NLM модуль - IMO.NLM, под ОС DOS - IMO.EXE. Работа с NetWare дает
существенные преимущества - автоматическая работа почтового сервера. Под ОС DOS
приходится выделять отдельный компьютер, либо отказаться от автоматической
работы почты.
   Работа IMO в автоматическом режиме дает пользователям UUPC существенные
преимущества - отпадает необходимость ручного запуска почтовых утилит,
повышается пропускная способность почты. А кроме того - пользователи известных
оболочек - таких как BML, DMAIL - смогут продолжать работать со своими любимыми
оболочками без каких-либо проблем. Зато администратору почты жизнь облегчается
значительно.
  Популярная почтовая система Novell MHS 2.0 предоставляет своим пользователям
кроме неплохих почтовых услуг, еще и прекрасный интерфейс в среде Windows.
Использование почтового сервера IMO позволит пользователям MHS работать и с
Internet сетью в удобном виде.


1.2. Novell NetWare версия IMO

   Система IMO работает под управлением ОС Novell NetWare 3.X или NetWare 4.X.
Запуск системы может производиться однократно с консоли сервера командой load,
либо можно внести строку запуска системы в файл AUTOEXEC.NCF, например:

	load SYS:UUPC\IMO\IMO.NLM

Предварительно необходимо загрузить коммуникационную библиотеку и драйвер,
которые присутствуют в стандартной поставке Novell NetWare, командами:

	load AIO
	load AIOCOMX

Параметры драйвера можно узнать при помощи команды:

	load AIOCOMX ?

Пример загрузки драйвера для работы с COM2:

	load AIOCOMX PORT=2F8 INT=3 NODE=1

При каждой загрузке драйвера добавляется возможность обращения к новому порту.
Можно сразу указать какой порт будет обслуживаться и соответствующий ему
т.н. "специальный номер порта" (параметер NODE). По "специальному номеру порта"
система IMO обращается к драйверу. "Специальному номеру порта", равному нулю,
соответствует COM1, равному единице - COM2 и т.д.
Параметры драйвера по умолчанию при последовательной загрузке:

	Загрузка Адрес порта IRQ Имя  Номер порта
	-------- ----------- --- ---- -----------
	   1	    0x3F8     4  COM1	   0
	   2	    0x2F8     3  COM2	   1
	   3	    0x3E8     4  COM3	   2
	   4	    0x2E8     3  COM4	   3

   В целях экономии ОЗУ на сервере, возможно использование диспетчера -
модуля DP.NLM. Он загружается автоматически при указании соответствующего
параметра в конфигурационном файле IMO.INI.
DP.NLM - резидентный модуль небольшого размера (около 3Kb), который позволяет
периодически запускать основной модуль - IMO.NLM.
Период запуска также определяется параметром в конфигурационном файле IMO.INI.
   При совместной работе MHS и IMO на сервере с одним модемом возникает конфликт,
который решается использованием другого диспетчера - DP_NGM.NLM. Установка
данного диспетчера производится автоматически - программой SETUP при
инсталяции.
   Система IMO может работать без диспетчера, самостоятельно периодически
 выполняя сеанс связи. Для этого необходимо исключить параметер описания
 диспетчера из файла конфигурации IMO.INI.


1.3. DOS версия IMO

   Система IMO работает под управлением ОС DOS версии 3.3 и выше.
Для работы с модемом необходим FOSSIL-совместимый драйвер, например BNU.COM.
Перед началом работы загрузить драйвер:

	BNU.COM

Загрузить модуль IMO:

	C:\UUPC\IMO\IMO.EXE

В конце работы - выгрузить драйвер:

	BNU.COM /U

IMO может проводить сеанс связи однократно - для этого нужно установить
Period = 0 в конфигурационном файле IMO.INI, либо выполнять сеанс периодически -
период задается этим же параметром.


2. Состав инсталяционной поставки
---------------------------------

   Инсталяционная поставка включает:
	README.TXT	- этот файл;
	IMO.INI 	- главный конфигурационный файл IMO;
	GATEWAYS.INI	- файл конфигурации почтового сервиса и шлюзов;
	TRANSPRT.INI	- файл конфигурации транспортной подсистемы;
	NODES.INI	- файл конфигурации почтовых узлов;
	PROTS.INI	- файл конфигурации UUCP g-протокола;
	MODEMS.INI	- файл конфигурации модемов;
	ALIASES 	- файл-список адресных псевдонимов;
	DP.NLM		- простой диспетчер IMO (NetWare);
	DP_NGM.NLM	- диспетчер IMO для совместной работы с MHS (NetWare);
	IMO.NLM 	- главный модуль IMO (NetWare);
	IMO.EXE 	- главный модуль IMO (DOS);
	BNU.COM 	- FOSSIL-совместимый коммуникационный драйвер (DOS);
	SETUP.CNF	- файл конфигурации инсталятора;
	SETUP.INF	- файл конфигурации инсталятора;
	SETUP.NLM	- инсталятор (NetWare).


3. Установка IMO
----------------

Система IMO может устанавливаться для работы в следующих конфигурациях:
  - поддержка UUPC и MHS клиентов;
  - поддержка только UUPC клиентов;
  - поддержка только MHS клиентов;
  - независимая почтовая система.

   Для поддержки UUPC клиентов необходимо наличие установленной UUPC системы.
В этом случае IMO настраивается на использование директорий MAILS\BOXES,
SPOOL, TMP UUPC системы (для совместимости с популярными оболочками BML,
DMAIL и т.д.) и файла CONF\PASSWD как списка пользовтелей.
Таким образом, достигается простой перенос почтовых функций на IMO, совершенно
прозрачный для пользователей UUPC.
   Для поддержки MHS клиентов необходимо наличие установленной MHS системы и
предварительно сгенерированного шлюза. IMO настраивается на использование
этого шлюза указанием имени группы (параметер Group name в GATEWAYS.INI).
Формат адреса для выхода из MHS в Internet:
  Internet адрес:  newsserv@ts.kiev.ua
  MHS адрес:	   Gate@Relcom.Kvazar-Micro {SMTP: newsserv@ts.kiev.ua}
Здесь Relcom.Kvazar-Micro - имя группы Internet шлюза.
   Возможна установка IMO независимо от UUPC и MHS систем. В этом случае
IMO работает как обычная почтовая система (такая как UUPC). Здесь создаются
новые рабочие директории (MAIL\BOXES, MAIL\OUT, SPOOL, TMP) и необходимо
создание файла списка пользователей (аналогичный CONF\PASSWD в UUPC системе).


3.1. Инсталяционная программа SETUP

   Самый простой путь установить IMO под ОС Novell NetWare - использовать
инсталятор (SETUP.NLM). К сожалению, в данной версии отсутствует инсталятор
под ОС DOS.
Инсталятор - это меню-ориентированная утилита, которая может быть запущена
с консоли сервера следующим образом:

	load a:setup

Инсталятор позволяет:
   - инсталировать систему;
   - изменять конфигурацию установленной системы;
   - редактировать все конфигурационные файлы системы.

   В процессе инсталяции SETUP проверяет наличие установленных почтовых систем
UUPC (RELCOM) и Novell MHS 2.0, необходимых для работы UUPC и MHS шлюзов
соответственно и устанавливает необходимые параметры инсталяции.
От пользователя требуется указать только параметры RELCOM узла и выбрать
модем из списка предлагаемых.
   Для изменения конфигурации установленной системы необходимо запустить
программу SETUP из рабочей директории IMO. Будет предложен диалог,
аналогичный применяемому в режиме инсталяции.
   Pедактирование конфигурационных файлов лучше производить на уже
установленной системе - чтобы не испортить дистрибутив.


3.2. Ручная установка

Систему IMO можно устанавливать и вручную. Для этого необходимо переписать
файлы IMO c дистрибутивного диска в рабочую директорию и установить параметры
системы в конфигурационных файлах. Все параметры системы описаны в виде
комментариев в самих конфигурацыонних файлах.


4. Тонкая настройка системы
---------------------------

Под тонкой настройкой следует понимать изменение параметров системы с целями:
   - повышения производительности работы транспортного протокола;
   - сделать возможным применение нестандартных модемов или линий связи;
   - созданиия множественных конфигураций;

   Т.к. в качестве транспортного протокола используется стандартный UUCP g-
протокол, здесь применимы все рекомендации, подходящие для UUCP g-протокола.
Варьируя параметры протокола (файлы PROTS.INI, NODES.INI) - например, размер
блока данных, размер окна передачи, величины таймаутов - можно оптимально
использовать "особенности" канала связи.
   Под применением нестандартных модемов или линий связи имеется ввиду, что
предложенный список модемов может не содержать нужного типа модема или
существует необходимость организовать связь по выделенным линиям
(типа модем-модем, нуль-модем).
Здесь, редактируя файл конфигураций модемов (MODEMS.INI), можно добиться
желаемого результата.
   Создавать множественные конфигурации системы может быть полезным при работе
с различными типами модемов, хостами, конфигурациями на одной и той же
установленной системе. Здесь может помочь понимание иерархии конфигурационных
файлов:

	IMO.INI
	  │
	  ├─── GATEWAYS.INI
	  │
	  └─── TRANSPRT.INI
		 │
		 ├─── PROTS.INI
		 │
		 ├─── MODEMS.INI
		 │
		 └─── NODES.INI

IMO.INI - файл конфигурации IMO, содержащий основные параметры системы.
Данное имя используется по умолчанию при загрузке модуля IMO. Можно также
использовать альтернативное имя, если указывать его в качестве параметра при
запуске модуля IMO.
Файл конфигурации IMO содержит необязательные параметры - ссылки на файл
конфигурации шлюзов (GATEWAYS.INI) и файл конфигурации транспорта
(TRANSPRT.INI).
Файл конфигурации транспорта также имеет необязательные параметры - ссылки
на файл конфигурации транспортных протоколов (PROTS.INI), файл конфигурации
модемов (MODEMS.INI) и файл конфигурации узлов (NODES.INI).
Изменяя эти ссылки, можно использовать альтернативные файлы конфигураций.
Таким образом, можно использовать различные наборы конфигурационных файлов
для одной установленной системы.


5. Развитие IMO
----------------

  В версии 1.04 планируется реализовать возможность вывода всех сообщений
на русском языке.
  В версии 1.1 планируется реализовать возможность приема/отправки факс-
сообщений.


┌────────────────────────────────────────────────────────┐
│По любым вопросам обращайтесь к консультационной службе:│
│							 │
│E-mail:  design-hotline@km.kiev.ua			 │
└────────────────────────────────────────────────────────┘

