Newsgroups: comp.lang.rexx
From: adam@tucson.Princeton.EDU (Adam Justin Thornton)
Subject: Has anyone noticed how _fast_ OS/2 arithmetic is?
Message-ID: <1994Dec20.064801.13814@Princeton.EDU>
Organization: Princeton University
Date: Tue, 20 Dec 1994 06:48:01 GMT

I wrote a little program in REXX to compute (iteratively) Fibonacci
numbers, and implemented the same algorithm in C, which I compiled with -O
in emx0.9a.

I used long long unsigned ints (64-bit) for the C datatype.  The largest
fibonacci number I can stuff into 64 bits is the 93d.  So I set NUMERIC
DIGITS to 30 in REXX, and tested both.  Here's the test harness:

%%%%%%%%%%%%%%%%%%%%
/* test.cmd: which is faster? */

A = 93 /*Gonna use the 93d fibonacci #, which is the biggest that will fit
         in a 64 bit value */

x = time('reset')
'FIB.EXE 'A
x = time('elapsed')
y = time('reset')
'FIBO.CMD 'A
y = time('elapsed')
say "C = "||x||" seconds; REXX = "||y||" seconds."

Exit 0

%%%%%%%%%%%%%%%%%%%%%

The results?  After running it a few times so there's no disk activity (all
of it in memory):

[c:\tmp\foo]test
FIB.EXE 93
12200160415121876738
FIBO.CMD 93
12200160415121876738
C = 1.600000 seconds; REXX = 0.620000 seconds.

Not to mention that with a command line switch to set numeric digits, I can
have true arbitrary precision arithmetic without having to write my own
datatype.  Sure it took quite a few minutes to compute 5000! to 16xxx (i.e.
full precision) digits of precision, but by gum it succeeded.

Color me impressed.  After all:
[c:\tmp\foo]fibo 1000 (209
43466557686937456435688527675040625802564660517371780402481729089536555417949051890403879840079255169295922593080322634775209689623239873322471161642996440906533187938298969649928516003704476137795166849228875

Yow.

Adam
-- 
adam@io.com | adam@phoenix.princeton.edu | Viva HEGGA! | Save the choad!
"Double integral is also the shape of lovers curled asleep" : Pynchon
64,928 | TEAM OS/2 |   "Ich habe einen Bierbauch!"   |  Linux  | Fnord
You can have my PGP passphrase when you pry it from my cold, dead brain.

