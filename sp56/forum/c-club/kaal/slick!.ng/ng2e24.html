<HTML>
<HEAD><TITLE>MacSoft's DESQview aware I/O Library - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng23de.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng223.html">[^^Up^^]</A>
<A HREF="ng368f.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>

   <B>int far makewnd(x1,y1,x2,y2,char far *frame,</B>
                   <B>unsigned int color,int zoom);</B>

   This is the function on which all the others are based. Create a
 window using specific frame characters, color and zoom step. Add a
 new structure to window list, save screen data and cursor status,
 set viewport so, that frames are safe from writes.

 <B>Parameters :</B>

 x1,y1      Upper-left corner coordinates.
 x2,y2      Bottom-right corner coordinates.
 frame      String of 9 characters used to draw a window.
 color      8 hi bits are attribute for window frame, 8 low bits are
            attributes for viewport (inside the frames).
 zoom       Step used to "explode" window, its vertical zoom step, hori-
            zontal zoom is always 3 times bigger. If you set it to 0
            only screen data and cursor status will be saved, no window
            will be made. Be careful with that! If you don't want to zoom,
            set this constant to something like 80.

 <B>Return :</B>

 1 if OK, 0 if there is no memory to create window structure and save
 screen data.

 <B>Example :</B>

 #include "window.h"
 #include &lt;dos.h&gt;
 #include &lt;time.h&gt;
 #include &lt;stdlib.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;conio.h&gt;

 static char *frames[]={
     SINGLEFRAME,
     DOUBLEFRAME,
     HMIXFRAME,
     VMIXFRAME,
     FATFRAME
 };

 void main(void)
 {
 int x1,y1,x2,y2,c1,f,t,zoom,cols,zlim=0,i;
 unsigned long boxes=1;
 char s[81];
     while ((zlim&lt;1) || (zlim&gt;100)) {
         printf("\nEnter Zoom limit : ");
         scanf("%d",&amp;zlim);
     }
     zlim--;
     _AH=0x0f;
     __int__(0x10);
     cols=_AH-2;
     cursoroff();
     randomize();
     makewnd(0,0,cols+1,24,"같같같같",0x0101,80);
     while (1) {
         zoom=(zlim) ? random(zlim)+1 : 1;
         f=random(5);
         x1=random(cols);
         x2=random(cols-x1)+x1+2;
         y1=random(23);
         y2=random(23-y1)+y1+2;
         c1=(random(127)+1)*256+random(127)+1;
         if (x1&gt;x2) { t=x1; x1=x2; x2=t; }
         if (y1&gt;y2) { t=y1; y1=y2; y2=t; }
         if (!(makewnd(x1,y1,x2,y2,(char far *) frames[f],c1,zoom)))
             break;
         sprintf(s," Window # %lu ",boxes++);
         prtcwnd(-1,(char far *)s,_curntwnd-&gt;color/256);
         if (bioskey(1))
             if ((bioskey(0)&amp;255)==27)
                 break;
     }
     while (closewnd());
 }
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ngad95.html">WINDOW</A>
<A HREF="ng4eaa.html">prtcwnd()</A>
<A HREF="nga553.html">macros</A>
<A HREF="ngda9.html">closewnd()</A>

</BODY>
</HTML>
