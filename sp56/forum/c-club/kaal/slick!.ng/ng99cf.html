<HTML>
<HEAD><TITLE>MacSoft's DESQview aware I/O Library - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng98d2.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng223.html">[^^Up^^]</A>
[Next Entry&gt;&gt;]
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>

   <B>int far _myrand(void);</B>

   Generates pseudo-random number using the shift register technique.
 This can be implemented in hardware as shift register with loopback thru
 XOR gates. If we want to get full 65535 cycles period, we must have
 3 loopback points (from bits 4,13 and 15) plus last bit. The magic
 numbers are from Horowitz/Hill book 'The Art of Electronics'. In hardware
 it will look like this

            ┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐
        ┌──&gt;│ 1│ 2│ 3│ 4│ 5│ 6│ 7│ 8│ 9│10│11│12│13│14│15│16│
        │   └──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘
        │              │                          │     │  │
        │         ┌──┐ │                     ┌──┐ │ ┌──┐│  │
        └─────────┤=1├─┘                     │=1├─┘ │=1├┘  │
                  │  ├───────────────────────┤  ├───┤  ├───┘
                  └──┘                       └──┘   └──┘

 The initial seed can be set with

   <B>int far _myseed(int newseed);</B>

 The generator will generate periodic number pattern with period length
 of 65535 cycles. Zero seed is illegal, generator will generate only zero
 numbers from it; thus if you call _myseed(0) you will get the old seed
 number as return value else the newseed will be returned.
</PRE>

</BODY>
</HTML>
