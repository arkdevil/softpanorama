<HTML>
<HEAD><TITLE>MacSoft's DESQview aware I/O Library - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng581e.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng223.html">[^^Up^^]</A>
<A HREF="ng618f.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>

   <B>int far rawmenu(int items,int def,MEITEM far menu[],int leavebar,</B>
                    <B>int far (*scan)(int curnt));</B>

   Build a raw menu of fields. This function does not save screen
 contents, if necessary this must be done before calling rawmenu().

 <B>Parameters :</B>

 items      Number of fields.
 def        Default item to be selected (from 1 to items).
 menu       Array of structures describing fields.
 leavebar   When set to nonzero cursor bar will be left onto selected
            field.
 scan       Keyboard input function. Just like mkhmenu() it must return
            character in low 8 bits ( high bits are stripped off ).
            Rawmenu uses four characters as specials:

            <U>CR</U>     Exit menu (positive)
            <U>ESC</U>    Exit menu (negative)
            <U>'+'</U>    Move to next item, if no more items, go back to first.
            <U>'-'</U>    Move to previous item, if no more items, jump to last.

            Special care must be taken for '+' and '-' signs, when they
            appear in the strings as hotkeys, they won't work for moving
            any more. scan() is called with number of currently selected
            item.

 <B>Return :</B>

 Positive number in range from 1 to items if CR or highlighted key
 was pressed, negative number if ESC was used to leave the menu.
 Zero return means that input parameters were illegal or there is not
 enough memory for temporary workspace.

 <B>Example :</B>

 #include "window.h"

 MEITEM menu[4]= {
   { 20, 10, 30, "First choice",     0x1f,0x4f,0x70, 2, 0},
   { 20, 11, 30, "Second field",     0x1f,0x4f,0x70, 2, 0},
   { 20, 12, 30, "A bit longer one", 0x1f,0x4f,0x70, 2, 2},
   { 20, 13, 30, "4th",              0x1f,0x4f,0x70, 2, 2}
 };

 int far keyin(int cur)
 {
     cur++;
     return waitkey();
 }

 void main(void)
 {
     rawmenu(4,1,menu,1,keyin);
 }
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng23de.html">makemenu()</A>
<A HREF="ngba5b.html">MEITEM</A>

</BODY>
</HTML>
