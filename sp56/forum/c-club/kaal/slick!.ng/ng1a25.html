<HTML>
<HEAD><TITLE>MacSoft's DESQview aware I/O Library - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng1370.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng223.html">[^^Up^^]</A>
<A HREF="ng21b4.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>

   <B>int far getwinp(int x,int y,unsigned int pad,char far *dest,</B>
                   <B>int len,int far (*scan)(void));</B>

   This is general purpose input function, also used by getswnd() to input
 string. The input function may return characters directly or convert them
 as needed. The getwinp() itself recognizes only 3 characters as special :

     <U>BS</U>   Removes the  last entered character or does nothing  if
          string is empty.
     <U>ESC</U>  Flushes all entered characters.
     <U>CR</U>   Terminates input.

  These codes are not stored into input string, all the others are used
 as ordinary characters and it's users responsibility to filter unwanted
 characters out. ( only ASCII characters are stored into string, starting
 from space and ending with '~' ). This function also has "default string"
 option -- every string in the destination area will be used as "default"
 when function is entered and if user types CR as first character, it will
 be returned. So, if you don't want to use this feature, don't forget to
 write '\0' into offset 0 of the string before using getwinp().

 <B>Parameters :</B>

 x,y        Input field start coordinates, relative to current viewport.
 pad        Character/attribute combination used to show unfilled input
            field. As usual, 8 hi bits are attribute, 8 low ones - character.
 dest       Area to hold inputted string. Must be at least len+1 bytes.
 len        Maximum number of characters, not counting 0-byte.
 scan       Character input function address.

 <B>Return :</B>

 Number of characters entered.

 <B>Example :</B>

 #include "window.h"
 #include &lt;bios.h&gt;
 #include &lt;string.h&gt;

 int far mykey(void)
 {
     return (bioskey(0)&amp;255);
 }

 void main(void)
 {
 char s[58];
     strcpy(s,"This is default string");
     makewnd(10,10,69,13,SINGLEFRAME,0x7070,80);
     prtcwnd(0,"Enter some text here...",0x70);
     getwinp(1,1,0x0720,s,57,mykey);
     closewnd();
 }
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng1370.html">getswnd()</A>
<A HREF="ng2e24.html">makewnd()</A>
<A HREF="ng4eaa.html">prtcwnd()</A>
<A HREF="ngda9.html">closewnd()</A>

</BODY>
</HTML>
