Cофтпанорама 1991, No. 3 (17) *** REPRINTS ***  Составитель: Н.Н. БЕЗРУКОВ
**************************************************************************
                                     Данный материал опубликован в журнале
                                     КомпьютерПресс 1991 No.2.
                                     Перепечатывается с разрешения редакции

         ОПТИЧЕСКОЕ РАСПОЗНАВАНИЕ СИМВОЛОВ (ОРС)

            Джон Маккормик, шеф Вашингтонского бюро Newsbytes  News
            Network любезно предоставил редакции КомпьютерПресс ма-
            териалы, основанные на собственных впечатлениях, о  ра-
            боте с системами оптического распознавания символов.

   Мое близкое  знакомство с  областью  оптического  распознавания
символов (ОРС) состоялось в 1987 году, когда я на основе специаль-
но для  этой цели  разработанных тестов  написал для  журнала Byte
(апрель 1987 г.) статью-обзор всех имевшихся в то время систем ОРС.
   Тогда ни  одна из испытанных систем не могла сканировать тексты
типографских изданий  (книг, газет  и журналов), хотя две из них -
PCS фирмы  CompuScan и   OCR scanner компании Intelligent Optics -
прекрасно обрабатывали машинописный текст, не содержащий графики.
   Обе системы до сих пор продаются и по-прежнему хорошо  работают
с  текстами,  напечатанными на непереплетенных  страницах,  но  за
последние несколько  лет  системы  оптического  распознавания сим-
волов  чрезвычайно сильно улучшили свои параметры.
   До недавнего времени единственными хорошо работающими системами
ОРС на микрокомпьютерах были лишь те, которые распознавали напеча-
танный в одну колонку на машинке или ромашковом принтере текст без
графических добавлений к нему.
   За бортом оставались многие интересные книжные и журнальные ма-
териалы. Их  было практически  невозможно перевести в компьютерную
форму, так  как они  все были набраны в типографиях, а в журналах,
кроме того,  сверстанный в  несколько колонок  текст  сочетался  с
большим числом картинок.
   Благодаря последним  успехам в  программировании  и,  особенно,
значительному повышению  быстродействия микрокомпьютеров  на рынке
появились относительно  недорогие программы, которые могут обраба-
тывать даже  журнальные страницы.  Газеты сканировать  по-прежнему
тяжело -  буквы часто просвечиваются через тонкую бумагу на другую
сторону.
   Преобразование информации  в текстовую форму делает имеющуюся в
документе информацию  более пригодной  для  дальнейшей  обработки,
поскольку в этом случае возможно использование всех многочисленных
средств обработки текстов - редакторов, баз данных и т.п.
   Конечно, с  технической точки  зрения проще  хранить  на  диске
оцифрованную копию  документа, но при этом информация занимает го-
раздо больше места, и работа с ней затруднена.
   Даже если  сканированные изображения  для облегчения поиска со-
браны в базу данных и снабжены ключевыми словами, все равно это не
все слова,  а только те, которые человек, вводивший документ, счи-
тал важными.
   Обработанные же  программой ОРС  материалы хранятся  в виде  их
полных текстов  и найти любую содержащуюся в них информацию не со-
ставит труда.
Типы программ ОРС
Системы ОРС  могут состоять  из сканера и программы, либо включать
лишь программную часть.
   Активно разрабатываемые  сейчас программы  распознавания просто
   берут графическое  изображение, полученное одним из многочисленных
сканеров, и преобразуют его в текстовый файл.
   Более старые  системы включали в себя сканер и специальную про-
грамму, которая  могла работать  лишь с  одним этим типом сканера.
Сам процесс  преобразования изображений  в символы производился на
специальном микрокомпьютере - либо встроенном внутри сканера, либо
расположенном на интерфейсной плате, подключаемой между сканером и
компьютером.
   Эти сложности  вызывались тем,  что мощности компьютеров просто
не хватало  для выполнения самых элементарных операций за приемле-
мое время,  и приходилось ставить отдельный быстрый микропроцессор
для обработки изображения.
   К этому  типу относится очень надежный сканер PCS, продукт ком-
пании CompuScan. Он может обработать стопку из 50 машинописных (не
типографских) страниц без участия оператора.
   Более новый  тип систем  распознавания - чисто программный. Они
могут читать  файлы, введенные большим числом сканеров и даже при-
нятые по факсу, хотя низкое качество факс-копий и их низкая разре-
шающая способность  обычно выливаются в плохие результаты преобра-
зования.
   Существует три  основных типа  ОРС-программ. Первый  тип, самый
простой в  разработке и отнимающий массу времени при использовании
- это программируемые (обучаемые) системы. Перед тем как вы сможе-
те начать  использовать такую программу для дела, вам придется по-
тратить от  30 минут  до нескольких  часов, обучая  ее всем  типам
шрифтов, которые вы собираетесь считывать.
   Преимуществом этого  типа систем является то, что они могут чи-
тать практически  любые тексты, состоящие из букв любых алфавитов,
и при  работе с  одинаково отпечатанными документами их можно даже
предпочесть более сложным и дорогим системам.
   Но из-за  того, что  в книгах,  газетах и журналах используется
достаточно большое число различных гарнитур (видов шрифта), а про-
граммы этого  типа могут  распознавать лишь тот тип букв, которому
они были обучены, вам придется повторять процесс обучения для каж-
дого вновь встречающегося типа шрифта.
   Но если вам надо вводить в компьютер тексты, напечатанные всего
одним-двумя шрифтами,  то может  оказаться, что  обучаемые системы
ОРС дают меньше ошибок, чем содержащие элементы искусственного ин-
теллекта и распознающие многочисленные шрифты.
   Хотя лично я никогда не пробовал, обучаемые программы можно на-
строить и на распознавание русских шрифтов.
   Следующий тип  систем использует жестко запрограммированные на-
боры символов (обычно 10-12 шрифтов).
   Это очень  удобно для считывания текстов, подготовленных на пи-
шущей машинке,  а также  матричных и символьных принтерах, где ис-
пользуется ограниченное число гарнитур, наиболее популярными среди
которых являются Элита и Курьер.
   Если ваш  текст напечатан  уже запрограммированными буквами, вы
можете считывать и обрабатывать его без требуемой другими програм-
мами предварительной подготовки.
   Вероятно, эти программы также можно перепрограммировать для не-
английских алфавитов,  но, в  отличие от  описанных выше обучаемых
систем, это может быть сделано только фирмой-производителем, но не
пользователем.
   Третий и самый сложный вид программ ОРС не просто распознает те
шрифты, на  которые его  предварительно настроили,  а  анализирует
буквы таким  же образом,  как их анализирует человек - разбивая на
элементарные компоненты, из которых они состоят.
   Это самый сложный для разработчиков тип систем оптического рас-
познавания. Здесь для анализа линий, окружностей и дуг, составляю-
щих тот или иной символ, необходимо использование элементов искус-
ственного интеллекта.
   В них  иногда для устранения ошибок, возникающих при неправиль-
ном прочтении слов, используют даже встроенные словари.
   Если вы  сканируете английский  текст, программа отметит слово,
которое она не смогла разобрать. Она исходит из того, что исходный
текст не  содержит ошибок  в правописании, и все ошибки сделаны ей
самой в процессе распознавания символов.
   Медики, бизнесмены,  адвокаты и ученые могут использовать и со-
бственные дополнительные словари для повышения точности компьютер-
ного чтения.
   Этот тип  программ,  называемый  "омнифонт"  (распознающий  все
шрифты), является  самым автоматизированным  и самым универсальным
типом ОРС  для латинского алфавита и может преобразовывать практи-
чески любые  графические материалы. Но несмотря на это, документы,
выполненные только одним шрифтом, будут по-прежнему читаться лучше
и быстрее, чем другие.
   Развитие этих программ до того уровня, на котором они существу-
ют сейчас  для английского  алфавита, заняло  несколько лет,  и  я
подозреваю, что  перенос их на другие алфавиты является достаточно
сложным несмотря  даже на  то, что  основы используемой технологии
остаются неизменными. Кроме того, эти программы требуют для работы
больших ресурсов компьютера - распознавание многочисленных шрифтов
требует большого объема вычислений.
   Самые совершенные  программы могут  даже автоматически отделять
текст от  графики в  сканируемых страницах и без участия оператора
преобразовывать в  текстовый файл материалы, напечатанные на стра-
нице в несколько колонок.
   Сейчас самые  распространенные системы  ОРС работают на быстрых
компьютерах Mackintosh  и PC  с микропроцессором 386 или 486, либо
поставляются вместе  со специальными  платами-ускорителями, обычно
содержащими микропроцессор  MC680хх фирмы  Motorola - тот, который
используется в Mackintosh.
   К сожалению,  во время проведения независимых испытаний различ-
ных систем ОРС я обнаружил, что заявления производителей о точнос-
ти и  скорости работы их программ часто очень сильно отличаются от
действительных результатов. Хотя некоторые фирмы и утверждают, что
их продукт  делает лишь  "две ошибки  на 100000 символов", но даже
лучшая из  испытанных мною  систем делала  от трех до 20 ошибок на
странице.
   Если текст отпечатан с невысоким качеством, ошибок обычно быва-
ет еще больше, хотя в зависимости от типа обрабатываемого докумен-
та не все эти ошибки будут критичными.

            Проблемы создания систем ОРС

   Чтобы понять, насколько технически тяжело производить  оптичес-
кое распознавание символов, попробуем бросить беглый взгляд на те-
хнологию печати. В этой статье я буду приводить примеры из англий-
ского алфавита - того,  на котором я тестировал  большинство прог-
рамм распознавания символов.
   Глаз человека может легко различать сотни и тысячи типографских
стилей. Читая этот журнал, вы видите, что даже статьи набраны раз-
личными шрифтами, не говоря уже о рекламных объявлениях.
   Различные пишущие  машинки и  компьютерные принтеры  используют
различные "наборы символов" или "гарнитуры", состоящие из всех ис-
пользуемых букв, цифр и символов.
   Разные буквы  в каждой гарнитуре имеют разную форму, хотя неко-
торые из них могут быть похожи друг на друга.
   На машинописных  страницах все  буквы обычно  имеют  одинаковый
размер и форму, стандартно и расстояние между ними. Все это делает
такие тексты  очень простыми для преобразования в компьютерный вид
системой ОРС, хотя все равно остаются проблемы с буквой О и цифрой
0, большими и маленькими буквами "M" и "m", "N" и "n".
   Если же правый и левый края текста выровнены (выключка текста),
тогда расстояния между словами и даже отдельными буквами будут ме-
няться за  счет дополнительных пробелов между словами, либо микро-
подстройки положения каждой буквы в слове.
   Так выглядит  типичный типографский текст. Он обычно очень сло-
жен для  простых ОРС-программ, поскольку затруднения возникают уже
при определении начала и конца слов и отдельных букв.
   Еще сложнее  для программы работать с типичной журнальной стра-
ницей, которая содержит в себе иллюстрации, колонки текста и, воз-
можно, даже таблицы с данными, набранными шрифтами разных размеров
и формы.  До 1988  года микрокомпьютерные системы ОРС читать такие
тексты не могли.
   Типографский набор  и разделение  текста  на  колонки  является
обычным делом  в полиграфии,  так как  такие тексты просто удобнее
читать человеку.  Но они  же представляли  собой огромную проблему
для компьютерного распознавания символов. Лишь совсем недавно поя-
вились системы,  стоящие дешевле  2000 долларов, которые нормально
работают с журнальными текстами.
   А всего три года назад ОРС сканеры Kurzweil (Xerox) - самые де-
шевые тогда программы, способные читать  журнальный текст - стоили
10 тысяч американских долларов.
   Но с  тех пор цены на Kurzweil (Xerox) упали, а на рынке появи-
лись  изделия  фирм  Calera  и  Caere -  системы  ОРС  для  IBM  и
Mackintosh, которые читают типографский текст, обучаются в процес-
се чтения  и даже автоматически анализируют структуру колонок тек-
ста на  странице. Эти  замечательные программы  могут  сканировать
текст, разбитый  на 2-3  колонки и автоматически располагать его в
файле в  нужной последовательности,  даже при  наличии на странице
иллюстраций.
   Я  лично   пользовался  программой   Caere  OmniPage   как   на
Mackintosh, так  и на PC с процессором 80386, и нашел, что они обе
работают очень хорошо, хотя, как и большинство ОРС-программ, всег-
да появляются  несколько ошибок, которые в зависимости от будущего
использования сканированного  текста нужно  или не нужно будет ис-
правлять. Это очень важный момент, который потенциальные пользова-
тели ОРС часто игнорируют.
   Все системы распознавания символов делают ошибки, но эти ошибки
не всегда важны настолько, чтобы их исправлять.
   Пара примеров  для пояснения.  Предположим, вы сканируете доку-
менты, которые  будут входить в состав большой текстовой базы дан-
ных.
   Если она  будет использоваться просто для того, чтобы по ключе-
вым словам найти требуемый документ, который вы потом просто возь-
мете из  нужной папки  - в  этом случае  даже относительно большое
число ошибок  вполне приемлемо, а использование сканера для созда-
ния полного  каталога документов  гораздо проще найма специального
человека для этой цели.
   С другой  стороны, если после сканирования оригинал будет унич-
тожен, или  если процесс  ОРС должен  произвести почти совершенную
копию исходного документа, то потребуется кто-то, кто прочтет ком-
пьютерную версию  документа и внесет в нее необходимые исправления
для полного соответствия оригиналу.
   В последнем  случае может  оказаться дешевле нанять машинистку,
которая просто перепечатает документ вручную. Это особенно верно в
случае, когда  использование системы  ОРС требует постоянного при-
сутствия оператора.

                             Сканеры

   С программами, читающими тексты, может быть использовано неско-
лько типов сканеров - настольный, ручной строчный и ручной страни-
чный.
   Настольный сканер  имеет плоскую  стеклянную поверхность, как у
многих ксероксов, а сканирующая головка либо двигается вдоль стра-
ницы, либо изображение передается на нее передвигающимся зеркалом.
   Эти устройства  используются для  считывания с газетных страниц
или переплетенных книг. Они требуют наличия оператора, который ак-
куратно переворачивает страницы в процессе сканирования.
   Сканеры с  перемещением страницы  двигают лист бумаги с текстом
относительно неподвижной  сканирующей головки.  В некоторые из них
необходимо вставлять  страницы по  одной вручную, тогда как другие
имеют устройство для автоматической подачи страниц из пачки. В по-
следнее время  многие настольные сканеры также комплектуются таким
механизмом.
   Кроме того, существуют два типа ручных сканеров.
   Первый -  это строчный  сканер, который  содержит один чувстви-
тельный элемент  и  источник  света,  передвигаемый  пользователем
вдоль строки. Этот тип сканеров продавался в очень небольших коли-
чествах, но  мои испытания показали, что он работает вполне прием-
лемо.
   Строчные сканеры используются для ввода отдельных слов, адресов
или чисел непосредственно в обрабатываемый программой текст в мес-
те расположения  курсора. Их  удобно использовать  для копирования
графической информации непосредственно в ячейку электронной табли-
цы или поле базы данных.
   К этому типу относятся Soricon DataSweep, а также снятый с про-
изводства HandScan фирмы Saba Technologies.
   Хотя фирма Saba и прекратила свое существование, я испытал этот
сканер и обнаружил, что он дает мало ошибок и удобен, в частности,
для бухгалтерских работ.
   Другой пример  ручного сканера - ScanMan фирмы Logitech. Он пе-
ремещается не вдоль строки текста, а сканирует сразу целый столбец
шириной 10 сантиметров.
   Он гораздо  дешевле настольного  сканера потому,  что в нем нет
движущихся частей,  а перемещает сканер относительно текста опера-
тор вручную.
   Обычно такие  сканеры обладают высоким качеством и очень удобны
для сканирования  колонок текста  для программ ОРС или изображений
для настольных типографий. Для широких колонок текста у них обычно
есть утилиты,  позволяющие  соединить  встык  несколько  считанных
столбцов друг с другом.

Заключение
Собираясь приобретать  систему оптического распознавания символов,
важно помнить,  что даже лучшие из них делают ошибки и что система
ОРС даже  на быстром  микрокомпьютере тратит минимум две минуты на
считывание и преобразование одной страницы текста.
   Если вы  создаете файл  в формате определенного текстового про-
цессора, программа  распознавания часто  будет пытаться преобразо-
вать и  такие элементы  текста, как  подчеркивание, но обычно ни с
чем, кроме  машинописных текстов,  этот режим удовлетворительно не
работает.
   Прежде чем  начать думать о покупке системы ОРС, остановитесь и
спросите себя, будет ли она работать быстрее, чем машинистка, осо-
бенно в  случае, если  ваши материалы критичны к ошибкам и требуют
многократной проверки путем сличения копии с оригиналом, что прак-
тически удваивает  время сканирования.  Ряд крупных  издательств в
США предпочли  содержание штата  машинисток. Это  создает дополни-
тельные рабочие места и просто более экономично.
   Технология оптического  распознавания улучшается  каждый день и
она, определенно,  займет свое  место в  каждом - даже небольшом -
офисе. Но не ожидайте чудес, по крайней мере, сейчас.
   Скоро, когда  будет достигнут  требуемый уровень  безошибочного
преобразования, ОРС  станет обычным рабочим средством. Но уже сей-
час в  ряде мест,  где машинистки  дороги или  их нет, например, в
больших городах, ОРС активно применяется во все большем числе офи-
сов. Многие  американские и европейские фирмы перекладывают на ОРС
большую часть своей повседневной рутинной работы.
   Но поскольку  распознавание символов сопряжено все же с опреде-
ленными проблемами,  я бы настоятельно рекомендовал перед покупкой
провести обширные  тесты для  того, чтобы  выяснить, будет ли кон-
кретная система удовлетворять ваши нужды.

                             Ресурсы

У меня  нет информации  о том, продают ли перечисленные ниже фирмы
программы в  Советский Союз,  но, скорее всего, большинство из них
ответит на письменный запрос.
   Все цены  указаны в  американских долларах и не включают в себя
цены за пересылку, налоги, и другие сборы, взимаемые даже при про-
даже внутри  Соединенных Штатов.  Перечисленные системы распознают
только латинский алфавит.
   Все данные  приводятся чисто  в информационных  целях. Автор не
связан ни с одной из фирм-производителей.

   Фирма CompuScan
   300 Broadacres Drive
   Bloomfield, New Jersey 07003 U.S.A.
   201-338-5000
   Система PCS  235 -  большой страничный сканер с программой ОРС,
прекрасно работающий  с машинописными текстами, но не читающий ти-
пографский набор.
   Цена системы 3495 долларов, она должна быть подключена к PC че-
рез стандартный последовательный порт RS-232.
   Параметры компьютера  - скорость, емкость диска - не имеют зна-
чения, так как вся обработка проводится в сканере. PCS может обра-
ботать до  50 страниц  без вмешательства  оператора и имеет лучший
(из испытанных мной) механизм подачи листов бумаги.
 Фирма Intelligent Optics
 4 Heritage Park Rd.
 P.O. Box 712
 Clinton, Connecticut 06413 U.S.A.
 203-669-3650
 Сканер IOC  - это система ОРС, способная обрабатывать стопку лис-
тов бумаги. Цены - не ниже 4000 долларов за весь комплект.
 Сканер также подсоединяется к PC через последовательный порт, но,
в отличие  от предыдущей  системы, скорость машины начинает играть
существенную роль,  так как  обработка ведется  уже силами  самого
компьютера.

 Фирма Xerox Imaging Systems
 535 Oakmead Parkway
 Sunnyvale, California 94089 U.S.A.
 Читающий любой  шрифт пакет  Acutext для Mackintosh с процессором
68030 продается за 799 долларов.
 Более медленный и менее точный, чем OmniPage, тем не менее хорошо
работает с изображениями низкого качества. Для их правильной обра-
ботки он использует встроенный словарь.

 Фирма Calera Recognition Systems
 2500 Augustine Drive
 Santa Clara, California 95054 U.S.A.
 408-986-8006 TopScan для MS-DOS и TrueScan для Mackintosh -  пол-
ностью автоматические системы ОРС, распознающие типографский набор
и размещение текста в несколько колонок. Цена - 2995 долларов.
 В виде  отдельной системы ОРС продукт стоит 15000 долларов вместе
с компьютером и сканером.
 Очень мощная программа.

 Фирма Kurzweil Computer Products (Xerox)
 185 Albany St.
 Cambridge, Massachusetts 02139 U.S.A.
 617-864-4700
 7320 OCR  System -  сканер ОРС, распознающий типографский набор и
колонки текста.  Работает под  управлением MS-DOS и требует специ-
альной платы-ускорителя. Цена - 5000 долларов без компьютера.

 Фирма Soricon
 4725 Walnut St.
 Boulder, Colorado 80301 U.S.A.
 303-440-2800
 Строчный сканер DataSweep 2 стоит 2300 долларов. Неизвестно, про-
изводится ли он до настоящего времени.

 Фирма Caere
 100 Cooper Court
 Los Gatos, California 95030 U.S.A.
 408-395-7000
 Пакет OmniPage, автоматически работающий с типографскими текстами
и автоматически  распознающий набранный в несколько колонок текст,
продается за  795 долларов для пользователей Mackintosh. Аналогич-
ный пакет для PC с процессором 80386 или 80486 стоит 895 долларов.
 Вместе с дополнительной ускоряющей платой к машинам с процессором
80286 OmniPage стоит 1995 долларов.
 Очень хорошая  программа. Она не имеет встроенного словаря, а ра-
ботает, исключительно  анализируя форму  символов. Для  увеличения
точности чтения можно использовать ее и со специальным словарем.

 Фирма Logitech
 6505 Kaiser Drive
 Fremont, California 94555 U.S.A.
 415-795-8500
 Ручной сканер  ScanMan с  разрешающей способностью  от 100 до 400
точек на  дюйм для  PC  продается  за  339  долларов.  Версия  для
Mackintosh стоит 399 долларов.
 Программа оптического  распознавания CatchWord для любого из ком-
пьютеров стоит дополнительно 199 долларов.

 Фирма New Dest
 1015 E. Brokaw Road
 San Jose, California 95131 U.S.A.
 408-436-200
 Сканер PC  Scan 2000  для IBM PC или Mackintosh продается за 1395
долларов. Программа  распознавания  символов  Publish  Pac  -  395
долларов, а плата-ускоритель 795 долларов.

 Фирма Olduvai
 7520 Red Road, Suite A
 South Miami, Florida 33143 U.S.A.
 Read-It! -  ограниченно обучаемая  программа для  Macintosh Plus,
работающая со  многими сканерами  и стоящая 495 долларов. Ее улуч-
шенная версия  ReadForm, которая может читать и написанные от руки
печатные буквы, продается за 695 долларов.

 Фирма CTA
 747 Third Ave., Third Floor
 New York, New York 10017 U.S.A.
 212-935-2280
 TexPert -  обучаемая программа  распознавания символов только для
латинского алфавита.  Работает на  Macintosh Plus  и более  мощных
компьютерах этой серии и стоит 995 долларов.

 Innovatic
 1911 N. Fort Myer Drive, Suite 708
 Arlington, Virginia 22209 U.S.A.
 703-522-3053
 ReadStar II  Plus - обучаемая программа ОРС для Mackintosh. Стоит
995 долларов. Очень быстрая.

 Фирма Prism Enterprises
 14703-E Baltimore Ave., Suite 248
 Laurel, Maryland 20707 U.S.A.
 301-604-6611
 Обучаемая программа TextScan для Mackintosh (395 долларов).

 Примечание: несмотря на наличие телефонных номеров звонить по ним
НЕ рекомендуется.

 Об авторе  - Джон  Маккормик живет в небольшом угледобывающем го-
родке недалеко  от Вашингтона.  Он работает  с компьютерами с 1963
года и написал за это время более 1500 статей, обзоров, редакцион-
ных статей  и новостей,  относящихся к компьютерной индустрии. Его
последняя книга  "A Guide to Optical Storage Technology" посвящена
оптическим дискам, приводам и другим образцам техники для оптичес-
кого хранения информации.
