Cофтпанорама 1991, No. 3 (17) *** CRIME ***  Составитель: Н.Н. БЕЗРУКОВ
************************************************************************

     ╔═════════════════════════════════════════════════════════╗
     ║         И Н Ф О Р М А Ц И Я   И   Н О В О С Т И         ║
     ║                                                         ║
     ║   В   О Б Л А С Т И   З А Щ И Т Ы   О Т   В И Р У С О В ║
     ╚═════════════════════════════════════════════════════════╝

********* СЕМИНАР ПО ЗАЩИТЕ ОТ ВИРУСОВ В РДНТП ПРОШЕЛ УСПЕШНО **********

   Семинар, продолжавшийся три дня (с 12 по 14 февраля) собрал более  70
зарегестрированных участников (и значительное число незарегистрированных).

   Во вступительной лекции, прочитанной автором, была подчеркнута  мысль
о необходимости "ухода от стандарта"  - перехода на новые версии  MS DOS
(DR DOS 5.0, MS DOS  5.0 (ранние бета-версии повреждают  файловую систе-
му)). Отмечена необходимость выделения в организациях "карантинной маши-
ны", уничтожение информации  на винчестере которой  не ведет к  каким-то
нежелательным последствиям. На машины, содержащие ценные базы данных  но-
вое программное обеспечения должно записываться только при условии успе-
шной предварительной эксплуатации в той же организации.
   Автор призвал  пользователей изучать  ассемблер, поскольку в нынешних
условиях умение работать с отладчиком типа AFD является необходимым  для
контроля зараженности  программ (это связано с появлением вирусов с  са-
момодифицирующимся инсталлятором). Автор планирует давать J-сигнатуры не
nолько в виде шестнадцатиричной строки, а и виде последовательности  ко-
манд, которая, как показал опыт, гораздо лучше запоминается и кроме  то-
го, обычно содержит характерные для вирусов приемы программирования (ти-
па автобазирования:

                         CALL L1
                   L1:   ......

   Было отмечено, что дискета является своего рода универсальной  дрозо-
филой и одним из самых простых и эффективных тестов зараженности  машины
является вставка в "подозрительный компьютер" копии, снятой с дискеты  с
"эталонной операционной системой", выполнение нескольких операций с ней:
копирование файлов  туда и  обратно, запуск  нескольких файлов,  включая
COMMAND.COM, NC и др., а затем сравнение утилитой DISKCOMP с эталоном на
другом (или том же,  после перезагрузки с защищенной  дискеты), заведомо
незараженном компьютере.
   С учетом критики, поступающей в адрес ADM и связанной с тем, что  при
заражении вирусом Joshy затираются пароли было рекомендовано всем  поль-
зователям ADM иметь копии первых секторов винчестера в виде файла на ди-
скете, с тем, чтобы при возникновении каких-то сложностей  соответствую-
щие сектора могли быть восстановлены с эталонной копии. Кроме того,  для
восстановления паролей можно использовать программу ADM-SAVE (СП 3-3).
   Внимание пользователей было обращено на тот факт, что как в наших ус-
ловиях, так и за рубежом наладчики часто являются разносчиками  вирусов.
Имея лишь минимальную квалификацию  как программисты и увлекаясь  элект-
ронными играми они часто наряду с ремонтом заражают компьютеры одним,  а
то и несколькими вирусами.
   В связи с распространением архиваторов наблюдается своеобразный  эф-
фект, связанный с тем, что в архивах скапливаются зараженные  программы,
запуск которых после распаковки ведет к перезаражению компьютера.  Этому
же способствует наличие у сотрудников никем не проверяемых дискет. В ре-
зультате в больших организациях (скажем с несколькими десятками  компью-
теров  и  сотнями  сотрудников-непрограммистов, использующих компьютеры)
вирус, получивший значительное распространение, в дальнейшем  становится
постоянной проблемой, и несмотря на усилия системных программистов,  по-
льзователи периодически обнаруживают его на своих машинах. Наиболее  на-
дежным методом борьбы с "эффектом оседания" в случае бутового вируса яв-
ляется тотальная вакцинация дискет с помощью VITAMINB, однако она трудно
осуществима. Более мягкой формой является использование Batch-файла  при
распаковке, включающего проверку на данный вирус с помощью фага или  де-
тектора, в сочетании с установкой ревизора в AUTOEXEC.BAT. В последующем
выступлении Б.Литвинов подтвердил наличие эффекта оседания: в его  орга-
низации уже порядка года блуждает вирус Joshy и справиться с  повторными
заражениями пока не удается.
    Было отмечено наступление  тяжелых времен для  создателей полифагов.
Помимо потока вирусов и появления вирусов с самомодифицирующимися инстал
ляторами, сложной проблемой для полифагов стало наличие сжатого  формата
загрузочных модулей (наиболее  распространенным, хотя далеко  не единст-
венным форматом, является формат LZEXE). В случае, если вирус  находится
в файле, сжатым  таким архиватором, полифаг  не в силах  его определить.
Было бы полезно хотя  бы диагностировать такие файлы  для дополнительной
проверки однако этого ни SOS ни Aidstest не делают. Кроме того  полифаг,
выкусывающий порядка 200 вирусов, несмотря на все предпринимаемые  авто-
рами попытки параметризации, является слишком сложной программой,  чтобы
не содержать ошибок и  неизбежно пропускает некоторые случаи  заражения.
Автор выразил свое мнение, что в этом году на первый план выходят  реви-
зоры. При этом  очень важно наличие  встроенных ревизоров в  архиваторах
(конроль  целостности  архива),  поскольку  архивы стали сейчас основным
способом хранения и передачи программного обеспечения. В этом плане пре-
дставляет  интерес  понятие  сертификата  архива. Этот файл(ы), имеющий,
скажем специальное расширение ("!!!"), мог бы считываться архиватором  и
все имеющиеся в архиве файлы, данные о которых содержатся в этом  серти-
фикате, проверялись бы на соответствие контрольных сумм.

    Поскольку семинар, носил, в основном, учебный характер, в  программу
было включено ряд лекций по классификации файловых (Н.Безруков) и  буто-
вых вирусов (последняя была мастерски прочитана А.Сессой), а также свой-
ствам недавно обнаруженных вирусов (Е.Касперский и А.Шеховцов).

    В последовавшем выступлении Д.Кохманюк дал обзор наиболее перспекти-
вных средств повышения эффективности MS DOS. Среди них он отметил  драй-
вер SpeedStore, кэш  Dcache, новые операционные  системы (DR DOS  5.0 MS
DOS 5.0). Для  AT/386 Д.Кохманюк рекомендовал  использовать операционную
систему Deskqview. Докладчик подчеркнул,  что уход от стандарта  сущест-
венно повышает вирусозащищенность системы.

    Значительный интерес вызвало сообщение Д.Гуртяка по методам  восста-
новления повреждений системных блоков при использовании Disk Manager.  В
нем был приведен ряд недокументированных сведений о структуре MBR, испо-
льзуемой этим драйвером (Д.Гуртяк пообещал представить текст своего выс-
тупления в  Софтпанораму). В  своем втором  выступлении Д.Гуртяк  описал
простую и удачную программу, расширяющую возможности известного дисково-
го драйвера Disk Manager. По-видимому, наряду с его калькулятором и кла-
виатурно-экранным драйвером эта программа также быстро обретет  всесоюз-
ную известность.

    Свежим опытом восстановления поврежденной дискеты поделился с участ-
никами семинара Ю.Ревзин. В его случае были отформатированы первые доро-
жки, что привело  к потере всех  системных блоков, включая  FAT. Дискета
содержала архивы его исходных текстов, причем некоторые архивы были фра-
гментированы.
    Помимо непреложного правила  "никогда не восстанавливать  по живому"
(а только сделав копию), он рекомендовал переписать поврежденную дискету
в виде файла на винчестер и все дальнейшие манипуляции по восстановлению
выполнять с этим  файлом. Ю.Ревзин отметил,  что поскольку архивы  имеют
характерный заголовок, их начало можно искать контекстным поиском.  Наи-
более сложной проблемой оказалась фрагментация, поэтому ее следует избе-
гать на этапе записи файлов на дискету.
    В последующем обсуждении были сделаны выводы, что добавляя или  уда-
ляя файлы на дискеты с ценной информацией типа исходных текстов, целесо-
образно оптимизировать, перезаписывая все файлы с дискеты на винчестер и
обратно., кроме  того рекомендуется  создавать в  конце дискеты резервые
копии управляющих блоков с посмощью соответствующей утилиты или вручную.
    Далее Ю.Ревзин рассказал о планируемых им "антивирусных  доработках"
своего архиватора. Если Ю.Ревзину удастся быстро реализовать свои  идеи,
то его архиватор станет существенно более приспособленным к  современным
условиям, чем конкурирующие разработки и будет представлять интерес  как
базовый архиватор для распространения Софтпанорамы.

    В своем выступлении,  посвященному VITAMINB -  универсальной бутовой
вакцине, А.Сесса рассказал о дальнейшем развитии этой очень удачной раз-
работки, которая стала на многих ВЦ стандартным способом  вакцинирования
всех дискет. Как известно VITAMINB является самым лучшим способом защиты
дискет от заражения  бутовыми вирусами, позволяет  значительно уменьшить
вероятность попадания на компьютер этого типа вирусов. Она полностью за-
щищает от попадания одного из наиболее распространенных бутовых вирусов
- Joshy. В ответ на критику, связанную с нетехнологичностью применения ва-
кцины (требует запуск на каждую дискету), автор пообещал доработать какой-
-нибудь форматизатор дискет так, чтобы он вместо нормального бутсектора,
сразу записывал вакцину.

    Кроме того на  семинаре выступили Ф.Грушевский  ("Статистика зараже-
ний"), который также коснулся создания ассоциации пользователей  Борланд
в учредительной конференции которой он участвовал, И.Даен ("Средства за-
щиты от копирования данных, основанные на применении ключей"), Е.Каспер-
ский ("Антивирусная система -V,-D1,D2,D3"), Ю.Литвинов ("Методы контроля
вирусной обстановки на больших ВЦ и приемы исследования свойств  обнару-
женных вирусов"), Б.Мостовой("Ревизор DINF"), Д.Форсюк ("Перспективы ра-
звития средств защиты от вирусов"), А.Шеховцов ("Полидетектор VL").

    Наиболее перспективными разработками из числа представленных  участ-
никам были признаны:
      - ревизор Д.Мостового;
      - программа PROTECT парольной  защиты для Disk Manager  Д.Гуртяка,
обеспечивающая для этого популярного дискового драйвера парольную защиты
аналогичную реализованной в Advanced Disk Manager (программа публикуется
в данном выпуске);
      - архиватор с возможностью контроля целостности программ и провер-
ки на заданные сигнатуры вирусов Ю.Ревзина.

    Всем зарегистрированным  участникам была  роздана брошюра  автора по
методам и  средствам защиты  от вирусов.  Учитывая положительные  отзывы
участников, автор планирует провести аналогичный учебный семинар в  1992
году.

                                                                  Б.Н.Н.


************ ЗАСЕДАНИЕ ОРГКОМИТЕТА КОНФЕРЕНЦИИ ANTIVIR-91 **************
*************** НЕ СОСТОЯЛОСЬ ИЗ-ЗА ОТСУТСТВИЯ КВОРУМА *****************

    Намеченное на февраль заседание оргкомитета не состоялось из-за  от-
сутствия двух членов (Д.Лозинского и Е.Сусликова) из четырех.  Предпола-
гается, что оно состоится в мае в Москве.

                                                                  Б.Н.Н.


***** НОВАЯ ВЕРСИЯ DINF МОЖЕТ СТАТЬ АНТИВИРУСНОЙ ПРОГРАММОЙ ГОДА ******

    Д.Мостовой разработал новую версию своего известного ревизора  DINF,
в которой работа с диском ведется без использования функций DOS. При те-
стировании бета-версии она показала очень высокую скорость работы (время
сканирования 20М диска составляет порядка 10 с). Учитывая, что сейчас на
первый план среди средств защиты от вирусов выдвигаются ревизоры,  окон-
чательная версия, которую автор планирует закончить в апреле-мае,  может
стать  основной  программой  защиты  в  1991  году.,  запускаемой  через
AUTOEXEC.BAT. Основной нерешенной проблемой является реакция на  обнару-
жение несовпадения контрольной суммы, которая должна достаточно  жесткой
(вплоть до блокирования  процесса дальнейшей загрузки  и автоматического
вызова подходящего полифага), а с другой стороны не очень мешать пользо-
вателю (что требует квалифицированной настройки программы и расположения
файлов на логических дисках по степени их "неизменяемости").

                                                                   Б.Н.Н.


********* БЕТА-ВЕРСИЯ ДЕМОНСТРАТОРА ВИЗУАЛЬНЫХ И ЗВУКОВЫХ ЭФФЕКТОВ *****
************************** ИЗВЕСТНЫХ ВИРУСОВ ***************************

    М.Купчс разработал очень полезную программу, позволяющую  познакоми-
ться с визуальными и звуковыми эффеками, создаваемыми рядом вирусов, без
риска повредить информацию на  части винчестера. Бета-версия этой  прог-
раммы (VIRDEMO) приводится в данном выпуске бюллетеня.

                                                                   Б.Н.Н.

******** РАЗРАБОТЧИКИ АНТИВИРУСНОЙ СИСТЕМЫ СТРАЖ РЕКЛАМИРУЮТ ***********
********** СВОЮ СИСТЕМУ КАК ПАНАЦЕЮ НА СТРАНИЦАХ ИЗВЕСТИЙ  *************

      2 февраля 1991 г. в Известиях была опубликована вторая "антивирусная"
публикация под названием  "Сети для "черного  мстителя"(создана отечест-
венная программа борьбы с компьютерными вирусами), в которой в частности
говорится:
     "Антивирусная программа, о которой упомянут немецкий ученый (имеет-
ся в виде проф. Бруннштайн,  который при интервьюировании его корреспон-
дентом Известий В.Бовкуном вероятнее всего и не подозревал о
существовании Стража - Б.Н.Н.) создана коллективом математиков,  объеди-
ненных в малое предприятие  "Алькор", идейным вдохновителей работы  стал
программист Александр Гутников.  В чем принципиальное  отличие программы
"Страж" от всех прочих "ловушек" для вирусов? Антивирусные программы мо-
жно разделить на три группы. Первая и самая многочисленная группа -  это
программы, направленные на обезвреживание уже известных вирусов.  Другой
подход заключается в регулярном  контроле размеров файлов, дабы  человек
сумел вовремя заметить подстроившийся к программе вирус. Наконец,  прин-
цип действия третьей группы основан на перехватывании всех операций  за-
писи в исполняемые  файлы, что делает  работы утомительной и  громозкой.
Однако ни один из перечисленных методов не может обеспечить надежной ви-
русной защиты.
   Авторы программы "Страж" подошли  к решению проблемы защиты  с другой
стороны. Любой, самый хитрый вирус, пожелавший внести изменение в  прог-
рамму, должен подстроиться  к ней таким  образом, чтобы рано  или поздно
переключить управление на себя.  Это переключение можно зафиксировать  и
по нему найти тело кованого вируса. Положение облегчается тем, что  спо-
собов, которыми пользуются вирусы, чтобы переключить управление на  себя
существенно меньше, чем самих вирусов. При проверке выяснилось, что бди-
тельный "Страж" не пропустил ни  одного из имеющих у нас  хождение типов
компьютерных вирусов".

   Таким образом авторы Стража продолжают рекламировать свою систему как
"панацею". После того как в редакцию Известий была передана копия замет-
ки автора "Страж мышей не  ловит или курсы для простиков,  организованны
НТК "ПОЛИГОН-Ф", опубликованная  в СП 2-10,  авторы Стража обратились  с
письмом в редакцию Софтпанорамы. Текст письма и мой ответ читайте в раз-
деле BLACKLOG "Коммерческого приложения".

                                                                   Б.Н.Н.
