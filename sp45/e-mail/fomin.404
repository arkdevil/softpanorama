   Уважаемый Александр !
Благодарю за внимание к комплексу Sheriff и даю ниже ответы на
поставленные Вами вопросы.

ВОПРОС:
       Поэтому  не  стесняйтесь,  можете говорить прямо,  скажем:
"Если программа вызывает Int 2F SubFn 13H ,  то  мы  делаем то-то
и то-то, а пользователю сообщаем о том-то и о том-то"  и дальше в
таком же духе. Я Вас пойму."
ОТВЕТ:
       В данном случае  никакой  реакции  со  стороны  комплекса
SHERIFF не последует, этот момент его не интересует.

ВОПРОС:
       И все-таки, если пользователь САМ захотел отформатировать
винчестер, как поведет себя SHERIFF? Молча отрубит действие  или
что-нибудь скажет?
ОТВЕТ:
       При выполнении INT 13h ah=5 работа ПЭВМ будет остановлена
и на экран выведется сообщение о пресечении попытки  инициализа-
ции винчестера.

ВОПРОС:
       Из документации меня заинтересовали:
запрет обращения к винчестеру в обход законного  прерывания  13H
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
что под этим подразумевается?
ОТВЕТ:
       Под этим следует понимать, что SHERIFF пресекает все опе-
рации с винчестером, которые инициируются не через SHERIFF.  Та-
кими операциями могут быть:
       - Запись нового вектора прерывания 13h  и  исключение  из
цепочки предобработчиков прерывания драйвера защиты SHERIFF;
       - Обращение из программы к BIOS, по адресу точки входа  в
обработчик INT 13h;
       - Запуск операции с винчестером путем обращения к  портам
ввода/вывода контроллера дисководов.
В случае возникновения подобных ситуаций работа ПЭВМ  останавли-
вается с выдачей на экран дисплея соответствующего сообщения.

ВОПРОСЫ:
       Если я запущу такую программку, как CALIBRAT из  NU,  как
себя поведет SHERIFF? (Если не пробовали, проверьте).
       А если SpeedDisk из тех же NU?
ОТВЕТ:
       Работа ПЭВМ останавливается и на экран выводится соответ-
ствующее сообщение при выполнении программами операций:
   - запись в область системных секторов загрузки на винчестере;
   - запись в область защищенных файлов, включая элементы оглав-
ления и цепочки секторов в таблице FAT.
Это накладывает некоторые ограничения на возможность использова-
ния отмеченных выше программ. Никаких искажений и потерь  данных
при этом не происходит. Для выполнения таких программ  требуется
временно отключить защиту, и включить ее после выполнения желае-
мых операций по перемещению  контролируемых  комплексом  SHERIFF
данных с одного места винчестера на другое.

ВОПРОС:
       И почему Вас волнует Int 40H? Может, я чего-то  не  пони-
маю, но всегда думал, что это прерывание относится  к  работе  с
дискетами?
ОТВЕТ:
       Данная проверка включена как средство  "отлова"  вирусов,
работающих с дискетами. Она, конечно, к защите винчестера прямо-
го отношения не имеет, но совсем не лишняя.

ВОПРОС:
       Можно поподробнее о безмолвности?
ОТВЕТ:
       При выполнении защитных функций SHERIFF все решения  при-
нимает "молча" и самостоятельно, единственной его реакцией явля-
ется остановка функционирования ПЭВМ и  выдача  того  или  иного
констатирующего сообщения на экран дисплея. При этом пользовате-
лю сообщается описание криминальной ситуации и имя  программного
модуля при выполнении которого она возникла.

ВОПРОС:
       Как вы различаете действия DOS  по  модификации  файловой
системы от аналогичных действий вируса?
ОТВЕТ:
       НИКАК !!! Просто есть ряд запрещенных операций,  выполне-
ние которых при включенной защите пресекается, но выполнять  эти
операции "нужно" только  вирусам  или  они  являются  следствием
ошибки или злонамеренных действий пользователей. ( подробнее эти
операции описаны выше).

                        Юрий Фомин

-------------------------------
Юрий Лященко, АО ДиалогНаука, Москва, тел. (095) 137-0184, факс 137-0150,
 BBS 135-6253 (20:00 - 10:00 MSK), FIDO 2:5020/6.13, Relcom lyu@dials.msk.su
