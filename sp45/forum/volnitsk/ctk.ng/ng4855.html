<HTML>
<HEAD><TITLE>Clipper ToolsKit Reference Guide - Long Entry</TITLE></HEAD>
<BODY>

<A HREF="ng43fa.html">[&lt;&lt;Previous Entry]</A>
<A HREF="ng1bc.html">[^^Up^^]</A>
<A HREF="ng5fea.html">[Next Entry&gt;&gt;]</A>
<A HREF="menu.html" >[Menu]</A>
<A HREF="info.html">[About The Guide]</A>
<HR>
<PRE>
 <B>PromptBox()</B>
 Dispaly message with optional selectable heighlights
 ─────────────────────────────────────────────────────────────────────────────────────

 <B>Syntax</B>

     PromptBox ([cTitle], [nColor], [aLocation], [aFrame], aLine) --&gt; nChoice

 <B>Arguments</B>

     &lt;cTitle&gt;
          optional charactor string displayed on the top of window

     &lt;nColor&gt;
          optional Color Structure Index which specifies colors of all
          PromptBox() elements. See also <U>Color System</U>.


     &lt;aLocation&gt;
          optional structure which specifies window location area

          <B>Location structure</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH         Value     Comment
          ────────────────────────────────────────────────────────────────
          L_LN            1        Base line
          L_CL            2        Base column
          L_J_VERTICAL    3        Vertical justification mode
          L_J_HORIZONTAL  4        Horizontal justification mode
          L_MAX           4        Location structure dimention
          ────────────────────────────────────────────────────────────────

          If aLocation == NIL then used default structure {0,0,J_TOP, J_LEFT},
          ie base pont at window top-left corner.

          Posible <B>justification modes</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH         Value     Comment
          ────────────────────────────────────────────────────────────────
          J_TOP         0          Base line on window top
          J_CENTER      1          Base line/column on window center
          J_BOTTOM      2          Base line on window bottom
          J_LEFT        0          Base column on window left side
          J_RIGHT       2          Base column on window right side
          ────────────────────────────────────────────────────────────────

     &lt;aFrame&gt;
          optional structure which specifies  width, height and type of frame.

          <B>Window Frame Structure</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH         Value     Comment
          ────────────────────────────────────────────────────────────────
          F_MAX         3         dimintion of frame structure
          F_HEIGHT      1         horizontal size of window frame
          F_WIDTH       2         vertical size of window frame
          F_BORDER      3         window frame type (see table below)
          ────────────────────────────────────────────────────────────────

          If aFrame is {0, 0, AnyValue} - it means no frame at all.
          To use default just skip this element. So len(aFrame) mustn't
          be exactly F_MAX.

          <B>Posible frame boarder types</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH         Value     Comment
          ────────────────────────────────────────────────────────────────
          FB_MAX        3         maximum frame type number
          FB_NONE       0         frame wo\lines
          FB_SINGLE     1         single line frame
          FB_DOUBLE     2         dowble line frame (default)
          FB_BIGTITLE   3         when title is longer then window width
          ────────────────────────────────────────────────────────────────

          If work dimention width  less then title use frame type
          F_BIGTITLE. Default is {1, 1, F_SINGLE}

     &lt;aLine&gt;
          list of sructures. Each sructure define one line in <U>Promptbox()</U>,
          with its highlights and highlight handles.

          <B>Line structure</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH         Value     Comment
          ────────────────────────────────────────────────────────────────
          B_LINE        1          char string w\marked highlights if any
          B_HANDLE      2          first handle index, second at B_HANDLE+1
          ────────────────────────────────────────────────────────────────

          Charector string representing line in prompt box can contain
          highlights marked at begin and end by special simbols.

          <B>Highlight marks</B>
          ────────────────────────────────────────────────────────────────
          CTK.CH              Value     Comment
          ────────────────────────────────────────────────────────────────
          B_HIGHLIGHT_BEGIN   "@"       Mark begin of highlight
          B_HIGHLIGHT_END     "&amp;"       Mark end of highlight
          ────────────────────────────────────────────────────────────────

          On screen this marks are made invisible by replacing with spaces.
          You can overlap end of one highlight with begin of other in
          one position, ie highlight begin mark and highlight end mark must
          be at the same position. In such cases you can miss highlight
          end mark.


 <B>Returns</B>

     Selected highlight no. Selection done by pressing Enter. If
     ESC pressed then zero returned.

 <B>Description</B>

     PromptBox() is high level interface function wich replace
     @...SAY/@...PROMPT/MENU TO commands. It display window with some text and
     optional highlights and control its behavior by interpreting Hihglight
     Handle List (if any).

     It do following actions:

     - Display framed box at coordinates defined by aLocation with
       width of        maximum string legth in aLine and height equal to dimension of
       aLine list. See also <U>Setwindow()</U>) about location algorithm.

     - If there is no highlights then PromptBox() just pause until
       user press any key.

     - If there is highlights then PromptBox() activate selection
       mechanism. See also MENU TO command.

     - on selection of some highlight, if there is correspoding to this
       highlight not empty handle then this handle evaluated. if there
       isn't correspoding handle then selected highlight oder number
       is returned.

     - on exit used screen area restored

 <B>Handles</B>

     You can associate any highlight with a code block.
     When corresponding highlight is selected the code block evaluated
     with following parameters:

          - aLine list                       (by name);
          - highlight oder number            (by name);
          - title of prompt box              (by name);
          - phisical screen line of highlight;
          - phisical screen column of highlight begin;
          - character string of highlight    (by name);

     Returned by handle block value define PromptBox() successive actions.

     <B>PromptBox() handles exit codes</B>
     ────────────────────────────────────────────────────────────────
     CTK.CH            Value     Comment
     ────────────────────────────────────────────────────────────────
     -                  NIL      Continue normal PromptBox() execution
     HE_CONTINUE         0       Continue normal PromptBox() execution
     HE_EXIT             1       Terminate PromptBox()
     ────────────────────────────────────────────────────────────────
</PRE>
<HR>
<B>See Also:</B>
<A HREF="ng86cb.html">Window System</A>
<A HREF="ng36c5.html">Color System</A>
<A HREF="ng43fa.html">InBox()</A>
<A HREF="ng5fea.html">MsgBox()</A>
<A HREF="ng70a3.html">Menu()</A>

</BODY>
</HTML>
