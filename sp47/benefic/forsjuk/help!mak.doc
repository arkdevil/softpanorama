
                                                    ░░░░  ┌─┬─┬─┬─┬─────┐ ░░░░
                                                    ░░░░  │ │ │ │ │ ┌───┘ ░░░░
                                                    ░░░░  │ │ │ │ │ └─┐   ░░░░
                                                    ░░░░  │ │ │ │ │ ┌─┘   ░░░░
                                                    ░░░░  │   │   │ │     ░░░░
                                                    ░░░░  └───┴───┴─┘     ░░░░



	Программа создания гипертекстовых файлов формата "Help!"
			   JOKER HELP!MAKER
	▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀





	Программа предназначена для преобразования обычных текстовых
файлов в файлы гипертекстовых справочных баз данных, интерпретируемые
программой HELP фирмы Flambeaux Software.

			Немножко о форматах
			▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
	Существует несколько версий программы, интерпретирующей файлы
гипертекста Дэна Роллинса:
	(1)
                         Help Display Driver Version 2.1
                   Copyright (c) 1985,86 by Flambeaux Software
	(2)
                        Help Display Driver Version 3.0
                 Copyright (c) 1985,86,87 by Flambeaux Software
	(3)
                         Help! Display Engine Version 4.02
                 Copyright (c) 1985,89 by Flambeaux Software, Inc.
	(4)
                          Help! Display Engine Version 4.1
                 Copyright (c) 1985,90 by Flambeaux Software, Inc.


	С появлением этих версий постепенно изменялся и формат файлов
гипертекста. Предлагаемый Вам компилятор создает гипертекст в формате
программы (2), но для полноты картины стоит проследить эволюцию
форматов и программ. Программу (1) и ее формат я рассматриваю как
базовые, у меня нет сведений, распространялись ли более ранние версии
(логично предположить, что раз номер версии 2.1, то мог быть и 2.0,
или, допустим, 1.0). Программа (2) поддерживает несколько другой
формат и уже не может обрабатывать файлы формата (1), впрочем как и
все последующие версии. Программа (3) принесла в старый формат ряд
улучшений, сохранив при этом совместимость снизу вверх - она работает
и с файлами программы (2).

	Программа (1) и ее формат были уложены на лопатки и повсеместно
вытеснены новыми версиями. Ее еще можно увидеть кое-где у "русскоязычных"
программистов, но только благодаря переведенной на русский язык базе
"Tech HELP! Text Version 3.2a".

	Как готовить файлы для компилятора JOKER HELP!MAKER
	▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀

	Создание исходного файла для компиляции в гипертекст из
обычного текстового файла требует минимальных усилий. Что от Вас
требуется? Указать разбиение теста на главы и расставить в тексте
по своему желанию ссылки.
	Чтобы создать главу, необходимо в первой позиции строки
поместить символ с кодом 0x12 ("зеркальце" - ). Это можно сделать
Alt-вводом или через Ctrl-L. Если в Вашем редакторе этот код
воспринимается, как команда, то среди команд редактора должна быть
и команда "воспринять следующий код, как обычный символ" (чаще всего
это Ctrl-P или Ctrl-Q). Весь текст в этой строке будет воспринят как
название данной главы. Глава - это все, что находится между соседними
метками глав, символами 0x12. Кстати, строки от начала файла до первой
метки главы образуют заставку - это тот первый экран, который покажет
Вам HELP, предлагая при этом нажимать на клавишу...
	Как создать гипертекстовую ссылку на определенную главу?
Для этого текст, который будет служить ссылкой, нужно просто выделить
символами тильда (~). Единственное требование - текст гиперссылки
должен быть начальной подстрокой названия главы-адресата. Пусть у Вас
есть глава с названием "DR-DOS 6.0 - отличия от других версий DOS".
Тогда любой из вариантов

			~DR-DOS~
			~DR-DOS 6.0~
			~DR-DOS 6.0 - отличия~

приведет к созданию ссылки на эту главу, в то время как текст

			~DOS фирмы Digital Research~

компилятор не сможет преобразовать в нужную ссылку (в последующих
версиях компилятора это ограничение будет снято).
	Если компилятор не сможет найти главу-адресата ссылки, то
ссылка все-таки будет создана, но она будет вызывать переход на
главу 0 (этот номер имеет заставка).

	      Необязательные файлы управления компилятором
	      ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀

	При помощи JOKER HELP!MAKER Вы можете создавать гипертекстовые
базы намного более компактные, чем исходные тексты (при условии,
что в тексте достаточно много повторяющихся цепочек символов). Для
этого необходимо создать файл с именем исходного файла и расширением
.@@@ (в том же каталоге, где расположен исходный файл). В этом файле
должны находится самые часто встречающиеся в исходном тексте цепочки.
	Вы можете также управлять цветами создаваемой базы и задать
ее "строку идентификации" (это то название, которое Вы видите, нажав
F6 в программе HELP). Все эти параметры задаются в файле H!MAKE.INI
(просмотрите этот файл, думаю дополнительных объяснений не потребуется).

	1. Файл конфигурации базы H!MAKE.INI
	────────────────────────────────────
Вот пример реального файла конфигурации, который я использовал при
создании базы по прерываниям:
┌──────────────────────────────────┐
│[colors]                          │
│cursor = yellow on greenblue      │
│TexT = lblue on white             │
│link = yellow ON cyan             │
│Border = yellow                   │
│                                  │
│id = "Прерывания"                 │
└──────────────────────────────────┘
Названия цветов:
		00 - black	08 - grey
		01 - blue	09 - lblue
		02 - green	0A - lgreen
		03 - cyan	0B - lcyan
		04 - red	0C - lred
		05 - magenta	0D - lmagenta
		06 - brown	0E - yellow
		07 - white	0F - lwhite


			       Ограничения
			       ▀▀▀▀▀▀▀▀▀▀▀

Пока не реализованы:
	 возможность поместить в базу символы с маленькими
	  кодами (до 0x07)

Версии...
▀▀▀▀▀▀▀▀▀

	Вариант с ограниченной функциональностью, помещенный в часть B
СофтПанорамы 45, представлял себя как версию 0.4c-Бета. "Бета", как
водится, предупреждает о том, что программа не проходила комплексного
тестирования. Нулевой старший номер указывает на "предварительность"
данного выпуска программы ("pre-release"). В связи с появлением первого
пользователя этот же выпуск получил номер 1.00-Beta.
Дальнейшая история:

	v 1.00 - добавлены сообщения об ошибках в те места, где
		раньше программа просто вылетала с кодом ошибки
		(т.к. описания ошибочных ситуаций в документации
		еще не было, а часть выходного файла записывалась,
		это воспринималось, как сбой программы... :-(
		В связи с данной доработкой и реальной проверкой
		в "боевой обстановке" убрана пометка "Beta".

	v1.10 - теперь в создаваемые базы можно включать символ
		тильда ( ~ ). В связи с проектированием по принципу
		"Сначала лишь бы задышало..." это на первой взгляд
		непринципиальное изменение потребовало хорошей
		перетряски подпрограмм чтения и буферизации ввода.

		Мелочь: чтобы пользователь не скучал, выдается
		сообщение о начале каждого прохода.  :-)

	v1.11 - проверяется, совпадают ли имена входного и выходного
		файлов. Добавлено после обидной потери файла:
		он был без расширения, а при указании выходного я
		вместо точки нажал запятую...  :-(

	v1.12 - убрана проверка из v1.11, вместо этого выходному файлу
		насильственно устанавливается расширение ".H!".
		Дальнейшая забота о спокойствии	пользователя:
		на каждом проходе выводится номер обрабатываемой
		в данный момент строки.

	v2.00 - Добавлено много чего хорошего. Изменения версий 1.х
		носили характер исправлений, с версии 2.0 пришла пора
		улучшений.
		Для каждой строки в файле свертки выдается число байт,
		на которое она уменьшает размер базы. Все это идет в
		stdout, в связи с чем остальные сообщения теперь идут
		в stderr.
		Самое крупное улучшение: уже не обязательно держать весь
		исходный текст в одном файле. В командной строке можно
		ссылаться на файл со списком входных файлов...

	v2.01 - Статистика по ужатию базы выдается не на stdout, а в
		файл с именем выходного файла и расширением .STA

	v3.00 - Создаваемая база может содержать более 253 глав.
		Если это число не превышено - все как и раньше, иначе -
		создается база в новом (Display Engine Version 4) формате.
		Теоретически создаваемая база может иметь до 64K-3 глав,
		данная версия имеет ограничение в 512 глав.

Авторство
▀▀▀▀▀▀▀▀▀
	Программа создания гипертекстовых баз данных в формате
"Help!" Дэна Роллинса (версия 3.0 Help! Display Engine) написана
Виктором Форсюком (г.Киев). Высказать свои замечания, предложения,
обругать при обнаружении ошибок и узнать о способах официального
приобретения сей программки Вы можете по телефонам:
	261-83-55 (р. - в рабочие дни до 22.00)
	220-94-06 (р. - в суботу и воскресенье)

	"JOKER" - название, указывающее на принадлежность программы
автору (некий аналог TradeMark). Большая просьба ко всем,
кто ищет названия для своих программных продуктов - не выбирать
имя "JOKER".
 -------------------------------------------------------------------
		...Даже если мне повезет
		и в моей руке будет туз, в твоей будет ДЖОКЕР.

						( Армен Григорян )
 -------------------------------------------------------------------
Примечение редактора:
   Приводимый в качестве примера база по прерываниям перемещена редактором
в выпуск C (см. SP47c\FORUM\FORSJUK в связи с "теснотой" выпуска А.    
Составитель приносит свои извинения Виктору Форсюку с связи с нарушением
комплекности переданных в редакцию материалов в процессе публикации.
                                                                    Б.Н.Н.